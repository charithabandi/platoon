cscope 15 $HOME/src/plexe-plexe-3.0/src/plexe               0000396655
	@CC_Const.h

21 #iâdeà
CC_CONST_H


22 
	#CC_CONST_H


	)

24 
	~<¡ršg
>

25 
	~<s¡»am
>

27 
	gÇme¥aû
 {

28 cÚ¡ 
	g¡d
::
¡ršg
 
·¿m‘”_´efix
 = "carFollowModel.";

31 
	#LOG
 
EV_INFO


	)

33 
Çme¥aû
 
	g¶exe
 {

38 
	ePLATOONING_LANE_CHANGE_ACTION
 {

39 
	gDRIVER_CHOICE
 = 0,

40 
	gSTAY_IN_CURRENT_LANE
 = 3,

41 
	gMOVE_TO_FIXED_LANE
 = 4

47 
	#FIX_LC
 0b1000000000

	)

48 
	#FIX_LC_AGGRESSIVE
 0b0000000000

	)

49 
	#DEFAULT_NOTRACI_LC
 0b1010101010

	)

56 
	eACTIVE_CONTROLLER
 {

57 
	gDRIVER
 = 0,

58 
	gACC
 = 1,

59 
	gCACC
 = 2,

60 
	gFAKED_CACC
 = 3,

61 
	gPLOEG
 = 4,

62 
	gCONSENSUS
 = 5,

63 
	gFLATBED
 = 6

70 
	sCCD©aH—d”
 {

71 
	gty³
;

72 
	gsize
;

78 
	sVEHICLE_DATA
 {

79 
	gšdex
;

80 
	g¥“d
;

81 
	gacûË¿tiÚ
;

82 
	gpos™iÚX
;

83 
	gpos™iÚY
;

84 
	gtime
;

85 
	gËngth
;

86 
	gu
;

87 
	g¥“dX
;

88 
	g¥“dY
;

89 
	gªgË
;

92 
	#MAX_N_CARS
 8

	)

94 
	#CC_ENGINE_MODEL_FOLM
 0x00

95 
	#CC_ENGINE_MODEL_REALISTIC
 0x01

96 

	)

98 
	#FOLM_PAR_TAU
 (
·¿m‘”_´efix
 + "u_s")

	)

99 
	#FOLM_PAR_DT
 (
·¿m‘”_´efix
 + "dt_s")

	)

101 
	#ENGINE_PAR_VEHICLE
 (
·¿m‘”_´efix
 + "vehişe")

	)

102 
	#ENGINE_PAR_XMLFILE
 (
·¿m‘”_´efix
 + "xmlFe")

	)

103 
	#ENGINE_PAR_DT
 (
·¿m‘”_´efix
 + "dt_s")

	)

105 
	#CC_PAR_VEHICLE_DATA
 (
·¿m‘”_´efix
 + "ccvd")

106 
	#CC_PAR_VEHICLE_POSITION
 (
·¿m‘”_´efix
 + "ccvp")

107 
	#CC_PAR_PLATOON_SIZE
 (
·¿m‘”_´efix
 + "ccps")

108 

	)

110 
	#CC_PAR_CACC_XI
 (
·¿m‘”_´efix
 + "ccxi")

111 
	#CC_PAR_CACC_OMEGA_N
 (
·¿m‘”_´efix
 + "ccon")

112 
	#CC_PAR_CACC_C1
 (
·¿m‘”_´efix
 + "ccc1")

113 
	#CC_PAR_ENGINE_TAU
 (
·¿m‘”_´efix
 + "cctau")

114 

	)

115 
	#CC_PAR_UMIN
 (
·¿m‘”_´efix
 + "ccumin")

116 
	#CC_PAR_UMAX
 (
·¿m‘”_´efix
 + "ccumax")

117 

	)

118 
	#CC_PAR_PLOEG_H
 (
·¿m‘”_´efix
 + "ccph")

119 
	#CC_PAR_PLOEG_KP
 (
·¿m‘”_´efix
 + "ccpkp")

120 
	#CC_PAR_PLOEG_KD
 (
·¿m‘”_´efix
 + "ccpkd")

121 

	)

122 
	#CC_PAR_FLATBED_KA
 (
·¿m‘”_´efix
 + "ccfka")

123 
	#CC_PAR_FLATBED_KV
 (
·¿m‘”_´efix
 + "ccfkv")

124 
	#CC_PAR_FLATBED_KP
 (
·¿m‘”_´efix
 + "ccfkp")

125 
	#CC_PAR_FLATBED_H
 (
·¿m‘”_´efix
 + "ccfh")

126 
	#CC_PAR_FLATBED_D
 (
·¿m‘”_´efix
 + "ccfd")

127 

	)

128 
	#CC_PAR_VEHICLE_ENGINE_MODEL
 (
·¿m‘”_´efix
 + "ccem")

129 

	)

130 
	#CC_PAR_VEHICLE_MODEL
 (
·¿m‘”_´efix
 + "ccvm")

131 
	#CC_PAR_VEHICLES_FILE
 (
·¿m‘”_´efix
 + "ccvf")

132 

	)

134 
	#PAR_CACC_SPACING
 (
·¿m‘”_´efix
 + "cc¥")

	)

137 
	#PAR_ACC_ACCELERATION
 (
·¿m‘”_´efix
 + "cÿcc")

	)

140 
	#PAR_CRASHED
 (
·¿m‘”_´efix
 + "ccü")

	)

143 
	#PAR_FIXED_ACCELERATION
 (
·¿m‘”_´efix
 + "ccç")

	)

146 
	#PAR_SPEED_AND_ACCELERATION
 (
·¿m‘”_´efix
 + "cc§")

	)

149 
	#PAR_LEADER_SPEED_AND_ACCELERATION
 (
·¿m‘”_´efix
 + "cş§")

	)

152 
	#PAR_USE_CONTROLLER_ACCELERATION
 (
·¿m‘”_´efix
 + "ccÿ")

	)

155 
	#PAR_LANES_COUNT
 (
·¿m‘”_´efix
 + "cşc")

	)

158 
	#PAR_CC_DESIRED_SPEED
 (
·¿m‘”_´efix
 + "ccds")

	)

161 
	#PAR_ACTIVE_CONTROLLER
 (
·¿m‘”_´efix
 + "cÿc")

	)

164 
	#PAR_CC_INSTALLED
 (
·¿m‘”_´efix
 + "ccci")

	)

167 
	#PAR_RADAR_DATA
 (
·¿m‘”_´efix
 + "cüd")

	)

172 
	#PAR_LEADER_FAKE_DATA
 (
·¿m‘”_´efix
 + "cşfd")

	)

173 
	#PAR_FRONT_FAKE_DATA
 (
·¿m‘”_´efix
 + "ccffd")

	)

176 
	#PAR_DISTANCE_TO_END
 (
·¿m‘”_´efix
 + "ccd‹")

	)

179 
	#PAR_DISTANCE_FROM_BEGIN
 (
·¿m‘”_´efix
 + "ccdfb")

	)

182 
	#PAR_PRECEDING_SPEED_AND_ACCELERATION
 (
·¿m‘”_´efix
 + "cı§")

	)

185 
	#PAR_ACC_HEADWAY_TIME
 (
·¿m‘”_´efix
 + "cÿht")

	)

188 
	#PAR_ENGINE_DATA
 (
·¿m‘”_´efix
 + "cûd")

	)

191 
	#PAR_USE_AUTO_FEEDING
 (
·¿m‘”_´efix
 + "cÿf")

	)

194 
	#PAR_USE_PREDICTION
 (
·¿m‘”_´efix
 + "ccup")

	)

197 
	#PAR_ADD_MEMBER
 (
·¿m‘”_´efix
 + "cÿm")

	)

198 
	#PAR_REMOVE_MEMBER
 (
·¿m‘”_´efix
 + "cüm")

	)

201 
	#PAR_ENABLE_AUTO_LANE_CHANGE
 (
·¿m‘”_´efix
 + "cÿlc")

	)

	@PlexeManager.cc

21 
	~"PËxeMªag”.h
"

23 
	~"¶exe/mob™y/CommªdIÁ”çû.h
"

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
PËxeMªag”
);

29 
	gPËxeMªag”
::
š™Ÿlize
(
¡age
)

31 cÚ¡‡utØ
sûÇrioMªag”
 = 
vešs
::
T¿CISûÇrioMªag”Acûss
().
g‘
();

32 
ASSERT
(
sûÇrioMªag”
);

34 ià(
	gsûÇrioMªag”
->
isU§bË
()) {

35 
š™ŸlizeCommªdIÁ”çû
();

38 autØ
	gš™
 = [
this
](
vešs
::
SigÇlPaylßd
<
boŞ
>è{ 
š™ŸlizeCommªdIÁ”çû
(); };

39 
	gsigÇlMªag”
.
subsüibeC®lback
(
sûÇrioMªag”
, 
vešs
::
T¿CISûÇrioMªag”
::
ŒaciIn™ŸlizedSigÇl
, 
š™
);

43 
	gPËxeMªag”
::
š™ŸlizeCommªdIÁ”çû
()

45 cÚ¡‡utØ
sûÇrioMªag”
 = 
vešs
::
T¿CISûÇrioMªag”Acûss
().
g‘
();

46 
ASSERT
(
sûÇrioMªag”
);

47 
	gcommªdIÁ”çû
.
»£t
(
Ãw
 
Œaci
::
CommªdIÁ”çû
(
this
, 
sûÇrioMªag”
->
g‘CommªdIÁ”çû
(), sûÇrioMªag”->
g‘CÚÃùiÚ
()));

49 autØ
	gtime¡•
 = [
this
](
vešs
::
SigÇlPaylßd
<
simtime_t
 cÚ¡&>è{ 
commªdIÁ”çû
->
execu‹PËxeTime¡•
(); };

50 
	gsigÇlMªag”
.
subsüibeC®lback
(
sûÇrioMªag”
, 
vešs
::
T¿CISûÇrioMªag”
::
ŒaciTime¡•EndSigÇl
, 
time¡•
);

	@PlexeManager.h

21 #´agm¨
Úû


23 
	~<¶exe/¶exe.h
>

25 
	~<vešs/moduËs/mob™y/Œaci/T¿CISûÇrioMªag”.h
>

26 
	~<vešs/moduËs/mob™y/Œaci/T¿CICommªdIÁ”çû.h
>

27 
	~<vešs/moduËs/ut™y/SigÇlMªag”.h
>

29 
	~<¶exe/mob™y/CommªdIÁ”çû.h
>

31 
Çme¥aû
 
	g¶exe
 {

33 şas 
	cPËxeMªag”
 : 
public
 
cSim¶eModuË
 {

34 
public
:

35 
š™Ÿlize
(
¡age
è
ov”ride
;

40 
	gŒaci
::
CommªdIÁ”çû
* 
g‘CommªdIÁ”çû
()

42  
commªdIÁ”çû
.
g‘
();

45 
	g´iv©e
:

46 
š™ŸlizeCommªdIÁ”çû
();

48 
	g¡d
::
unique_±r
<
Œaci
::
CommªdIÁ”çû
> 
commªdIÁ”çû
;

49 
	gvešs
::
SigÇlMªag”
 
sigÇlMªag”
;

	@apps/BaseApp.cc

21 
	~"¶exe/­ps/Ba£Aµ.h
"

23 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

24 
	~"vešs/ba£/mes§ges/MacPkt_m.h
"

25 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

26 
	~"vešs/ba£/uts/FšdModuË.h
"

28 
	~"¶exe/´ÙocŞs/Ba£PrÙocŞ.h
"

29 
	~"¶exe/PËxeMªag”.h
"

31 
usšg
 
Çme¥aû
 
	gvešs
;

33 
Çme¥aû
 
	g¶exe
 {

35 
Defše_ModuË
(
Ba£Aµ
);

37 
	gBa£Aµ
::
š™Ÿlize
(
¡age
)

40 
Ba£AµlLay”
::
š™Ÿlize
(
¡age
);

42 ià(
	g¡age
 == 0) {

45 
di¡ªûOut
.
£tName
("distance");

47 
	g»lS³edOut
.
£tName
("relativeSpeed");

49 
	gnodeIdOut
.
£tName
("nodeId");

51 
	g¥“dOut
.
£tName
("speed");

53 
	gposxOut
.
£tName
("posx");

54 
	gposyOut
.
£tName
("posy");

56 
	gacûË¿tiÚOut
.
£tName
("acceleration");

57 
	gcÚŒŞËrAcûË¿tiÚOut
.
£tName
("controllerAcceleration");

60 ià(
	g¡age
 == 1) {

61 
mob™y
 = 
vešs
::
T¿CIMob™yAcûss
().
g‘
(
g‘P¬’tModuË
());

62 
	gŒaci
 = 
mob™y
->
g‘CommªdIÁ”çû
();

63 
	gŒaciVehişe
 = 
mob™y
->
g‘VehişeCommªdIÁ”çû
();

64 autØ
	g¶exe
 = 
FšdModuË
<
PËxeMªag”
*>::
fšdGlob®ModuË
();

65 
ASSERT
(
¶exe
);

66 
	g¶exeT¿ci
 = 
¶exe
->
g‘CommªdIÁ”çû
();

67 
	g¶exeT¿ciVehişe
.
»£t
(
Ãw
 
Œaci
::
CommªdIÁ”çû
::
Vehişe
(
¶exeT¿ci
, 
mob™y
->
g‘Ex‹º®Id
()));

68 
	gpos™iÚH–³r
 = 
FšdModuË
<
Ba£Pos™iÚH–³r
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

69 
	g´ÙocŞ
 = 
FšdModuË
<
Ba£PrÙocŞ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

70 
	gmyId
 = 
pos™iÚH–³r
->
g‘Id
();

73 
	g´ÙocŞ
->
»gi¡”AµliÿtiÚ
(
Ba£PrÙocŞ
::
BEACON_TYPE
, 
g©e
("lowerLayerIn"), gate("lowerLayerOut"), gate("lowerControlIn"), gate("lowerControlOut"));

75 
	g»cÜdD©a
 = 
Ãw
 
cMes§ge
("recordData");

77 
SimTime
 
	grounded
 = SimTime(
æoÜ
(
simTime
().
dbl
(è* 1000 + 100), 
SIMTIME_MS
);

78 
scheduËAt
(
rounded
, 
»cÜdD©a
);

82 
	gBa£Aµ
::~
Ba£Aµ
()

84 
ÿnûlAndD–‘e
(
»cÜdD©a
);

85 
	g»cÜdD©a
 = 
nuÎ±r
;

86 
ÿnûlAndD–‘e
(
¡İSimuÏtiÚ
);

87 
	g¡İSimuÏtiÚ
 = 
nuÎ±r
;

90 
	gBa£Aµ
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

92 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

94 
cPack‘
* 
	g’c
 = 
äame
->
deÿpsuÏ‹
();

95 
ASSERT2
(
’c
, "received‡ BaseFrame1609_4 with‚othing inside");

97 ià(
	g’c
->
g‘Kšd
(è=ğ
Ba£PrÙocŞ
::
BEACON_TYPE
) {

98 
ÚPÏtoÚB—cÚ
(
check_ªd_ÿ¡
<
PÏtoÚšgB—cÚ
*>(
’c
));

101 
”rÜ
("received unknown messageype");

104 
d–‘e
 
	gäame
;

107 
	gBa£Aµ
::
logVehişeD©a
(
boŞ
 
üashed
)

110 
di¡ªû
, 
	g»lS³ed
;

111 
VEHICLE_DATA
 
	gd©a
;

112 
	g¶exeT¿ciVehişe
->
g‘Rad¬M—su»m’ts
(
di¡ªû
, 
»lS³ed
);

113 
	g¶exeT¿ciVehişe
->
g‘VehişeD©a
(&
d©a
);

114 ià(
	güashed
) {

115 
	gdi¡ªû
 = 0;

116 
	g¡İSimuÏtiÚ
 = 
Ãw
 
cMes§ge
("stopSimulation");

117 
scheduËAt
(
simTime
(è+ 
SimTime
(1, 
SIMTIME_MS
), 
¡İSimuÏtiÚ
);

120 
	gdi¡ªûOut
.
»cÜd
(
di¡ªû
);

121 
	g»lS³edOut
.
»cÜd
(
»lS³ed
);

122 
	gnodeIdOut
.
»cÜd
(
myId
);

123 
	gacûË¿tiÚOut
.
»cÜd
(
d©a
.
acûË¿tiÚ
);

124 
	gcÚŒŞËrAcûË¿tiÚOut
.
»cÜd
(
d©a
.
u
);

125 
	g¥“dOut
.
»cÜd
(
d©a
.
¥“d
);

126 
	gposxOut
.
»cÜd
(
d©a
.
pos™iÚX
);

127 
	gposyOut
.
»cÜd
(
d©a
.
pos™iÚY
);

130 
	gBa£Aµ
::
hªdËLow”CÚŒŞ
(
cMes§ge
* 
msg
)

132 
d–‘e
 
msg
;

135 
	gBa£Aµ
::
£ndF¿me
(
cPack‘
* 
msg
, 
de¡š©iÚ
)

137 
Ba£F¿me1609_4
* 
	gäame
 = 
Ãw
 BaseFrame1609_4();

138 
	gäame
->
£tRec›ÁAdd»ss
(
de¡š©iÚ
);

139 
	gäame
->
’ÿpsuÏ‹
(
msg
);

140 
£ndDown
(
äame
);

143 
	gBa£Aµ
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

145 ià(
msg
 =ğ
»cÜdD©a
) {

147 
logVehişeD©a
(
¶exeT¿ciVehişe
->
isC¿shed
());

149 
scheduËAt
(
simTime
(è+ 
SimTime
(100, 
SIMTIME_MS
), 
»cÜdD©a
);

151 ià(
	gmsg
 =ğ
¡İSimuÏtiÚ
) {

152 
’dSimuÏtiÚ
();

156 
	gBa£Aµ
::
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
)

158 ià(
pos™iÚH–³r
->
isInSamePÏtoÚ
(
pb
->
g‘VehişeId
())) {

160 ià(
pb
->
g‘VehişeId
(è=ğ
pos™iÚH–³r
->
g‘L—d”Id
()) {

161 
¶exeT¿ciVehişe
->
£tL—d”VehişeD©a
(
pb
->
g‘CÚŒŞËrAcûË¿tiÚ
(),…b->
g‘AcûË¿tiÚ
(),…b->
g‘S³ed
(),…b->
g‘Pos™iÚX
(),…b->
g‘Pos™iÚY
(),…b->
g‘Time
());

164 ià(
	gpb
->
g‘VehişeId
(è=ğ
pos™iÚH–³r
->
g‘FrÚtId
()) {

165 
¶exeT¿ciVehişe
->
£tFrÚtVehişeD©a
(
pb
->
g‘CÚŒŞËrAcûË¿tiÚ
(),…b->
g‘AcûË¿tiÚ
(),…b->
g‘S³ed
(),…b->
g‘Pos™iÚX
(),…b->
g‘Pos™iÚY
(),…b->
g‘Time
());

168 
VEHICLE_DATA
 
	gvehişeD©a
;

169 
	gvehişeD©a
.
	gšdex
 = 
pos™iÚH–³r
->
g‘Memb”Pos™iÚ
(
pb
->
g‘VehişeId
());

170 
	gvehişeD©a
.
	gacûË¿tiÚ
 = 
pb
->
g‘AcûË¿tiÚ
();

171 
	gvehişeD©a
.
	gËngth
 = 
pb
->
g‘L’gth
();

172 
	gvehişeD©a
.
	gpos™iÚX
 = 
pb
->
g‘Pos™iÚX
();

173 
	gvehişeD©a
.
	gpos™iÚY
 = 
pb
->
g‘Pos™iÚY
();

174 
	gvehişeD©a
.
	g¥“d
 = 
pb
->
g‘S³ed
();

175 
	gvehişeD©a
.
	gtime
 = 
pb
->
g‘Time
();

176 
	gvehişeD©a
.
	gu
 = 
pb
->
g‘CÚŒŞËrAcûË¿tiÚ
();

177 
	gvehişeD©a
.
	g¥“dX
 = 
pb
->
g‘S³edX
();

178 
	gvehişeD©a
.
	g¥“dY
 = 
pb
->
g‘S³edY
();

179 
	gvehişeD©a
.
	gªgË
 = 
pb
->
g‘AngË
();

181 
	g¶exeT¿ciVehişe
->
£tVehişeD©a
(&
vehişeD©a
);

183 
d–‘e
 
	gpb
;

	@apps/BaseApp.h

21 #iâdeà
BASEAPP_H_


22 
	#BASEAPP_H_


	)

24 
	~"vešs/ba£/moduËs/Ba£AµlLay”.h
"

25 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

27 
	~"¶exe/CC_CÚ¡.h
"

28 
	~"¶exe/mes§ges/PÏtoÚšgB—cÚ_m.h
"

29 
	~"¶exe/mob™y/CommªdIÁ”çû.h
"

30 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

32 
Çme¥aû
 
	g¶exe
 {

34 
şass
 
	gBa£PrÙocŞ
;

36 şas 
	cBa£Aµ
 : 
public
 
vešs
::
Ba£AµlLay”
 {

38 
public
:

39 
vœtu®
 
š™Ÿlize
(
¡age
è
ov”ride
;

41 
	g´Ùeùed
:

43 
myId
;

45 
	gvešs
::
T¿CIMob™y
* 
mob™y
;

46 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

47 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

48 
	gŒaci
::
CommªdIÁ”çû
* 
¶exeT¿ci
;

49 
	g¡d
::
unique_±r
<
Œaci
::
CommªdIÁ”çû
::
Vehişe
> 
¶exeT¿ciVehişe
;

52 
Ba£Pos™iÚH–³r
* 
	gpos™iÚH–³r
;

55 
Ba£PrÙocŞ
* 
	g´ÙocŞ
;

60 
vœtu®
 
logVehişeD©a
(
boŞ
 
üashed
 = 
çl£
);

64 
cOutVeùÜ
 
	gnodeIdOut
;

66 
cOutVeùÜ
 
	gdi¡ªûOut
, 
	g»lS³edOut
;

68 
cOutVeùÜ
 
	g¥“dOut
, 
	gposxOut
, 
	gposyOut
;

70 
cOutVeùÜ
 
	gacûË¿tiÚOut
, 
	gcÚŒŞËrAcûË¿tiÚOut
;

73 
cMes§ge
* 
	g»cÜdD©a
;

75 
cMes§ge
* 
	g¡İSimuÏtiÚ
;

77 
	gpublic
:

78 
Ba£Aµ
()

80 
»cÜdD©a
 = 0;

81 
	g¡İSimuÏtiÚ
 = 
nuÎ±r
;

83 
	gvœtu®
 ~
Ba£Aµ
();

91 
£ndF¿me
(
cPack‘
* 
msg
, 
de¡š©iÚ
);

93 
	g´Ùeùed
:

94 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
è
ov”ride
;

95 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
	gov”ride
;

96 
vœtu®
 
hªdËLow”CÚŒŞ
(
cMes§ge
* 
msg
è
	gov”ride
;

101 
vœtu®
 
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
);

	@apps/DeliberatePlatooningApp.cc

22 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

24 
	~"¶exe/´ÙocŞs/Ba£PrÙocŞ.h
"

25 
	~"vešs/moduËs/mob™y/Œaci/T¿CICŞÜ.h
"

26 
	~"vešs/moduËs/mob™y/Œaci/T¿CISûÇrioMªag”.h
"

27 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

28 
	~"vešs/moduËs/ut™y/CÚ¡s80211p.h
"

29 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

30 
	~"¶exe/mes§ges/PËxeIÁ”çûCÚŒŞInfo_m.h
"

31 
	~"vešs/ba£/uts/FšdModuË.h
"

33 
usšg
 
Çme¥aû
 
	gvešs
;

35 
Çme¥aû
 
	g¶exe
 {

37 
Defše_ModuË
(
G’”®PÏtoÚšgAµ
);

39 
	gG’”®PÏtoÚšgAµ
::
š™Ÿlize
(
¡age
)

41 
Ba£Aµ
::
š™Ÿlize
(
¡age
);

43 ià(
	g¡age
 == 1) {

45 
´ÙocŞ
->
»gi¡”AµliÿtiÚ
(
MANEUVER_TYPE
, 
g©e
("lowerLayerIn"), gate("lowerLayerOut"), gate("lowerControlIn"), gate("lowerControlOut"));

47 
fšdHo¡
()->
subsüibe
(
Mac1609_4
::
sigR‘r›sExûeded
, 
this
);

49 
	g¡d
::
¡ršg
 
jošMªeuv”Name
 = 
·r
("jošMªeuv”").
¡d¡ršgV®ue
();

50 ià(
	gjošMªeuv”Name
 == "JoinAtBack")

51 
jošMªeuv”
 = 
Ãw
 
JošAtBack
(
this
);

53 
throw
 
Ãw
 
cRuÁimeE¼Ü
("Invalid join maneuver implementation chosen");

55 
	g¡d
::
¡ršg
 
m”geMªeuv”Name
 = 
·r
("m”geMªeuv”").
¡d¡ršgV®ue
();

56 ià(
	gm”geMªeuv”Name
 == "MergeAtBack")

57 
m”geMªeuv”
 = 
Ãw
 
M”geAtBack
(
this
);

59 
throw
 
Ãw
 
cRuÁimeE¼Ü
("Invalid merge maneuver implementation chosen");

61 
	gsûÇrio
 = 
FšdModuË
<
Ba£SûÇrio
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

65 
	gG’”®PÏtoÚšgAµ
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

67 ià(
jošMªeuv”
 && jošMªeuv”->
hªdËS–fMsg
(
msg
)) ;

68 ià(
	gm”geMªeuv”
 && m”geMªeuv”->
hªdËS–fMsg
(
msg
)) ;

69 
	gBa£Aµ
::
hªdËS–fMsg
(
msg
);

72 
boŞ
 
	gG’”®PÏtoÚšgAµ
::
isJošAÎowed
() const

74  ((
rŞe
 =ğ
PÏtoÚRŞe
::
LEADER
 ||„Ş=ğPÏtoÚRŞe::
NONE
è&& !
šMªeuv”
);

77 
ACTIVE_CONTROLLER
 
	gG’”®PÏtoÚšgAµ
::
g‘CÚŒŞËr
()

79  
sûÇrio
->
g‘CÚŒŞËr
();

82 
	gG’”®PÏtoÚšgAµ
::
g‘T¬g‘Di¡ªû
(
¥“d
)

84  
sûÇrio
->
g‘T¬g‘Di¡ªû
(
¥“d
);

87 
	gG’”®PÏtoÚšgAµ
::
¡¬tJošMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
)

89 
ASSERT
(
g‘PÏtoÚRŞe
(è=ğ
PÏtoÚRŞe
::
NONE
);

90 
ASSERT
(!
isInMªeuv”
());

92 
JošMªeuv”P¬am‘”s
 
	g·¿ms
;

93 
	g·¿ms
.
	g¶©oÚId
 = 
¶©oÚId
;

94 
	g·¿ms
.
	gËad”Id
 = 
Ëad”Id
;

95 
	g·¿ms
.
	gpos™iÚ
 = 
pos™iÚ
;

96 
	gjošMªeuv”
->
¡¬tMªeuv”
(&
·¿ms
);

99 
	gG’”®PÏtoÚšgAµ
::
¡¬tM”geMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
)

101 
ASSERT
(
g‘PÏtoÚRŞe
(è=ğ
PÏtoÚRŞe
::
LEADER
);

102 
ASSERT
(!
isInMªeuv”
());

104 
JošMªeuv”P¬am‘”s
 
	g·¿ms
;

105 
	g·¿ms
.
	g¶©oÚId
 = 
¶©oÚId
;

106 
	g·¿ms
.
	gËad”Id
 = 
Ëad”Id
;

107 
	g·¿ms
.
	gpos™iÚ
 = 
pos™iÚ
;

108 
	gm”geMªeuv”
->
¡¬tMªeuv”
(&
·¿ms
);

111 
	gG’”®PÏtoÚšgAµ
::
£ndUniÿ¡
(
cPack‘
* 
msg
, 
de¡š©iÚ
)

113 
EÁ”_M‘hod_S’t
();

114 
ke
(
msg
);

115 
Ba£F¿me1609_4
* 
	gäame
 = 
Ãw
 Ba£F¿me1609_4("Ba£F¿me1609_4", 
msg
->
g‘Kšd
());

116 
	gäame
->
£tRec›ÁAdd»ss
(
de¡š©iÚ
);

117 
	gäame
->
£tChªÃlNumb”
(
¡©ic_ÿ¡
<>(
ChªÃl
::
cch
));

118 
	gäame
->
’ÿpsuÏ‹
(
msg
);

120 
PËxeIÁ”çûCÚŒŞInfo
* 
	gù¾
 = 
Ãw
 PlexeInterfaceControlInfo();

121 
	gù¾
->
£tIÁ”çûs
(
PËxeRadioIÁ”çûs
::
VEINS_11P
);

122 
	gäame
->
£tCÚŒŞInfo
(
ù¾
);

123 
£ndDown
(
äame
);

126 
	gG’”®PÏtoÚšgAµ
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

128 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

130 
cPack‘
* 
	g’c
 = 
äame
->
g‘EnÿpsuÏ‹dPack‘
();

131 
ASSERT2
(
’c
, "received‡ BaseFrame1609_4s with‚othing inside");

133 ià(
	g’c
->
g‘Kšd
(è=ğ
MANEUVER_TYPE
) {

134 
Mªeuv”Mes§ge
* 
mm
 = 
check_ªd_ÿ¡
<Mªeuv”Mes§ge*>(
äame
->
deÿpsuÏ‹
());

135 ià(
Upd©ePÏtoÚD©a
* 
	gmsg
 = 
dyÇmic_ÿ¡
<Upd©ePÏtoÚD©a*>(
mm
)) {

136 
hªdËUpd©ePÏtoÚD©a
(
msg
);

137 
d–‘e
 
	gmsg
;

139 ià(
Upd©ePÏtoÚFÜm©iÚ
* 
	gmsg
 = 
dyÇmic_ÿ¡
<Upd©ePÏtoÚFÜm©iÚ*>(
mm
)) {

140 
hªdËUpd©ePÏtoÚFÜm©iÚ
(
msg
);

141 
d–‘e
 
	gmsg
;

144 
ÚMªeuv”Mes§ge
(
mm
);

146 
d–‘e
 
	gäame
;

149 
	gBa£Aµ
::
hªdËLow”Msg
(
msg
);

153 
	gG’”®PÏtoÚšgAµ
::
hªdËUpd©ePÏtoÚD©a
(cÚ¡ 
Upd©ePÏtoÚD©a
* 
msg
)

155 ià(
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
FOLLOWER
) ;

156 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

157 ià(
	gmsg
->
g‘VehişeId
(è!ğ
pos™iÚH–³r
->
g‘L—d”Id
()) ;

159 
hªdËUpd©ePÏtoÚFÜm©iÚ
(
msg
);

160 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " chªgšg…ÏtoÚ id from " <<…os™iÚH–³r->
g‘PÏtoÚId
(è<< "Ø" << 
	gmsg
->
g‘NewPÏtoÚId
() << "\n";

161 
	gpos™iÚH–³r
->
£tPÏtoÚId
(
msg
->
g‘NewPÏtoÚId
());

164 
	gG’”®PÏtoÚšgAµ
::
hªdËUpd©ePÏtoÚFÜm©iÚ
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
)

166 ià(
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
FOLLOWER
) ;

167 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

168 ià(
	gmsg
->
g‘VehişeId
(è!ğ
pos™iÚH–³r
->
g‘L—d”Id
()) ;

171 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << " changing…latoon formation: ";

172 
	g¡d
::
veùÜ
<> 
f
;

173 
	gi
 = 0; i < 
	gmsg
->
g‘PÏtoÚFÜm©iÚA¼aySize
(); i++) {

174 
	gf
.
push_back
(
msg
->
g‘PÏtoÚFÜm©iÚ
(
i
));

175 
	gLOG
 << 
	gmsg
->
g‘PÏtoÚFÜm©iÚ
(
i
) << " ";

177 
	gLOG
 << "\n";

178 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
f
);

181 
	gG’”®PÏtoÚšgAµ
::
£tPÏtoÚRŞe
(
PÏtoÚRŞe
 
r
)

183 
rŞe
 = 
r
;

186 
	gG’”®PÏtoÚšgAµ
::
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
)

188 
jošMªeuv”
->
ÚPÏtoÚB—cÚ
(
pb
);

189 
	gm”geMªeuv”
->
ÚPÏtoÚB—cÚ
(
pb
);

191 
	gBa£Aµ
::
ÚPÏtoÚB—cÚ
(
pb
);

194 
	gG’”®PÏtoÚšgAµ
::
ÚMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
mm
)

196 ià(
aùiveMªeuv”
) {

197 
aùiveMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

200 
	gjošMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

201 
	gm”geMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

203 
d–‘e
 
	gmm
;

206 
	gG’”®PÏtoÚšgAµ
::
flMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
msg
, 
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
)

208 
	gmsg
->
£tKšd
(
MANEUVER_TYPE
);

209 
	gmsg
->
£tVehişeId
(
vehişeId
);

210 
	gmsg
->
£tEx‹º®Id
(
ex‹º®Id
.
c_¡r
());

211 
	gmsg
->
£tPÏtoÚId
(
¶©oÚId
);

212 
	gmsg
->
£tDe¡š©iÚId
(
de¡š©iÚId
);

215 
Upd©ePÏtoÚD©a
* 
	gG’”®PÏtoÚšgAµ
::
ü—‹Upd©ePÏtoÚD©a
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
, 
ÃwPÏtoÚId
)

217 
Upd©ePÏtoÚD©a
* 
	gmsg
 = 
Ãw
 UpdatePlatoonData("UpdatePlatoonData");

218 
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

219 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

220 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

221 
	gmsg
->
£tPÏtoÚFÜm©iÚA¼aySize
(
¶©oÚFÜm©iÚ
.
size
());

222 
	gi
 = 0; i < 
	g¶©oÚFÜm©iÚ
.
size
(); i++) {

223 
	gmsg
->
£tPÏtoÚFÜm©iÚ
(
i
, 
¶©oÚFÜm©iÚ
[i]);

225 
	gmsg
->
£tNewPÏtoÚId
(
ÃwPÏtoÚId
);

226  
	gmsg
;

229 
Upd©ePÏtoÚFÜm©iÚ
* 
	gG’”®PÏtoÚšgAµ
::
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
)

231 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
 = 
Ãw
 UpdatePlatoonFormation("UpdatePlatoonFormation");

232 
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

233 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

234 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

235 
	gmsg
->
£tPÏtoÚFÜm©iÚA¼aySize
(
¶©oÚFÜm©iÚ
.
size
());

236 
	gi
 = 0; i < 
	g¶©oÚFÜm©iÚ
.
size
(); i++) {

237 
	gmsg
->
£tPÏtoÚFÜm©iÚ
(
i
, 
¶©oÚFÜm©iÚ
[i]);

239  
	gmsg
;

242 
	gG’”®PÏtoÚšgAµ
::
»ûiveSigÇl
(
cCompÚ’t
* 
¤c
, 
simsigÇl_t
 
id
, 
cObjeù
* 
v®ue
, cObjeù* 
d‘as
)

244 ià(
	gid
 =ğ
Mac1609_4
::
sigR‘r›sExûeded
) {

245 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
v®ue
);

246 
Mªeuv”Mes§ge
* 
	gmm
 = 
check_ªd_ÿ¡
<Mªeuv”Mes§ge*>(
äame
->
g‘EnÿpsuÏ‹dPack‘
());

247 ià(
	gäame
) {

248 
	gjošMªeuv”
->
ÚFaedT¿nsmissiÚA‰em±
(
mm
);

249 
	gm”geMªeuv”
->
ÚFaedT¿nsmissiÚA‰em±
(
mm
);

254 
	gG’”®PÏtoÚšgAµ
::
scheduËS–fMsg
(
simtime_t
 
t
, 
cMes§ge
* 
msg
)

256 
scheduËAt
(
t
, 
msg
);

259 
	gG’”®PÏtoÚšgAµ
::~
G’”®PÏtoÚšgAµ
()

261 
d–‘e
 
jošMªeuv”
;

262 
d–‘e
 
	gm”geMªeuv”
;

	@apps/DeliberatePlatooningApp.h

22 #iâdeà
GENERALPLATOONAPP_H_


23 
	#GENERALPLATOONAPP_H_


	)

25 
	~<®gÜ™hm
>

26 
	~<memÜy
>

28 
	~"¶exe/­ps/Ba£Aµ.h
"

29 
	~"¶exe/mªeuv”/JošMªeuv”.h
"

30 
	~"¶exe/mªeuv”/JošAtBack.h
"

31 
	~"¶exe/mªeuv”/M”geAtBack.h
"

33 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

34 
	~"¶exe/mes§ges/Upd©ePÏtoÚD©a_m.h
"

36 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

38 
	~"vešs/moduËs/mob™y/Œaci/T¿CICÚ¡ªts.h
"

39 
	~"vešs/moduËs/ut™y/SigÇlMªag”.h
"

41 
Çme¥aû
 
	g¶exe
 {

44 şas 
	cPÏtoÚRŞe
 : 
size_t
 {

45 
NONE
,

46 
	gLEADER
,

47 
	gFOLLOWER
,

48 
	gJOINER


66 şas 
	cG’”®PÏtoÚšgAµ
 : 
public
 
Ba£Aµ
 {

68 
public
:

70 
G’”®PÏtoÚšgAµ
()

71 : 
šMªeuv”
(
çl£
)

72 , 
aùiveMªeuv”
(
nuÎ±r
)

73 , 
sûÇrio
(
nuÎ±r
)

74 , 
rŞe
(
PÏtoÚRŞe
::
NONE
)

75 , 
jošMªeuv”
(
nuÎ±r
)

76 , 
m”geMªeuv”
(
nuÎ±r
)

81 
	gvœtu®
 ~
G’”®PÏtoÚšgAµ
();

89 cÚ¡ 
	gPÏtoÚRŞe
& 
g‘PÏtoÚRŞe
() const

91  
	grŞe
;

100 
£tPÏtoÚRŞe
(
PÏtoÚRŞe
 
r
);

103 
vœtu®
 
š™Ÿlize
(
¡age
è
	gov”ride
;

106 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
	gov”ride
;

115 
¡¬tJošMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
);

124 
¡¬tM”geMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
);

127 
abÜtJošMªeuv”
();

133 
boŞ
 
isInMªeuv”
() const

135  
	gšMªeuv”
;

143 
£tInMªeuv”
(
boŞ
 
b
, 
Mªeuv”
* 
mªeuv”
)

145 
	gšMªeuv”
 = 
b
;

146 ià(
	gšMªeuv”
)

147 
	gaùiveMªeuv”
 = 
mªeuv”
;

149 
	gaùiveMªeuv”
 = 
nuÎ±r
;

152 
Ba£Pos™iÚH–³r
* 
g‘Pos™iÚH–³r
()

154  
	gpos™iÚH–³r
;

157 
	gvešs
::
T¿CIMob™y
* 
g‘Mob™y
()

159  
mob™y
;

162 
	gvešs
::
T¿CICommªdIÁ”çû
* 
g‘T¿ci
()

164  
Œaci
;

167 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
g‘T¿ciVehişe
()

169  
ŒaciVehişe
;

172 
	gŒaci
::
CommªdIÁ”çû
* 
g‘PËxeT¿ci
()

174  
¶exeT¿ci
;

177 
	gŒaci
::
CommªdIÁ”çû
::
Vehişe
* 
g‘PËxeT¿ciVehişe
()

179  
¶exeT¿ciVehişe
.
g‘
();

189 
vœtu®
 
£ndUniÿ¡
(
cPack‘
* 
msg
, 
de¡š©iÚ
);

199 
flMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
msg
, 
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

211 
Upd©ePÏtoÚFÜm©iÚ
* 
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
);

224 
Upd©ePÏtoÚD©a
* 
ü—‹Upd©ePÏtoÚD©a
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
, 
ÃwPÏtoÚId
);

232 
vœtu®
 
hªdËUpd©ePÏtoÚD©a
(cÚ¡ 
Upd©ePÏtoÚD©a
* 
msg
);

240 
vœtu®
 
hªdËUpd©ePÏtoÚFÜm©iÚ
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
);

242 
boŞ
 
isJošAÎowed
() const;

247 
ACTIVE_CONTROLLER
 
g‘CÚŒŞËr
();

252 
g‘T¬g‘Di¡ªû
(
¥“d
);

254 
	g´Ùeùed
:

256 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
è
ov”ride
;

263 
vœtu®
 
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
è
	gov”ride
;

270 
vœtu®
 
ÚMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
mm
);

273 
boŞ
 
	gšMªeuv”
;

275 
Mªeuv”
* 
	gaùiveMªeuv”
;

278 
vœtu®
 
»ûiveSigÇl
(
cCompÚ’t
* 
¤c
, 
simsigÇl_t
 
id
, 
cObjeù
* 
v®ue
, cObjeù* 
d‘as
è
	gov”ride
;

281 
vœtu®
 
scheduËS–fMsg
(
simtime_t
 
t
, 
cMes§ge
* 
msg
);

283 
Ba£SûÇrio
* 
	gsûÇrio
;

285 
	g´iv©e
:

287 
PÏtoÚRŞe
 
rŞe
;

289 
JošMªeuv”
* 
	gjošMªeuv”
;

291 
JošMªeuv”
* 
	gm”geMªeuv”
;

	@apps/GeneralPlatooningApp.cc

22 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

24 
	~"¶exe/´ÙocŞs/Ba£PrÙocŞ.h
"

25 
	~"vešs/moduËs/mob™y/Œaci/T¿CICŞÜ.h
"

26 
	~"vešs/moduËs/mob™y/Œaci/T¿CISûÇrioMªag”.h
"

27 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

28 
	~"vešs/moduËs/ut™y/CÚ¡s80211p.h
"

29 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

30 
	~"¶exe/mes§ges/PËxeIÁ”çûCÚŒŞInfo_m.h
"

31 
	~"vešs/ba£/uts/FšdModuË.h
"

33 
usšg
 
Çme¥aû
 
	gvešs
;

35 
Çme¥aû
 
	g¶exe
 {

37 
Defše_ModuË
(
G’”®PÏtoÚšgAµ
);

39 
	gG’”®PÏtoÚšgAµ
::
š™Ÿlize
(
¡age
)

41 
Ba£Aµ
::
š™Ÿlize
(
¡age
);

43 ià(
	g¡age
 == 1) {

45 
´ÙocŞ
->
»gi¡”AµliÿtiÚ
(
MANEUVER_TYPE
, 
g©e
("lowerLayerIn"), gate("lowerLayerOut"), gate("lowerControlIn"), gate("lowerControlOut"));

47 
fšdHo¡
()->
subsüibe
(
Mac1609_4
::
sigR‘r›sExûeded
, 
this
);

49 
	g¡d
::
¡ršg
 
jošMªeuv”Name
 = 
·r
("jošMªeuv”").
¡d¡ršgV®ue
();

50 ià(
	gjošMªeuv”Name
 == "JoinAtBack")

51 
jošMªeuv”
 = 
Ãw
 
JošAtBack
(
this
);

53 
throw
 
Ãw
 
cRuÁimeE¼Ü
("Invalid join maneuver implementation chosen");

55 
	g¡d
::
¡ršg
 
m”geMªeuv”Name
 = 
·r
("m”geMªeuv”").
¡d¡ršgV®ue
();

56 ià(
	gm”geMªeuv”Name
 == "MergeAtBack")

57 
m”geMªeuv”
 = 
Ãw
 
M”geAtBack
(
this
);

59 
throw
 
Ãw
 
cRuÁimeE¼Ü
("Invalid merge maneuver implementation chosen");

61 
	gsûÇrio
 = 
FšdModuË
<
Ba£SûÇrio
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

65 
	gG’”®PÏtoÚšgAµ
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

67 ià(
jošMªeuv”
 && jošMªeuv”->
hªdËS–fMsg
(
msg
)) ;

68 ià(
	gm”geMªeuv”
 && m”geMªeuv”->
hªdËS–fMsg
(
msg
)) ;

69 
	gBa£Aµ
::
hªdËS–fMsg
(
msg
);

72 
boŞ
 
	gG’”®PÏtoÚšgAµ
::
isJošAÎowed
() const

74  ((
rŞe
 =ğ
PÏtoÚRŞe
::
LEADER
 ||„Ş=ğPÏtoÚRŞe::
NONE
è&& !
šMªeuv”
);

77 
ACTIVE_CONTROLLER
 
	gG’”®PÏtoÚšgAµ
::
g‘CÚŒŞËr
()

79  
sûÇrio
->
g‘CÚŒŞËr
();

82 
	gG’”®PÏtoÚšgAµ
::
g‘T¬g‘Di¡ªû
(
¥“d
)

84  
sûÇrio
->
g‘T¬g‘Di¡ªû
(
¥“d
);

87 
	gG’”®PÏtoÚšgAµ
::
¡¬tJošMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
)

89 
ASSERT
(
g‘PÏtoÚRŞe
(è=ğ
PÏtoÚRŞe
::
NONE
);

90 
ASSERT
(!
isInMªeuv”
());

92 
JošMªeuv”P¬am‘”s
 
	g·¿ms
;

93 
	g·¿ms
.
	g¶©oÚId
 = 
¶©oÚId
;

94 
	g·¿ms
.
	gËad”Id
 = 
Ëad”Id
;

95 
	g·¿ms
.
	gpos™iÚ
 = 
pos™iÚ
;

96 
	gjošMªeuv”
->
¡¬tMªeuv”
(&
·¿ms
);

99 
	gG’”®PÏtoÚšgAµ
::
¡¬tM”geMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
)

101 
ASSERT
(
g‘PÏtoÚRŞe
(è=ğ
PÏtoÚRŞe
::
LEADER
);

102 
ASSERT
(!
isInMªeuv”
());

104 
JošMªeuv”P¬am‘”s
 
	g·¿ms
;

105 
	g·¿ms
.
	g¶©oÚId
 = 
¶©oÚId
;

106 
	g·¿ms
.
	gËad”Id
 = 
Ëad”Id
;

107 
	g·¿ms
.
	gpos™iÚ
 = 
pos™iÚ
;

108 
	gm”geMªeuv”
->
¡¬tMªeuv”
(&
·¿ms
);

111 
	gG’”®PÏtoÚšgAµ
::
£ndUniÿ¡
(
cPack‘
* 
msg
, 
de¡š©iÚ
)

113 
EÁ”_M‘hod_S’t
();

114 
ke
(
msg
);

115 
Ba£F¿me1609_4
* 
	gäame
 = 
Ãw
 Ba£F¿me1609_4("Ba£F¿me1609_4", 
msg
->
g‘Kšd
());

116 
	gäame
->
£tRec›ÁAdd»ss
(
de¡š©iÚ
);

117 
	gäame
->
£tChªÃlNumb”
(
¡©ic_ÿ¡
<>(
ChªÃl
::
cch
));

118 
	gäame
->
’ÿpsuÏ‹
(
msg
);

120 
PËxeIÁ”çûCÚŒŞInfo
* 
	gù¾
 = 
Ãw
 PlexeInterfaceControlInfo();

121 
	gù¾
->
£tIÁ”çûs
(
PËxeRadioIÁ”çûs
::
VEINS_11P
);

122 
	gäame
->
£tCÚŒŞInfo
(
ù¾
);

123 
£ndDown
(
äame
);

126 
	gG’”®PÏtoÚšgAµ
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

128 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

130 
cPack‘
* 
	g’c
 = 
äame
->
g‘EnÿpsuÏ‹dPack‘
();

131 
ASSERT2
(
’c
, "received‡ BaseFrame1609_4s with‚othing inside");

133 ià(
	g’c
->
g‘Kšd
(è=ğ
MANEUVER_TYPE
) {

134 
Mªeuv”Mes§ge
* 
mm
 = 
check_ªd_ÿ¡
<Mªeuv”Mes§ge*>(
äame
->
deÿpsuÏ‹
());

135 ià(
Upd©ePÏtoÚD©a
* 
	gmsg
 = 
dyÇmic_ÿ¡
<Upd©ePÏtoÚD©a*>(
mm
)) {

136 
hªdËUpd©ePÏtoÚD©a
(
msg
);

137 
d–‘e
 
	gmsg
;

139 ià(
Upd©ePÏtoÚFÜm©iÚ
* 
	gmsg
 = 
dyÇmic_ÿ¡
<Upd©ePÏtoÚFÜm©iÚ*>(
mm
)) {

140 
hªdËUpd©ePÏtoÚFÜm©iÚ
(
msg
);

141 
d–‘e
 
	gmsg
;

144 
ÚMªeuv”Mes§ge
(
mm
);

146 
d–‘e
 
	gäame
;

149 
	gBa£Aµ
::
hªdËLow”Msg
(
msg
);

153 
	gG’”®PÏtoÚšgAµ
::
hªdËUpd©ePÏtoÚD©a
(cÚ¡ 
Upd©ePÏtoÚD©a
* 
msg
)

155 ià(
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
FOLLOWER
) ;

156 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

157 ià(
	gmsg
->
g‘VehişeId
(è!ğ
pos™iÚH–³r
->
g‘L—d”Id
()) ;

159 
hªdËUpd©ePÏtoÚFÜm©iÚ
(
msg
);

160 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " chªgšg…ÏtoÚ id from " <<…os™iÚH–³r->
g‘PÏtoÚId
(è<< "Ø" << 
	gmsg
->
g‘NewPÏtoÚId
() << "\n";

161 
	gpos™iÚH–³r
->
£tPÏtoÚId
(
msg
->
g‘NewPÏtoÚId
());

164 
	gG’”®PÏtoÚšgAµ
::
hªdËUpd©ePÏtoÚFÜm©iÚ
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
)

166 ià(
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
FOLLOWER
) ;

167 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

168 ià(
	gmsg
->
g‘VehişeId
(è!ğ
pos™iÚH–³r
->
g‘L—d”Id
()) ;

171 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << " changing…latoon formation: ";

172 
	g¡d
::
veùÜ
<> 
f
;

173 
	gi
 = 0; i < 
	gmsg
->
g‘PÏtoÚFÜm©iÚA¼aySize
(); i++) {

174 
	gf
.
push_back
(
msg
->
g‘PÏtoÚFÜm©iÚ
(
i
));

175 
	gLOG
 << 
	gmsg
->
g‘PÏtoÚFÜm©iÚ
(
i
) << " ";

177 
	gLOG
 << "\n";

178 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
f
);

181 
	gG’”®PÏtoÚšgAµ
::
£tPÏtoÚRŞe
(
PÏtoÚRŞe
 
r
)

183 
rŞe
 = 
r
;

186 
	gG’”®PÏtoÚšgAµ
::
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
)

188 
jošMªeuv”
->
ÚPÏtoÚB—cÚ
(
pb
);

189 
	gm”geMªeuv”
->
ÚPÏtoÚB—cÚ
(
pb
);

191 
	gBa£Aµ
::
ÚPÏtoÚB—cÚ
(
pb
);

194 
	gG’”®PÏtoÚšgAµ
::
ÚMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
mm
)

196 ià(
aùiveMªeuv”
) {

197 
aùiveMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

200 
	gjošMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

201 
	gm”geMªeuv”
->
ÚMªeuv”Mes§ge
(
mm
);

203 
d–‘e
 
	gmm
;

206 
	gG’”®PÏtoÚšgAµ
::
flMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
msg
, 
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
)

208 
	gmsg
->
£tKšd
(
MANEUVER_TYPE
);

209 
	gmsg
->
£tVehişeId
(
vehişeId
);

210 
	gmsg
->
£tEx‹º®Id
(
ex‹º®Id
.
c_¡r
());

211 
	gmsg
->
£tPÏtoÚId
(
¶©oÚId
);

212 
	gmsg
->
£tDe¡š©iÚId
(
de¡š©iÚId
);

215 
Upd©ePÏtoÚD©a
* 
	gG’”®PÏtoÚšgAµ
::
ü—‹Upd©ePÏtoÚD©a
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
, 
ÃwPÏtoÚId
)

217 
Upd©ePÏtoÚD©a
* 
	gmsg
 = 
Ãw
 UpdatePlatoonData("UpdatePlatoonData");

218 
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

219 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

220 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

221 
	gmsg
->
£tPÏtoÚFÜm©iÚA¼aySize
(
¶©oÚFÜm©iÚ
.
size
());

222 
	gi
 = 0; i < 
	g¶©oÚFÜm©iÚ
.
size
(); i++) {

223 
	gmsg
->
£tPÏtoÚFÜm©iÚ
(
i
, 
¶©oÚFÜm©iÚ
[i]);

225 
	gmsg
->
£tNewPÏtoÚId
(
ÃwPÏtoÚId
);

226  
	gmsg
;

229 
Upd©ePÏtoÚFÜm©iÚ
* 
	gG’”®PÏtoÚšgAµ
::
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
)

231 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
 = 
Ãw
 UpdatePlatoonFormation("UpdatePlatoonFormation");

232 
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

233 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

234 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

235 
	gmsg
->
£tPÏtoÚFÜm©iÚA¼aySize
(
¶©oÚFÜm©iÚ
.
size
());

236 
	gi
 = 0; i < 
	g¶©oÚFÜm©iÚ
.
size
(); i++) {

237 
	gmsg
->
£tPÏtoÚFÜm©iÚ
(
i
, 
¶©oÚFÜm©iÚ
[i]);

239  
	gmsg
;

242 
	gG’”®PÏtoÚšgAµ
::
»ûiveSigÇl
(
cCompÚ’t
* 
¤c
, 
simsigÇl_t
 
id
, 
cObjeù
* 
v®ue
, cObjeù* 
d‘as
)

244 ià(
	gid
 =ğ
Mac1609_4
::
sigR‘r›sExûeded
) {

245 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
v®ue
);

246 
Mªeuv”Mes§ge
* 
	gmm
 = 
check_ªd_ÿ¡
<Mªeuv”Mes§ge*>(
äame
->
g‘EnÿpsuÏ‹dPack‘
());

247 ià(
	gäame
) {

248 
	gjošMªeuv”
->
ÚFaedT¿nsmissiÚA‰em±
(
mm
);

249 
	gm”geMªeuv”
->
ÚFaedT¿nsmissiÚA‰em±
(
mm
);

254 
	gG’”®PÏtoÚšgAµ
::
scheduËS–fMsg
(
simtime_t
 
t
, 
cMes§ge
* 
msg
)

256 
scheduËAt
(
t
, 
msg
);

259 
	gG’”®PÏtoÚšgAµ
::~
G’”®PÏtoÚšgAµ
()

261 
d–‘e
 
jošMªeuv”
;

262 
d–‘e
 
	gm”geMªeuv”
;

	@apps/GeneralPlatooningApp.h

22 #iâdeà
GENERALPLATOONAPP_H_


23 
	#GENERALPLATOONAPP_H_


	)

25 
	~<®gÜ™hm
>

26 
	~<memÜy
>

28 
	~"¶exe/­ps/Ba£Aµ.h
"

29 
	~"¶exe/mªeuv”/JošMªeuv”.h
"

30 
	~"¶exe/mªeuv”/JošAtBack.h
"

31 
	~"¶exe/mªeuv”/M”geAtBack.h
"

33 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

34 
	~"¶exe/mes§ges/Upd©ePÏtoÚD©a_m.h
"

36 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

38 
	~"vešs/moduËs/mob™y/Œaci/T¿CICÚ¡ªts.h
"

39 
	~"vešs/moduËs/ut™y/SigÇlMªag”.h
"

41 
Çme¥aû
 
	g¶exe
 {

44 şas 
	cPÏtoÚRŞe
 : 
size_t
 {

45 
NONE
,

46 
	gLEADER
,

47 
	gFOLLOWER
,

48 
	gJOINER


66 şas 
	cG’”®PÏtoÚšgAµ
 : 
public
 
Ba£Aµ
 {

68 
public
:

70 
G’”®PÏtoÚšgAµ
()

71 : 
šMªeuv”
(
çl£
)

72 , 
aùiveMªeuv”
(
nuÎ±r
)

73 , 
sûÇrio
(
nuÎ±r
)

74 , 
rŞe
(
PÏtoÚRŞe
::
NONE
)

75 , 
jošMªeuv”
(
nuÎ±r
)

76 , 
m”geMªeuv”
(
nuÎ±r
)

81 
	gvœtu®
 ~
G’”®PÏtoÚšgAµ
();

89 cÚ¡ 
	gPÏtoÚRŞe
& 
g‘PÏtoÚRŞe
() const

91  
	grŞe
;

100 
£tPÏtoÚRŞe
(
PÏtoÚRŞe
 
r
);

103 
vœtu®
 
š™Ÿlize
(
¡age
è
	gov”ride
;

106 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
	gov”ride
;

115 
¡¬tJošMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
);

124 
¡¬tM”geMªeuv”
(
¶©oÚId
, 
Ëad”Id
, 
pos™iÚ
);

127 
abÜtJošMªeuv”
();

133 
boŞ
 
isInMªeuv”
() const

135  
	gšMªeuv”
;

143 
£tInMªeuv”
(
boŞ
 
b
, 
Mªeuv”
* 
mªeuv”
)

145 
	gšMªeuv”
 = 
b
;

146 ià(
	gšMªeuv”
)

147 
	gaùiveMªeuv”
 = 
mªeuv”
;

149 
	gaùiveMªeuv”
 = 
nuÎ±r
;

152 
Ba£Pos™iÚH–³r
* 
g‘Pos™iÚH–³r
()

154  
	gpos™iÚH–³r
;

157 
	gvešs
::
T¿CIMob™y
* 
g‘Mob™y
()

159  
mob™y
;

162 
	gvešs
::
T¿CICommªdIÁ”çû
* 
g‘T¿ci
()

164  
Œaci
;

167 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
g‘T¿ciVehişe
()

169  
ŒaciVehişe
;

172 
	gŒaci
::
CommªdIÁ”çû
* 
g‘PËxeT¿ci
()

174  
¶exeT¿ci
;

177 
	gŒaci
::
CommªdIÁ”çû
::
Vehişe
* 
g‘PËxeT¿ciVehişe
()

179  
¶exeT¿ciVehişe
.
g‘
();

189 
vœtu®
 
£ndUniÿ¡
(
cPack‘
* 
msg
, 
de¡š©iÚ
);

199 
flMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
msg
, 
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

211 
Upd©ePÏtoÚFÜm©iÚ
* 
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
);

224 
Upd©ePÏtoÚD©a
* 
ü—‹Upd©ePÏtoÚD©a
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
¶©oÚFÜm©iÚ
, 
ÃwPÏtoÚId
);

232 
vœtu®
 
hªdËUpd©ePÏtoÚD©a
(cÚ¡ 
Upd©ePÏtoÚD©a
* 
msg
);

240 
vœtu®
 
hªdËUpd©ePÏtoÚFÜm©iÚ
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
* 
msg
);

242 
boŞ
 
isJošAÎowed
() const;

247 
ACTIVE_CONTROLLER
 
g‘CÚŒŞËr
();

252 
g‘T¬g‘Di¡ªû
(
¥“d
);

254 
	g´Ùeùed
:

256 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
è
ov”ride
;

263 
vœtu®
 
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
è
	gov”ride
;

270 
vœtu®
 
ÚMªeuv”Mes§ge
(
Mªeuv”Mes§ge
* 
mm
);

273 
boŞ
 
	gšMªeuv”
;

275 
Mªeuv”
* 
	gaùiveMªeuv”
;

278 
vœtu®
 
»ûiveSigÇl
(
cCompÚ’t
* 
¤c
, 
simsigÇl_t
 
id
, 
cObjeù
* 
v®ue
, cObjeù* 
d‘as
è
	gov”ride
;

281 
vœtu®
 
scheduËS–fMsg
(
simtime_t
 
t
, 
cMes§ge
* 
msg
);

283 
Ba£SûÇrio
* 
	gsûÇrio
;

285 
	g´iv©e
:

287 
PÏtoÚRŞe
 
rŞe
;

289 
JošMªeuv”
* 
	gjošMªeuv”
;

291 
JošMªeuv”
* 
	gm”geMªeuv”
;

	@apps/SimplePlatooningApp.cc

21 
	~"¶exe/­ps/Sim¶ePÏtoÚšgAµ.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
Sim¶ePÏtoÚšgAµ
);

	@apps/SimplePlatooningApp.h

21 #iâdeà
SIMPLEPLATOONINGAPP_H_


22 
	#SIMPLEPLATOONINGAPP_H_


	)

24 
	~"¶exe/­ps/Ba£Aµ.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cSim¶ePÏtoÚšgAµ
 : 
public
 
Ba£Aµ
 {

30 
public
:

31 
Sim¶ePÏtoÚšgAµ
()

	@driver/PlexeRadioDriverInterface.h

21 #´agm¨
Úû


23 
	~<¡ršg
>

24 
	~"¶exe/mes§ges/PËxeIÁ”çûCÚŒŞInfo_m.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 
	ePËxeRadioIÁ”çûs
 {

30 
	gALL
 = 65535,

31 
	gVEINS_11P
 = 1,

34 şas 
	cPËxeRadioDriv”IÁ”çû
 {

35 
	gpublic
:

36 
PËxeRadioDriv”IÁ”çû
(){};

37 
	gvœtu®
 ~
PËxeRadioDriv”IÁ”çû
(){};

40 
vœtu®
 
g‘DeviûTy³
() = 0;

	@driver/Veins11pRadioDriver.cc

22 
	~"Vešs11pRadioDriv”.h
"

23 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

24 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

25 
	~"vešs/ba£/uts/FšdModuË.h
"

27 
	#VEH_ID_TO_MAC
(
x
è(x + 1)

	)

28 
	#MAC_TO_VEH_ID
(
x
è(x - 1)

	)

30 
usšg
 
Çme¥aû
 
	gvešs
;

32 
Çme¥aû
 
	g¶exe
 {

34 
Defše_ModuË
(
¶exe
::
Vešs11pRadioDriv”
);

36 
	gVešs11pRadioDriv”
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

38 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

39 ià(
	gäame
->
g‘Rec›ÁAdd»ss
(è!ğ
vešs
::
LAdd»ss
::
L2BROADCAST
()è
äame
->
£tRec›ÁAdd»ss
(
MAC_TO_VEH_ID
(frame->getRecipientAddress()));

40 
£ndUp
(
äame
);

43 
	gVešs11pRadioDriv”
::
hªdËUµ”Msg
(
cMes§ge
* 
msg
)

45 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

46 ià(
	gäame
->
g‘Rec›ÁAdd»ss
(è!ğ
vešs
::
LAdd»ss
::
L2BROADCAST
()è
äame
->
£tRec›ÁAdd»ss
(
VEH_ID_TO_MAC
(frame->getRecipientAddress()));

47 
£ndDown
(
äame
);

50 
boŞ
 
	gVešs11pRadioDriv”
::
»gi¡”Node
(
nodeId
)

52 ià(
Mac1609_4
* 
mac
 = 
FšdModuË
<Mac1609_4*>::
fšdSubModuË
(
g‘P¬’tModuË
())) {

53 
mac
->
£tMACAdd»ss
(
VEH_ID_TO_MAC
(
nodeId
));

54  
	gŒue
;

57  
	gçl£
;

	@driver/Veins11pRadioDriver.h

21 #´agm¨
Úû


23 
	~"vešs/ba£/moduËs/Ba£AµlLay”.h
"

24 
	~"¶exe/driv”/PËxeRadioDriv”IÁ”çû.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 
şass
 
	gVešs11pRadioDriv”
 : 
public
 
PËxeRadioDriv”IÁ”çû
,…ubliø
	gvešs
::
Ba£AµlLay”
 {

30 
public
:

31 
boŞ
 
»gi¡”Node
(
nodeId
);

32 
vœtu®
 
g‘DeviûTy³
(è
	gov”ride


34  
	gPËxeRadioIÁ”çûs
::
VEINS_11P
;

37 
	g´Ùeùed
:

38 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
è
ov”ride
;

39 
vœtu®
 
hªdËUµ”Msg
(
cMes§ge
* 
msg
è
	gov”ride
;

	@maneuver/JoinAtBack.cc

21 
	~"¶exe/mªeuv”/JošAtBack.h
"

22 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

24 
Çme¥aû
 
	g¶exe
 {

26 
	gJošAtBack
::
JošAtBack
(
G’”®PÏtoÚšgAµ
* 
­p
)

27 : 
JošMªeuv”
(
­p
)

28 , 
jošMªeuv”S‹
(
JošMªeuv”S‹
::
IDLE
)

32 
boŞ
 
JošAtBack
::
š™ŸlizeJošMªeuv”
(cÚ¡ * 
·¿m‘”s
)

34 
JošMªeuv”P¬am‘”s
* 
·rs
 = (JošMªeuv”P¬am‘”s*è
·¿m‘”s
;

35 ià(
	gjošMªeuv”S‹
 =ğ
JošMªeuv”S‹
::
IDLE
) {

36 ià(
­p
->
isInMªeuv”
()) {

37 
LOG
 << 
pos™iÚH–³r
->
g‘Id
() << " cannot beginhe maneuver because‡lready involved in‡nother one\n";

38  
	gçl£
;

41 
	g­p
->
£tInMªeuv”
(
Œue
, 
this
);

42 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
JOINER
);

45 
	grg‘PÏtoÚD©a
.
»£t
(
Ãw
 
T¬g‘PÏtoÚD©a
());

46 
	grg‘PÏtoÚD©a
->
	g¶©oÚId
 = 
·rs
->
¶©oÚId
;

47 
	grg‘PÏtoÚD©a
->
	g¶©oÚL—d”
 = 
·rs
->
Ëad”Id
;

50 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
J_WAIT_REPLY
;

52  
	gŒue
;

55  
	gçl£
;

59 
	gJošAtBack
::
¡¬tMªeuv”
(cÚ¡ * 
·¿m‘”s
)

61 ià(
š™ŸlizeJošMªeuv”
(
·¿m‘”s
)) {

63 
LOG
 << 
pos™iÚH–³r
->
g‘Id
(è<< " s’dšg JošPÏtoÚReque¡ØtØ¶©oÚ w™h id " << 
rg‘PÏtoÚD©a
->
¶©oÚId
 << " (Ëad” id " <<¬g‘PÏtoÚD©a->
¶©oÚL—d”
 << ")\n";

64 
JošPÏtoÚReque¡
* 
	g»q
 = 
ü—‹JošPÏtoÚReque¡
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(), 
rg‘PÏtoÚD©a
->
¶©oÚId
,¬g‘PÏtoÚD©a->
¶©oÚL—d”
, 
ŒaciVehişe
->
g‘LªeIndex
(), 
mob™y
->
g‘Pos™iÚAt
(
simTime
()).
x
, mob™y->g‘Pos™iÚAt(simTime()).
y
);

65 
	g­p
->
£ndUniÿ¡
(
»q
, 
rg‘PÏtoÚD©a
->
¶©oÚL—d”
);

69 
	gJošAtBack
::
abÜtMªeuv”
()

73 
JošAtBack
::
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
)

75 ià(
jošMªeuv”S‹
 =ğ
JošMªeuv”S‹
::
J_MOVE_IN_POSITION
) {

77 
ASSERT
(
­p
->
g‘PÏtoÚRŞe
(è=ğ
PÏtoÚRŞe
::
JOINER
);

80 ià(
	gpb
->
g‘VehişeId
(è=ğ
rg‘PÏtoÚD©a
->
ÃwFÜm©iÚ
.
©
(0)) {

81 
¶exeT¿ciVehişe
->
£tL—d”VehişeFakeD©a
(
pb
->
g‘CÚŒŞËrAcûË¿tiÚ
(),…b->
g‘AcûË¿tiÚ
(),…b->
g‘S³ed
());

84 
	gäÚtPos™iÚ
 = 
rg‘PÏtoÚD©a
->
jošIndex
 - 1;

85 
	gäÚtId
 = 
rg‘PÏtoÚD©a
->
ÃwFÜm©iÚ
.
©
(
äÚtPos™iÚ
);

86 ià(
	gpb
->
g‘VehişeId
(è=ğ
äÚtId
) {

88 
CoÜd
 
äÚtPos™iÚ
(
pb
->
g‘Pos™iÚX
(),…b->
g‘Pos™iÚY
(), 0);

90 
	gvešs
::
T¿CICoÜd
 
ŒaciPos™iÚ
 = 
mob™y
->
g‘Mªag”
()->
g‘CÚÃùiÚ
()->
omÃt2Œaci
(mob™y->
g‘Pos™iÚAt
(
simTime
()));

91 
CoÜd
 
pos™iÚ
(
ŒaciPos™iÚ
.
x
,¿ciPos™iÚ.
y
);

93 
	gdi¡ªû
 = 
pos™iÚ
.
di¡ªû
(
äÚtPos™iÚ
è- 
pb
->
g‘L’gth
();

94 
	g¶exeT¿ciVehişe
->
£tFrÚtVehişeFakeD©a
(
pb
->
g‘CÚŒŞËrAcûË¿tiÚ
(),…b->
g‘AcûË¿tiÚ
(),…b->
g‘S³ed
(), 
di¡ªû
);

96 ià(
	gdi¡ªû
 < 
	g­p
->
g‘T¬g‘Di¡ªû
(
rg‘PÏtoÚD©a
->
¶©oÚS³ed
) + 11) {

99 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " s’dšg MoveToPos™iÚAckØ¶©oÚ w™h id " << 
	grg‘PÏtoÚD©a
->
	g¶©oÚId
 << " (Ëad” id " <<¬g‘PÏtoÚD©a->
	g¶©oÚL—d”
 << ")\n";

100 
MoveToPos™iÚAck
* 
	gack
 = 
ü—‹MoveToPos™iÚAck
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(), 
rg‘PÏtoÚD©a
->
¶©oÚId
,¬g‘PÏtoÚD©a->
¶©oÚL—d”
,¬g‘PÏtoÚD©a->
¶©oÚS³ed
,¬g‘PÏtoÚD©a->
¶©oÚLªe
,¬g‘PÏtoÚD©a->
ÃwFÜm©iÚ
);

101 
	g­p
->
£ndUniÿ¡
(
ack
, 
rg‘PÏtoÚD©a
->
ÃwFÜm©iÚ
.
©
(0));

102 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
J_WAIT_JOIN
;

108 
	gJošAtBack
::
ÚFaedT¿nsmissiÚA‰em±
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
)

110 
throw
 
cRuÁimeE¼Ü
("ImpossibËØ£ndhi ·ck‘: %s. Maximum‚umb” oàuniÿ¡„‘r› »ached", 
mm
->
g‘Name
());

113 
boŞ
 
	gJošAtBack
::
´oûssJošReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
)

115 ià(
msg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->g‘PÏtoÚId()è 
çl£
;

117 ià(
	g­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
LEADER
 && 
­p
->g‘PÏtoÚRŞe(è!ğPÏtoÚRŞe::
NONE
è 
çl£
;

119 
boŞ
 
	g³rmissiÚ
 = 
­p
->
isJošAÎowed
();

122 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " s’dšg JošPÏtoÚRe¥Ú£Øvehişw™h id " << 
	gmsg
->
g‘VehişeId
(è<< " (³rmissiÚØjoš: " << (
	g³rmissiÚ
 ? "permitted" : "not…ermitted") << ")\n";

123 
JošPÏtoÚRe¥Ú£
* 
	g»¥Ú£
 = 
ü—‹JošPÏtoÚRe¥Ú£
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(), 
msg
->
g‘PÏtoÚId
(), msg->
g‘VehişeId
(), 
³rmissiÚ
);

124 
	g­p
->
£ndUniÿ¡
(
»¥Ú£
, 
msg
->
g‘VehişeId
());

126 ià(!
	g³rmissiÚ
è 
	gçl£
;

128 
	g­p
->
£tInMªeuv”
(
Œue
, 
this
);

129 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
LEADER
);

132 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
ŒaciVehişe
->
g‘LªeIndex
());

133 
	gpos™iÚH–³r
->
£tPÏtoÚLªe
(
ŒaciVehişe
->
g‘LªeIndex
());

136 
	gjoš”D©a
.
»£t
(
Ãw
 
Još”D©a
());

137 
	gjoš”D©a
->
äom
(
msg
);

142 
	gjoš”D©a
->
	gÃwFÜm©iÚ
 = 
pos™iÚH–³r
->
g‘PÏtoÚFÜm©iÚ
();

143 
	gjoš”D©a
->
	gÃwFÜm©iÚ
.
push_back
(
još”D©a
->
još”Id
);

146 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
L_WAIT_JOINER_IN_POSITION
;

147  
	gŒue
;

150 
	gJošAtBack
::
hªdËJošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
)

152 ià(
´oûssJošReque¡
(
msg
)) {

153 
LOG
 << 
pos™iÚH–³r
->
g‘Id
(è<< " s’dšg MoveToPos™iÚØvehişw™h id " << 
msg
->
g‘VehişeId
() << "\n";

154 
MoveToPos™iÚ
* 
	gm
 = 
ü—‹MoveToPos™iÚ
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), 
još”D©a
->
još”Id
,…os™iÚH–³r->
g‘PÏtoÚS³ed
(),…os™iÚH–³r->
g‘PÏtoÚLªe
(), još”D©a->
ÃwFÜm©iÚ
);

155 
	g­p
->
£ndUniÿ¡
(
m
, 
još”D©a
->
još”Id
);

159 
	gJošAtBack
::
hªdËM”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
)

164 
JošAtBack
::
hªdËJošPÏtoÚRe¥Ú£
(cÚ¡ 
JošPÏtoÚRe¥Ú£
* 
msg
)

166 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
JOINER
) ;

167 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
J_WAIT_REPLY
) ;

168 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚId
) ;

169 ià(
	gmsg
->
g‘VehişeId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚL—d”
) ;

172 ià(
	gmsg
->
g‘P”m™‹d
()) {

173 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << "„eceived JoinPlatoonResponse (allowedo join)\n";

175 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
J_WAIT_INFORMATION
;

177 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
ŒaciVehişe
->
g‘LªeIndex
());

180 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << "„eceived JoinPlatoonResponse (not‡llowedo join)\n";

182 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
IDLE
;

183 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
NONE
);

184 
	g­p
->
£tInMªeuv”
(
çl£
, 
nuÎ±r
);

188 
	gJošAtBack
::
hªdËMoveToPos™iÚ
(cÚ¡ 
MoveToPos™iÚ
* 
msg
)

190 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
JOINER
) ;

191 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
J_WAIT_INFORMATION
) ;

192 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚId
) ;

193 ià(
	gmsg
->
g‘VehişeId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚL—d”
) ;

197 
	grg‘PÏtoÚD©a
->
äom
(
msg
);

203 
	gcu¼’tLªe
 = 
ŒaciVehişe
->
g‘LªeIndex
();

204 ià(
	gcu¼’tLªe
 !ğ
rg‘PÏtoÚD©a
->
¶©oÚLªe
) {

205 
¶exeT¿ciVehişe
->
£tFixedLªe
(
rg‘PÏtoÚD©a
->
¶©oÚLªe
);

209 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << "„eceived MoveToPosition. Increasing speedo‡pproachhe…latoon\n";

213 
	g¶exeT¿ciVehişe
->
£tCACCCÚ¡ªtS·cšg
(15);

216 
	g¶exeT¿ciVehişe
->
£tL—d”VehişeFakeD©a
(0, 0, 
rg‘PÏtoÚD©a
->
¶©oÚS³ed
);

217 
	g¶exeT¿ciVehişe
->
£tFrÚtVehişeFakeD©a
(0, 0, 
rg‘PÏtoÚD©a
->
¶©oÚS³ed
, 15);

219 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
rg‘PÏtoÚD©a
->
¶©oÚS³ed
 + (30 / 3.6));

220 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
FAKED_CACC
);

222 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
J_MOVE_IN_POSITION
;

225 
	gJošAtBack
::
hªdËMoveToPos™iÚAck
(cÚ¡ 
MoveToPos™iÚAck
* 
msg
)

227 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
LEADER
) ;

228 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
L_WAIT_JOINER_IN_POSITION
) ;

229 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

230 ià(
	gmsg
->
g‘VehişeId
(è!ğ
još”D©a
->
još”Id
) ;

232 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++è
ASSERT
(
msg
->
g‘NewPÏtoÚFÜm©iÚ
(
i
è=ğ
još”D©a
->
ÃwFÜm©iÚ
.
©
(i));

237 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " s’dšg JošFÜm©iÚØvehişw™h id " << 
	gjoš”D©a
->
	gjoš”Id
 << "\n";

238 
JošFÜm©iÚ
* 
	gjf
 = 
ü—‹JošFÜm©iÚ
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), 
još”D©a
->
još”Id
,…os™iÚH–³r->
g‘PÏtoÚS³ed
(), 
ŒaciVehişe
->
g‘LªeIndex
(), još”D©a->
ÃwFÜm©iÚ
);

239 
	g­p
->
£ndUniÿ¡
(
jf
, 
još”D©a
->
još”Id
);

240 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
L_WAIT_JOINER_TO_JOIN
;

243 
	gJošAtBack
::
hªdËJošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
* 
msg
)

245 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
JOINER
) ;

246 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
J_WAIT_JOIN
) ;

247 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚId
) ;

248 ià(
	gmsg
->
g‘VehişeId
(è!ğ
rg‘PÏtoÚD©a
->
¶©oÚL—d”
) ;

250 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++è
ASSERT
(
msg
->
g‘NewPÏtoÚFÜm©iÚ
(
i
è=ğ
rg‘PÏtoÚD©a
->
ÃwFÜm©iÚ
[i]);

254 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
­p
->
g‘CÚŒŞËr
());

256 ià(
	g­p
->
g‘CÚŒŞËr
(è=ğ
CACC
 || 
­p
->g‘CÚŒŞËr(è=ğ
FLATBED
è
¶exeT¿ciVehişe
->
£tCACCCÚ¡ªtS·cšg
×µ->
g‘T¬g‘Di¡ªû
(
rg‘PÏtoÚD©a
->
¶©oÚS³ed
));

259 
	gpos™iÚH–³r
->
£tPÏtoÚId
(
msg
->
g‘PÏtoÚId
());

260 
	gpos™iÚH–³r
->
£tPÏtoÚLªe
(
rg‘PÏtoÚD©a
->
¶©oÚLªe
);

261 
	gpos™iÚH–³r
->
£tPÏtoÚS³ed
(
rg‘PÏtoÚD©a
->
¶©oÚS³ed
);

262 
	g¡d
::
veùÜ
<> 
fÜm©iÚ
;

263 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++è
	gfÜm©iÚ
.
push_back
(
msg
->
g‘NewPÏtoÚFÜm©iÚ
(
i
));

264 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
fÜm©iÚ
);

267 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< "„eûived JošFÜm©iÚ. S’dšg JošFÜm©iÚAck‡nd…”fÜmšg fš®‡µrßchØ¶©oÚ " <<…os™iÚH–³r->
g‘PÏtoÚId
() << "\n";

268 
JošFÜm©iÚAck
* 
	gjç
 = 
ü—‹JošFÜm©iÚAck
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), 
rg‘PÏtoÚD©a
->
¶©oÚL—d”
,…os™iÚH–³r->
g‘PÏtoÚS³ed
(), 
ŒaciVehişe
->
g‘LªeIndex
(), 
fÜm©iÚ
);

269 
	g­p
->
£ndUniÿ¡
(
jç
, 
pos™iÚH–³r
->
g‘L—d”Id
());

271 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
FOLLOWER
);

272 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
IDLE
;

274 
	g­p
->
£tInMªeuv”
(
çl£
, 
nuÎ±r
);

279 
	gJošAtBack
::
hªdËJošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
* 
msg
)

281 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
LEADER
) ;

282 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
L_WAIT_JOINER_TO_JOIN
) ;

283 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

284 ià(
	gmsg
->
g‘VehişeId
(è!ğ
još”D©a
->
još”Id
) ;

285 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++è
ASSERT
(
msg
->
g‘NewPÏtoÚFÜm©iÚ
(
i
è=ğ
još”D©a
->
ÃwFÜm©iÚ
.
©
(i));

289 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
još”D©a
->
ÃwFÜm©iÚ
);

291 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
() << "„eceived JoinFormationAck. Sending UpdatePlatoonFormationo‡ll members\n";

293 
	gi
 = 1; i < 
	gpos™iÚH–³r
->
g‘PÏtoÚSize
(); i++) {

294 
Upd©ePÏtoÚFÜm©iÚ
* 
	gdup
 = 
­p
->
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), -1,…os™iÚH–³r->
g‘PÏtoÚS³ed
(), 
ŒaciVehişe
->
g‘LªeIndex
(), 
još”D©a
->
ÃwFÜm©iÚ
);

295 
	gde¡
 = 
pos™iÚH–³r
->
g‘Memb”Id
(
i
);

296 
	gdup
->
£tDe¡š©iÚId
(
de¡
);

297 
	g­p
->
£ndUniÿ¡
(
dup
, 
de¡
);

300 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
IDLE
;

301 
	g­p
->
£tInMªeuv”
(
çl£
, 
nuÎ±r
);

	@maneuver/JoinAtBack.h

22 #iâdeà
JOINATBACK_H_


23 
	#JOINATBACK_H_


	)

25 
	~<®gÜ™hm
>

27 
	~"¶exe/mªeuv”/JošMªeuv”.h
"

28 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

30 
	~"vešs/moduËs/mob™y/Œaci/T¿CICÚ¡ªts.h
"

31 
	~"vešs/ba£/uts/CoÜd.h
"

33 
usšg
 
Çme¥aû
 
	gvešs
;

35 
Çme¥aû
 
	g¶exe
 {

37 şas 
	cJošAtBack
 : 
public
 
JošMªeuv”
 {

39 
public
:

45 
JošAtBack
(
G’”®PÏtoÚšgAµ
* 
­p
);

46 
	gvœtu®
 ~
JošAtBack
(){};

53 
vœtu®
 
¡¬tMªeuv”
(cÚ¡ * 
·¿m‘”s
è
	gov”ride
;

59 
vœtu®
 
abÜtMªeuv”
(è
	gov”ride
;

65 
vœtu®
 
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
è
	gov”ride
;

71 
vœtu®
 
ÚFaedT¿nsmissiÚA‰em±
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
è
	gov”ride
;

78 
vœtu®
 
hªdËJošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
è
	gov”ride
;

85 
vœtu®
 
hªdËM”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
è
	gov”ride
;

92 
vœtu®
 
hªdËJošPÏtoÚRe¥Ú£
(cÚ¡ 
JošPÏtoÚRe¥Ú£
* 
msg
è
	gov”ride
;

99 
vœtu®
 
hªdËMoveToPos™iÚ
(cÚ¡ 
MoveToPos™iÚ
* 
msg
è
	gov”ride
;

106 
vœtu®
 
hªdËMoveToPos™iÚAck
(cÚ¡ 
MoveToPos™iÚAck
* 
msg
è
	gov”ride
;

113 
vœtu®
 
hªdËJošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
* 
msg
è
	gov”ride
;

120 
vœtu®
 
hªdËJošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
* 
msg
è
	gov”ride
;

122 
	g´Ùeùed
:

124 şas 
	cJošMªeuv”S‹
 {

125 
IDLE
,

127 
	gJ_WAIT_REPLY
,

128 
	gJ_WAIT_INFORMATION
,

129 
	gJ_MOVE_IN_POSITION
,

130 
	gJ_WAIT_JOIN
,

132 
	gL_WAIT_JOINER_IN_POSITION
,

133 
	gL_WAIT_JOINER_TO_JOIN
,

137 
	sT¬g‘PÏtoÚD©a
 {

138 
	g¶©oÚId
;

139 
	g¶©oÚL—d”
;

140 
	g¶©oÚLªe
;

141 
	g¶©oÚS³ed
;

142 
	gjošIndex
;

143 
	g¡d
::
veùÜ
<> 
ÃwFÜm©iÚ
;

144 
CoÜd
 
	gÏ¡FrÚtPos
;

147 
T¬g‘PÏtoÚD©a
()

149 
	g¶©oÚId
 = 
INVALID_PLATOON_ID
;

150 
	g¶©oÚL—d”
 = 
T¿CICÚ¡ªts
::
INVALID_INT_VALUE
;

151 
	g¶©oÚLªe
 = 
T¿CICÚ¡ªts
::
INVALID_INT_VALUE
;

152 
	g¶©oÚS³ed
 = 
T¿CICÚ¡ªts
::
INVALID_DOUBLE_VALUE
;

153 
	gjošIndex
 = 
T¿CICÚ¡ªts
::
INVALID_INT_VALUE
;

163 
äom
(cÚ¡ 
MoveToPos™iÚ
* 
msg
)

165 
	g¶©oÚId
 = 
msg
->
g‘PÏtoÚId
();

166 
	g¶©oÚL—d”
 = 
msg
->
g‘VehişeId
();

167 
	g¶©oÚLªe
 = 
msg
->
g‘PÏtoÚLªe
();

168 
	g¶©oÚS³ed
 = 
msg
->
g‘PÏtoÚS³ed
();

169 
	gÃwFÜm©iÚ
.
»size
(
msg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
());

170 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++) {

171 
	gÃwFÜm©iÚ
[
i
] = 
msg
->
g‘NewPÏtoÚFÜm©iÚ
(i);

173 cÚ¡‡utØ
	g™
 = 
¡d
::
fšd
(
ÃwFÜm©iÚ
.
begš
(),‚ewFÜm©iÚ.
’d
(), 
msg
->
g‘De¡š©iÚId
());

174 ià(
	g™
 !ğ
ÃwFÜm©iÚ
.
’d
()) {

175 
jošIndex
 = 
¡d
::
di¡ªû
(
ÃwFÜm©iÚ
.
begš
(), 
™
);

176 
ASSERT
(
ÃwFÜm©iÚ
.
©
(
jošIndex
è=ğ
msg
->
g‘De¡š©iÚId
());

185 
äÚtId
() const

187  
	gÃwFÜm©iÚ
.
©
(
jošIndex
 - 1);

192 
	sJoš”D©a
 {

193 
	gjoš”Id
;

194 
	gjoš”Lªe
;

195 
	g¡d
::
veùÜ
<> 
ÃwFÜm©iÚ
;

198 
Još”D©a
()

200 
	gjoš”Id
 = 
T¿CICÚ¡ªts
::
INVALID_INT_VALUE
;

201 
	gjoš”Lªe
 = 
T¿CICÚ¡ªts
::
INVALID_INT_VALUE
;

211 
äom
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
)

213 
	gjoš”Id
 = 
msg
->
g‘VehişeId
();

214 
	gjoš”Lªe
 = 
msg
->
g‘Cu¼’tLªeIndex
();

219 
JošMªeuv”S‹
 
	gjošMªeuv”S‹
;

222 
	g¡d
::
unique_±r
<
T¬g‘PÏtoÚD©a
> 
rg‘PÏtoÚD©a
;

225 
	g¡d
::
unique_±r
<
Još”D©a
> 
još”D©a
;

228 
boŞ
 
š™ŸlizeJošMªeuv”
(cÚ¡ * 
·¿m‘”s
);

231 
boŞ
 
´oûssJošReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
);

	@maneuver/JoinManeuver.cc

22 
	~"¶exe/mªeuv”/JošMªeuv”.h
"

23 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

25 
Çme¥aû
 
	g¶exe
 {

27 
	gJošMªeuv”
::
JošMªeuv”
(
G’”®PÏtoÚšgAµ
* 
­p
)

28 : 
Mªeuv”
(
­p
)

32 
JošMªeuv”
::
ÚMªeuv”Mes§ge
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
)

34 ià(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
 = 
dyÇmic_ÿ¡
<cÚ¡ M”gePÏtoÚReque¡*>(
mm
)) {

35 
hªdËM”gePÏtoÚReque¡
(
msg
);

37 ià(cÚ¡ 
JošPÏtoÚReque¡
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ JošPÏtoÚReque¡*>(
mm
)) {

38 
hªdËJošPÏtoÚReque¡
(
msg
);

40 ià(cÚ¡ 
JošPÏtoÚRe¥Ú£
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ JošPÏtoÚRe¥Ú£*>(
mm
)) {

41 
hªdËJošPÏtoÚRe¥Ú£
(
msg
);

43 ià(cÚ¡ 
MoveToPos™iÚ
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ MoveToPos™iÚ*>(
mm
)) {

44 
hªdËMoveToPos™iÚ
(
msg
);

46 ià(cÚ¡ 
MoveToPos™iÚAck
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ MoveToPos™iÚAck*>(
mm
)) {

47 
hªdËMoveToPos™iÚAck
(
msg
);

49 ià(cÚ¡ 
JošFÜm©iÚ
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ JošFÜm©iÚ*>(
mm
)) {

50 
hªdËJošFÜm©iÚ
(
msg
);

52 ià(cÚ¡ 
JošFÜm©iÚAck
* 
	gmsg
 = 
dyÇmic_ÿ¡
<cÚ¡ JošFÜm©iÚAck*>(
mm
)) {

53 
hªdËJošFÜm©iÚAck
(
msg
);

57 
JošPÏtoÚReque¡
* 
	gJošMªeuv”
::
ü—‹JošPÏtoÚReque¡
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
cu¼’tLªeIndex
, 
xPos
, 
yPos
)

59 
JošPÏtoÚReque¡
* 
	gmsg
 = 
Ãw
 JoinPlatoonRequest("JoinPlatoonRequest");

60 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

61 
	gmsg
->
£tCu¼’tLªeIndex
(
cu¼’tLªeIndex
);

62 
	gmsg
->
£tXPos
(
xPos
);

63 
	gmsg
->
£tYPos
(
yPos
);

64  
	gmsg
;

67 
M”gePÏtoÚReque¡
* 
	gJošMªeuv”
::
ü—‹M”gePÏtoÚReque¡
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
cu¼’tLªeIndex
, 
xPos
, 
yPos
, cÚ¡ std::
veùÜ
<>& 
memb”s
)

69 
M”gePÏtoÚReque¡
* 
msg
 = 
Ãw
 MergePlatoonRequest("MergePlatoonRequest");

70 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

71 
	gmsg
->
£tCu¼’tLªeIndex
(
cu¼’tLªeIndex
);

72 
	gmsg
->
£tXPos
(
xPos
);

73 
	gmsg
->
£tYPos
(
yPos
);

74 ià(
	gmemb”s
.
size
() != 0) {

75 
msg
->
£tMemb”sA¼aySize
(
memb”s
.
size
());

76 
size_t
 
	gi
 = 0; i < 
	gmemb”s
.
size
(); i++)

77 
	gmsg
->
£tMemb”s
(
i
, 
memb”s
[i]);

79  
	gmsg
;

82 
JošPÏtoÚRe¥Ú£
* 
	gJošMªeuv”
::
ü—‹JošPÏtoÚRe¥Ú£
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
boŞ
 
³rm™‹d
)

84 
JošPÏtoÚRe¥Ú£
* 
	gmsg
 = 
Ãw
 JoinPlatoonResponse("JoinPlatoonResponse");

85 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

86 
	gmsg
->
£tP”m™‹d
(
³rm™‹d
);

87  
	gmsg
;

90 
MoveToPos™iÚ
* 
	gJošMªeuv”
::
ü—‹MoveToPos™iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
)

92 
MoveToPos™iÚ
* 
msg
 = 
Ãw
 MoveToPosition("MoveToPosition");

93 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

94 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

95 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

96 
	gmsg
->
£tNewPÏtoÚFÜm©iÚA¼aySize
(
ÃwPÏtoÚFÜm©iÚ
.
size
());

97 
	gi
 = 0; i < 
	gÃwPÏtoÚFÜm©iÚ
.
size
(); i++) {

98 
	gmsg
->
£tNewPÏtoÚFÜm©iÚ
(
i
, 
ÃwPÏtoÚFÜm©iÚ
[i]);

100  
	gmsg
;

103 
MoveToPos™iÚAck
* 
	gJošMªeuv”
::
ü—‹MoveToPos™iÚAck
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
)

105 
MoveToPos™iÚAck
* 
msg
 = 
Ãw
 MoveToPositionAck("MoveToPositionAck");

106 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

107 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

108 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

109 
	gmsg
->
£tNewPÏtoÚFÜm©iÚA¼aySize
(
ÃwPÏtoÚFÜm©iÚ
.
size
());

110 
	gi
 = 0; i < 
	gÃwPÏtoÚFÜm©iÚ
.
size
(); i++) {

111 
	gmsg
->
£tNewPÏtoÚFÜm©iÚ
(
i
, 
ÃwPÏtoÚFÜm©iÚ
[i]);

113  
	gmsg
;

116 
JošFÜm©iÚ
* 
	gJošMªeuv”
::
ü—‹JošFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
)

118 
JošFÜm©iÚ
* 
msg
 = 
Ãw
 JoinFormation("JoinFormation");

119 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

120 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

121 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

122 
	gmsg
->
£tNewPÏtoÚFÜm©iÚA¼aySize
(
ÃwPÏtoÚFÜm©iÚ
.
size
());

123 
	gi
 = 0; i < 
	gÃwPÏtoÚFÜm©iÚ
.
size
(); i++) {

124 
	gmsg
->
£tNewPÏtoÚFÜm©iÚ
(
i
, 
ÃwPÏtoÚFÜm©iÚ
[i]);

126  
	gmsg
;

129 
JošFÜm©iÚAck
* 
	gJošMªeuv”
::
ü—‹JošFÜm©iÚAck
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
)

131 
JošFÜm©iÚAck
* 
msg
 = 
Ãw
 JoinFormationAck("JoinFormationAck");

132 
	g­p
->
flMªeuv”Mes§ge
(
msg
, 
vehişeId
, 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
);

133 
	gmsg
->
£tPÏtoÚS³ed
(
¶©oÚS³ed
);

134 
	gmsg
->
£tPÏtoÚLªe
(
¶©oÚLªe
);

135 
	gmsg
->
£tNewPÏtoÚFÜm©iÚA¼aySize
(
ÃwPÏtoÚFÜm©iÚ
.
size
());

136 
	gi
 = 0; i < 
	gÃwPÏtoÚFÜm©iÚ
.
size
(); i++) {

137 
	gmsg
->
£tNewPÏtoÚFÜm©iÚ
(
i
, 
ÃwPÏtoÚFÜm©iÚ
[i]);

139  
	gmsg
;

	@maneuver/JoinManeuver.h

22 #iâdeà
JOINMANEUVER_H_


23 
	#JOINMANEUVER_H_


	)

25 
	~"¶exe/mªeuv”/Mªeuv”.h
"

26 
	~"¶exe/mes§ges/JošFÜm©iÚAck_m.h
"

27 
	~"¶exe/mes§ges/JošFÜm©iÚ_m.h
"

28 
	~"¶exe/mes§ges/JošPÏtoÚReque¡_m.h
"

29 
	~"¶exe/mes§ges/JošPÏtoÚRe¥Ú£_m.h
"

30 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

31 
	~"¶exe/mes§ges/MoveToPos™iÚAck_m.h
"

32 
	~"¶exe/mes§ges/MoveToPos™iÚ_m.h
"

33 
	~"¶exe/mes§ges/M”gePÏtoÚReque¡_m.h
"

35 
Çme¥aû
 
	g¶exe
 {

37 
	sJošMªeuv”P¬am‘”s
 {

38 
	g¶©oÚId
;

39 
	gËad”Id
;

40 
	gpos™iÚ
;

43 şas 
	cJošMªeuv”
 : 
public
 
Mªeuv”
 {

45 
public
:

51 
JošMªeuv”
(
G’”®PÏtoÚšgAµ
* 
­p
);

52 
	gvœtu®
 ~
JošMªeuv”
(){};

54 
vœtu®
 
ÚMªeuv”Mes§ge
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
è
	gov”ride
;

56 
	g´Ùeùed
:

65 
JošPÏtoÚReque¡
* 
ü—‹JošPÏtoÚReque¡
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
cu¼’tLªeIndex
, 
xPos
, 
yPos
);

76 
M”gePÏtoÚReque¡
* 
ü—‹M”gePÏtoÚReque¡
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
cu¼’tLªeIndex
, 
xPos
, 
yPos
, cÚ¡ std::
veùÜ
<>& 
memb”s
);

86 
JošPÏtoÚRe¥Ú£
* 
ü—‹JošPÏtoÚRe¥Ú£
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
boŞ
 
³rm™‹d
);

99 
MoveToPos™iÚ
* 
ü—‹MoveToPos™iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
);

112 
MoveToPos™iÚAck
* 
ü—‹MoveToPos™iÚAck
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
);

125 
JošFÜm©iÚ
* 
ü—‹JošFÜm©iÚ
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
);

138 
JošFÜm©iÚAck
* 
ü—‹JošFÜm©iÚAck
(
vehişeId
, 
¡d
::
¡ršg
 
ex‹º®Id
, 
¶©oÚId
, 
de¡š©iÚId
, 
¶©oÚS³ed
, 
¶©oÚLªe
, cÚ¡ std::
veùÜ
<>& 
ÃwPÏtoÚFÜm©iÚ
);

145 
vœtu®
 
hªdËJošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
) = 0;

152 
vœtu®
 
hªdËM”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
) = 0;

159 
vœtu®
 
hªdËJošPÏtoÚRe¥Ú£
(cÚ¡ 
JošPÏtoÚRe¥Ú£
* 
msg
) = 0;

166 
vœtu®
 
hªdËMoveToPos™iÚ
(cÚ¡ 
MoveToPos™iÚ
* 
msg
) = 0;

173 
vœtu®
 
hªdËMoveToPos™iÚAck
(cÚ¡ 
MoveToPos™iÚAck
* 
msg
) = 0;

180 
vœtu®
 
hªdËJošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
* 
msg
) = 0;

187 
vœtu®
 
hªdËJošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
* 
msg
) = 0;

	@maneuver/Maneuver.cc

21 
	~"¶exe/mªeuv”/Mªeuv”.h
"

22 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

24 
Çme¥aû
 
	g¶exe
 {

26 
	gMªeuv”
::
Mªeuv”
(
G’”®PÏtoÚšgAµ
* 
­p
)

27 : 
­p
(app)

28 , 
pos™iÚH–³r
(
­p
->
g‘Pos™iÚH–³r
())

29 , 
mob™y
(
­p
->
g‘Mob™y
())

30 , 
Œaci
(
­p
->
g‘T¿ci
())

31 , 
ŒaciVehişe
(
­p
->
g‘T¿ciVehişe
())

32 , 
¶exeT¿ci
(
­p
->
g‘PËxeT¿ci
())

33 , 
¶exeT¿ciVehişe
(
­p
->
g‘PËxeT¿ciVehişe
())

	@maneuver/Maneuver.h

22 #iâdeà
MANEUVER_H_


23 
	#MANEUVER_H_


	)

25 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

26 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

28 
	~"¶exe/mob™y/CommªdIÁ”çû.h
"

29 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

30 
	~"¶exe/mes§ges/PÏtoÚšgB—cÚ_m.h
"

31 
	~"¶exe/mes§ges/Upd©ePÏtoÚFÜm©iÚ_m.h
"

33 
Çme¥aû
 
	g¶exe
 {

35 
şass
 
	gG’”®PÏtoÚšgAµ
;

37 şas 
	cMªeuv”
 {

39 
	gpublic
:

45 
Mªeuv”
(
G’”®PÏtoÚšgAµ
* 
­p
);

46 
	gvœtu®
 ~
Mªeuv”
(){};

53 
vœtu®
 
¡¬tMªeuv”
(cÚ¡ * 
·¿m‘”s
) = 0;

57 
vœtu®
 
abÜtMªeuv”
() = 0;

63 
vœtu®
 
ÚMªeuv”Mes§ge
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
) = 0;

69 
vœtu®
 
ÚPÏtoÚB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
pb
) = 0;

75 
vœtu®
 
ÚFaedT¿nsmissiÚA‰em±
(cÚ¡ 
Mªeuv”Mes§ge
* 
mm
) = 0;

82 
vœtu®
 
boŞ
 
hªdËS–fMsg
(
cMes§ge
* 
msg
)

84  
	gçl£
;

87 
	g´Ùeùed
:

88 
G’”®PÏtoÚšgAµ
* 
­p
;

89 
Ba£Pos™iÚH–³r
* 
	gpos™iÚH–³r
;

90 
	gvešs
::
T¿CIMob™y
* 
mob™y
;

91 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

92 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

93 
	gŒaci
::
CommªdIÁ”çû
* 
¶exeT¿ci
;

94 
	gŒaci
::
CommªdIÁ”çû
::
Vehişe
* 
¶exeT¿ciVehişe
;

	@maneuver/MergeAtBack.cc

21 
	~"¶exe/mªeuv”/M”geAtBack.h
"

22 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

24 
Çme¥aû
 
	g¶exe
 {

26 
	gM”geAtBack
::
M”geAtBack
(
G’”®PÏtoÚšgAµ
* 
­p
)

27 : 
JošAtBack
(
­p
)

28 , 
ŞdPÏtoÚId
(-1)

29 , 
checkDi¡ªû
(
Ãw
 
cMes§ge
("checkDistance"))

33 
	gM”geAtBack
::~
M”geAtBack
()

35 
d–‘e
 
checkDi¡ªû
;

36 
	gcheckDi¡ªû
 = 
nuÎ±r
;

39 
	gM”geAtBack
::
¡¬tMªeuv”
(cÚ¡ * 
·¿m‘”s
)

42 
ŞdFÜm©iÚ
 = 
pos™iÚH–³r
->
g‘PÏtoÚFÜm©iÚ
();

44 
	gŞdPÏtoÚId
 = 
pos™iÚH–³r
->
g‘PÏtoÚId
();

45 ià(
š™ŸlizeJošMªeuv”
(
·¿m‘”s
)) {

47 
	g¡d
::
veùÜ
<> 
memb”s
;

48 
	gi
 = 1; i < 
	gpos™iÚH–³r
->
g‘PÏtoÚFÜm©iÚ
().
size
(); i++)

49 
	gmemb”s
.
push_back
(
pos™iÚH–³r
->
g‘PÏtoÚFÜm©iÚ
()[
i
]);

52 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " s’dšg M”gePÏtoÚReque¡Ø¶©oÚ w™h id " << 
	grg‘PÏtoÚD©a
->
	g¶©oÚId
 << " (Ëad” id " <<¬g‘PÏtoÚD©a->
	g¶©oÚL—d”
 << ")\n";

53 
M”gePÏtoÚReque¡
* 
	g»q
 = 
ü—‹M”gePÏtoÚReque¡
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(), 
rg‘PÏtoÚD©a
->
¶©oÚId
,¬g‘PÏtoÚD©a->
¶©oÚL—d”
, 
ŒaciVehişe
->
g‘LªeIndex
(), 
mob™y
->
g‘Pos™iÚAt
(
simTime
()).
x
, mob™y->g‘Pos™iÚAt(simTime()).
y
, 
memb”s
);

54 
	g­p
->
£ndUniÿ¡
(
»q
, 
rg‘PÏtoÚD©a
->
¶©oÚL—d”
);

58 
	gM”geAtBack
::
hªdËJošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
)

63 
M”geAtBack
::
hªdËM”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
)

65 ià(
´oûssJošReque¡
(
msg
)) {

67 ià(
msg
->
g‘Memb”sA¼aySize
() != 0) {

68 
i
 = 0; 
	gi
 < 
	gmsg
->
g‘Memb”sA¼aySize
(); i++) {

69 
	gjoš”D©a
->
	gÃwFÜm©iÚ
.
push_back
(
msg
->
g‘Memb”s
(
i
));

72 
	gLOG
 << 
	gpos™iÚH–³r
->
g‘Id
(è<< " s’dšg MoveToPos™iÚØvehişw™h id " << 
	gmsg
->
g‘VehişeId
() << "\n";

73 
MoveToPos™iÚ
* 
	gm
 = 
ü—‹MoveToPos™iÚ
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), 
još”D©a
->
još”Id
,…os™iÚH–³r->
g‘PÏtoÚS³ed
(),…os™iÚH–³r->
g‘PÏtoÚLªe
(), još”D©a->
ÃwFÜm©iÚ
);

74 
	g­p
->
£ndUniÿ¡
(
m
, 
još”D©a
->
još”Id
);

78 
	gM”geAtBack
::
hªdËJošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
* 
msg
)

81 
­p
->
scheduËAt
(
simTime
(è+ 0.5, 
checkDi¡ªû
);

82 
	gJošAtBack
::
hªdËJošFÜm©iÚ
(
msg
);

85 
boŞ
 
	gM”geAtBack
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

87 ià(
msg
 =ğ
checkDi¡ªû
) {

88 
di¡ªû
, 
»ÏtiveS³ed
;

89 
	g¶exeT¿ciVehişe
->
g‘Rad¬M—su»m’ts
(
di¡ªû
, 
»ÏtiveS³ed
);

91 ià(
	gdi¡ªû
 < 
	g­p
->
g‘T¬g‘Di¡ªû
(
rg‘PÏtoÚD©a
->
¶©oÚS³ed
) + 1) {

92 
	gi
 = 1; i < 
	gŞdFÜm©iÚ
.
size
(); i++) {

93 
Upd©ePÏtoÚD©a
* 
	gmm
 = 
­p
->
ü—‹Upd©ePÏtoÚD©a
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(), 
ŞdPÏtoÚId
, 
ŞdFÜm©iÚ
[
i
], 
rg‘PÏtoÚD©a
->
¶©oÚS³ed
,¬g‘PÏtoÚD©a->
¶©oÚLªe
,¬g‘PÏtoÚD©a->
ÃwFÜm©iÚ
,¬g‘PÏtoÚD©a->
¶©oÚId
);

94 
	g­p
->
£ndUniÿ¡
(
mm
, 
ŞdFÜm©iÚ
[
i
]);

98 
	g­p
->
scheduËAt
(
simTime
(è+ 0.5, 
checkDi¡ªû
);

100  
	gŒue
;

103  
	gçl£
;

109 
	gM”geAtBack
::
hªdËJošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
* 
msg
)

111 ià(
­p
->
g‘PÏtoÚRŞe
(è!ğ
PÏtoÚRŞe
::
LEADER
) ;

112 ià(
	gjošMªeuv”S‹
 !ğ
JošMªeuv”S‹
::
L_WAIT_JOINER_TO_JOIN
) ;

113 ià(
	gmsg
->
g‘PÏtoÚId
(è!ğ
pos™iÚH–³r
->getPlatoonId()) ;

114 ià(
	gmsg
->
g‘VehişeId
(è!ğ
još”D©a
->
još”Id
) ;

115 
	gi
 = 0; i < 
	gmsg
->
g‘NewPÏtoÚFÜm©iÚA¼aySize
(); i++è
ASSERT
(
msg
->
g‘NewPÏtoÚFÜm©iÚ
(
i
è=ğ
još”D©a
->
ÃwFÜm©iÚ
.
©
(i));

119 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
još”D©a
->
ÃwFÜm©iÚ
);

122 
	gi
 = 1; i < 
	gpos™iÚH–³r
->
g‘PÏtoÚSize
(); i++) {

123 
Upd©ePÏtoÚFÜm©iÚ
* 
	gdup
 = 
­p
->
ü—‹Upd©ePÏtoÚFÜm©iÚ
(
pos™iÚH–³r
->
g‘Id
(),…os™iÚH–³r->
g‘Ex‹º®Id
(),…os™iÚH–³r->
g‘PÏtoÚId
(), -1,…os™iÚH–³r->
g‘PÏtoÚS³ed
(), 
ŒaciVehişe
->
g‘LªeIndex
(), 
još”D©a
->
ÃwFÜm©iÚ
);

124 
	gde¡
 = 
pos™iÚH–³r
->
g‘Memb”Id
(
i
);

125 
	gdup
->
£tDe¡š©iÚId
(
de¡
);

126 
	g­p
->
£ndUniÿ¡
(
dup
, 
de¡
);

129 
	gjošMªeuv”S‹
 = 
JošMªeuv”S‹
::
IDLE
;

130 
	g­p
->
£tInMªeuv”
(
çl£
, 
nuÎ±r
);

	@maneuver/MergeAtBack.h

22 #´agm¨
Úû


24 
	~<®gÜ™hm
>

26 
	~"¶exe/mªeuv”/JošAtBack.h
"

28 
usšg
 
Çme¥aû
 
	gvešs
;

30 
Çme¥aû
 
	g¶exe
 {

32 şas 
	cM”geAtBack
 : 
public
 
JošAtBack
 {

34 
public
:

40 
M”geAtBack
(
G’”®PÏtoÚšgAµ
* 
­p
);

41 
	gvœtu®
 ~
M”geAtBack
();

48 
vœtu®
 
¡¬tMªeuv”
(cÚ¡ * 
·¿m‘”s
è
	gov”ride
;

55 
vœtu®
 
hªdËJošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
* 
msg
è
	gov”ride
;

62 
vœtu®
 
hªdËM”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
* 
msg
è
	gov”ride
;

69 
vœtu®
 
hªdËJošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
* 
msg
è
	gov”ride
;

76 
vœtu®
 
hªdËJošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
* 
msg
è
	gov”ride
;

78 
vœtu®
 
boŞ
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
	gov”ride
;

80 
	g´Ùeùed
:

82 
¡d
::
veùÜ
<> 
ŞdFÜm©iÚ
;

84 
	gŞdPÏtoÚId
;

87 
cMes§ge
* 
	gcheckDi¡ªû
;

	@messages/InterferingBeacon_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"IÁ”ãršgB—cÚ_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
IÁ”ãršgB—cÚ
)

182 
IÁ”ãršgB—cÚ
::
	$IÁ”ãršgB—cÚ
(cÚ¡ *
Çme
, 
kšd
è: ::
omÃp
::
	$cPack‘
(
Çme
,
kšd
)

184 
	}
}

186 
	gIÁ”ãršgB—cÚ
::
	$IÁ”ãršgB—cÚ
(cÚ¡ 
IÁ”ãršgB—cÚ
& 
Ùh”
è: ::
omÃp
::
	$cPack‘
(
Ùh”
)

188 
	`cİy
(
Ùh”
);

189 
	}
}

191 
	gIÁ”ãršgB—cÚ
::~
	$IÁ”ãršgB—cÚ
()

193 
	}
}

195 
IÁ”ãršgB—cÚ
& IÁ”ãršgB—cÚ::
İ”©Ü
=(cÚ¡ IÁ”ãršgB—cÚ& 
Ùh”
)

197 ià(
this
==&
Ùh”
)  *this;

198 ::
omÃp
::
cPack‘
::
İ”©Ü
=(
Ùh”
);

199 
cİy
(
Ùh”
);

200  *
	gthis
;

203 
	gIÁ”ãršgB—cÚ
::
	$cİy
(cÚ¡ 
IÁ”ãršgB—cÚ
& 
Ùh”
)

205 
	}
}

207 
IÁ”ãršgB—cÚ
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

209 ::
omÃp
::
cPack‘
::
	`·rsimPack
(
b
);

210 
	}
}

212 
	gIÁ”ãršgB—cÚ
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

214 ::
omÃp
::
cPack‘
::
	`·rsimUÅack
(
b
);

215 
	}
}

217 şas 
	cIÁ”ãršgB—cÚDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


219 
´iv©e
:

220 
mubË
 cÚ¡ **
´İ”tyÇmes
;

221 
	mpublic
:

222 
IÁ”ãršgB—cÚDesütÜ
();

223 
	mvœtu®
 ~
IÁ”ãršgB—cÚDesütÜ
();

225 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

226 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

227 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

228 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

229 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

230 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

231 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

232 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

233 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

234 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

235 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

237 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

238 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

239 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

241 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

242 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

245 
	$Regi¡”_CÏssDesütÜ
(
IÁ”ãršgB—cÚDesütÜ
)

247 
IÁ”ãršgB—cÚDesütÜ
::
	$IÁ”ãršgB—cÚDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("InterferingBeacon", "omnetpp::cPacket")

249 
´İ”tyÇmes
 = 
nuÎ±r
;

250 
	}
}

252 
	gIÁ”ãršgB—cÚDesütÜ
::~
	$IÁ”ãršgB—cÚDesütÜ
()

254 
d–‘e
[] 
´İ”tyÇmes
;

255 
	}
}

257 
boŞ
 
	gIÁ”ãršgB—cÚDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

259  
dyÇmic_ÿ¡
<
IÁ”ãršgB—cÚ
 *>(
obj
)!=
nuÎ±r
;

260 
	}
}

262 cÚ¡ **
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘Prİ”tyNames
() const

264 ià(!
´İ”tyÇmes
) {

265 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

266 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

267 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

268 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

270  
´İ”tyÇmes
;

271 
	}
}

273 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

275 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

276  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

277 
	}
}

279 
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldCouÁ
() const

281 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

282  
ba£desc
 ? 0+ba£desc->
	`g‘F›ldCouÁ
() : 0;

283 
	}
}

285 
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

287 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

288 ià(
ba£desc
) {

289 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

290  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

291 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

294 
	}
}

296 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

298 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

299 ià(
ba£desc
) {

300 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

301  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

302 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

304  
nuÎ±r
;

305 
	}
}

307 
	gIÁ”ãršgB—cÚDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

309 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

310  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

311 
	}
}

313 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

315 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

316 ià(
ba£desc
) {

317 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

318  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

319 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

321  
nuÎ±r
;

322 
	}
}

324 cÚ¡ **
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

326 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

327 ià(
ba£desc
) {

328 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

329  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

330 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

332 
f›ld
) {

333 :  
nuÎ±r
;

335 
	}
}

337 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

339 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

340 ià(
ba£desc
) {

341 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

342  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

343 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

345 
f›ld
) {

346 :  
nuÎ±r
;

348 
	}
}

350 
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

352 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

353 ià(
ba£desc
) {

354 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

355  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

356 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

358 
IÁ”ãršgB—cÚ
 *
µ
 = (IÁ”ãršgB—cÚ *)
objeù
; ()pp;

359 
f›ld
) {

362 
	}
}

364 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

366 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

367 ià(
ba£desc
) {

368 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

369  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

370 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

372 
IÁ”ãršgB—cÚ
 *
µ
 = (IÁ”ãršgB—cÚ *)
objeù
; ()pp;

373 
f›ld
) {

374 :  
nuÎ±r
;

376 
	}
}

378 
	g¡d
::
¡ršg
 
IÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

380 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

381 ià(
ba£desc
) {

382 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

383  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

384 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

386 
IÁ”ãršgB—cÚ
 *
µ
 = (IÁ”ãršgB—cÚ *)
objeù
; ()pp;

387 
f›ld
) {

390 
	}
}

392 
boŞ
 
	gIÁ”ãršgB—cÚDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

394 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

395 ià(
ba£desc
) {

396 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

397  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

398 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

400 
IÁ”ãršgB—cÚ
 *
µ
 = (IÁ”ãršgB—cÚ *)
objeù
; ()pp;

401 
f›ld
) {

402 :  
çl£
;

404 
	}
}

406 cÚ¡ *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

408 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

409 ià(
ba£desc
) {

410 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

411  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

412 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

414  
nuÎ±r
;

415 
	}
}

417 *
	gIÁ”ãršgB—cÚDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

419 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

420 ià(
ba£desc
) {

421 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

422  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

423 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

425 
IÁ”ãršgB—cÚ
 *
µ
 = (IÁ”ãršgB—cÚ *)
objeù
; ()pp;

426 
f›ld
) {

427 :  
nuÎ±r
;

429 
	}
}

	@messages/InterferingBeacon_m.h

5 #iâdeà
__INTERFERINGBEACON_M_H


6 
	#__INTERFERINGBEACON_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

40 şas 
	cPLEXE_API
 
	mIÁ”ãršgB—cÚ
 : 
public
 ::
omÃp
::
cPack‘


42 
´Ùeùed
:

44 
´iv©e
:

45 
cİy
(cÚ¡ 
IÁ”ãršgB—cÚ
& 
Ùh”
);

47 
	m´Ùeùed
:

49 
boŞ
 
İ”©Ü
==(cÚ¡ 
IÁ”ãršgB—cÚ
&);

51 
	mpublic
:

52 
IÁ”ãršgB—cÚ
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

53 
IÁ”ãršgB—cÚ
(cÚ¡ IÁ”ãršgB—cÚ& 
Ùh”
);

54 
	mvœtu®
 ~
IÁ”ãršgB—cÚ
();

55 
	mIÁ”ãršgB—cÚ
& 
	mİ”©Ü
=(cÚ¡ 
IÁ”ãršgB—cÚ
& 
Ùh”
);

56 
vœtu®
 
IÁ”ãršgB—cÚ
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`IÁ”ãršgB—cÚ
(*
this
);}

57 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

58 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

61 
	}
};

63 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
IÁ”ãršgB—cÚ
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

64 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
IÁ”ãršgB—cÚ
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/JoinFormationAck_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"JošFÜm©iÚAck_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
JošFÜm©iÚAck
)

182 
JošFÜm©iÚAck
::
	$JošFÜm©iÚAck
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gJošFÜm©iÚAck
::
	$JošFÜm©iÚAck
(cÚ¡ 
JošFÜm©iÚAck
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gJošFÜm©iÚAck
::~
	$JošFÜm©iÚAck
()

199 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

200 
	}
}

202 
	gJošFÜm©iÚAck
& JošFÜm©iÚAck::
İ”©Ü
=(cÚ¡ 
JošFÜm©iÚAck
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gJošFÜm©iÚAck
::
	$cİy
(cÚ¡ 
JošFÜm©iÚAck
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

215 
this
->
ÃwPÏtoÚFÜm©iÚ
 = (
Ùh”
.
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.newPlatoonFormation_arraysize];

216 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.newPlatoonFormation_arraysize;

217 
i
=0; i<
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
ÃwPÏtoÚFÜm©iÚ
[
i
] = 
Ùh”
.newPlatoonFormation[i];

219 
	}
}

221 
	gJošFÜm©iÚAck
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gJošFÜm©iÚAck
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

237 ià(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

240 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
Ãw
 [
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gJošFÜm©iÚAck
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gJošFÜm©iÚAck
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gJošFÜm©iÚAck
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gJošFÜm©iÚAck
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gJošFÜm©iÚAck
::
	$£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
ÃwPÏtoÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 < 
size
 ?‚ewPlatoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 
this
->
ÃwPÏtoÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 0;

273 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

275 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
ÃwPÏtoÚFÜm©iÚ2
;

276 
	}
}

278 
	gJošFÜm©iÚAck
::
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const

280  
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gJošFÜm©iÚAck
::
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

286  
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gJošFÜm©iÚAck
::
	$£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
)

291 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

292 
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
] =‚ewPlatoonFormation;

293 
	}
}

295 şas 
	cJošFÜm©iÚAckDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
JošFÜm©iÚAckDesütÜ
();

301 
	mvœtu®
 ~
JošFÜm©iÚAckDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
JošFÜm©iÚAckDesütÜ
)

325 
JošFÜm©iÚAckDesütÜ
::
	$JošFÜm©iÚAckDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("JoinFormationAck", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gJošFÜm©iÚAckDesütÜ
::~
	$JošFÜm©iÚAckDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gJošFÜm©iÚAckDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
JošFÜm©iÚAck
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gJošFÜm©iÚAckDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gJošFÜm©iÚAckDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='n' && 
	`¡rcmp
(f›ldName, "ÃwPÏtoÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
JošFÜm©iÚAck
 *
µ
 = (JošFÜm©iÚAck *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘NewPÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
JošFÜm©iÚAck
 *
µ
 = (JošFÜm©iÚAck *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
JošFÜm©iÚAckDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
JošFÜm©iÚAck
 *
µ
 = (JošFÜm©iÚAck *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘NewPÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gJošFÜm©iÚAckDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
JošFÜm©iÚAck
 *
µ
 = (JošFÜm©iÚAck *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tNewPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gJošFÜm©iÚAckDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
JošFÜm©iÚAck
 *
µ
 = (JošFÜm©iÚAck *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/JoinFormationAck_m.h

5 #iâdeà
__JOINFORMATIONACK_M_H


6 
	#__JOINFORMATIONACK_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

50 şas 
	cPLEXE_API
 
	mJošFÜm©iÚAck
 : 
public
 ::
Mªeuv”Mes§ge


52 
´Ùeùed
:

53 
¶©oÚS³ed
;

54 
	m¶©oÚLªe
;

55 *
	mÃwPÏtoÚFÜm©iÚ
;

56 
	mÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

58 
	m´iv©e
:

59 
cİy
(cÚ¡ 
JošFÜm©iÚAck
& 
Ùh”
);

61 
	m´Ùeùed
:

63 
boŞ
 
İ”©Ü
==(cÚ¡ 
JošFÜm©iÚAck
&);

65 
	mpublic
:

66 
JošFÜm©iÚAck
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

67 
JošFÜm©iÚAck
(cÚ¡ JošFÜm©iÚAck& 
Ùh”
);

68 
	mvœtu®
 ~
JošFÜm©iÚAck
();

69 
	mJošFÜm©iÚAck
& 
	mİ”©Ü
=(cÚ¡ 
JošFÜm©iÚAck
& 
Ùh”
);

70 
vœtu®
 
JošFÜm©iÚAck
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`JošFÜm©iÚAck
(*
this
);}

71 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

72 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

75 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

76 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

77 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

78 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

79 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
);

80 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const;

81 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const;

82 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
);

83 
	}
};

85 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
JošFÜm©iÚAck
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

86 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
JošFÜm©iÚAck
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/JoinFormation_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"JošFÜm©iÚ_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
JošFÜm©iÚ
)

182 
JošFÜm©iÚ
::
	$JošFÜm©iÚ
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gJošFÜm©iÚ
::
	$JošFÜm©iÚ
(cÚ¡ 
JošFÜm©iÚ
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gJošFÜm©iÚ
::~
	$JošFÜm©iÚ
()

199 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

200 
	}
}

202 
	gJošFÜm©iÚ
& JošFÜm©iÚ::
İ”©Ü
=(cÚ¡ 
JošFÜm©iÚ
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gJošFÜm©iÚ
::
	$cİy
(cÚ¡ 
JošFÜm©iÚ
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

215 
this
->
ÃwPÏtoÚFÜm©iÚ
 = (
Ùh”
.
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.newPlatoonFormation_arraysize];

216 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.newPlatoonFormation_arraysize;

217 
i
=0; i<
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
ÃwPÏtoÚFÜm©iÚ
[
i
] = 
Ùh”
.newPlatoonFormation[i];

219 
	}
}

221 
	gJošFÜm©iÚ
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gJošFÜm©iÚ
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

237 ià(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

240 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
Ãw
 [
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gJošFÜm©iÚ
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gJošFÜm©iÚ
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gJošFÜm©iÚ
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gJošFÜm©iÚ
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gJošFÜm©iÚ
::
	$£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
ÃwPÏtoÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 < 
size
 ?‚ewPlatoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 
this
->
ÃwPÏtoÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 0;

273 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

275 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
ÃwPÏtoÚFÜm©iÚ2
;

276 
	}
}

278 
	gJošFÜm©iÚ
::
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const

280  
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gJošFÜm©iÚ
::
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

286  
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gJošFÜm©iÚ
::
	$£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
)

291 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

292 
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
] =‚ewPlatoonFormation;

293 
	}
}

295 şas 
	cJošFÜm©iÚDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
JošFÜm©iÚDesütÜ
();

301 
	mvœtu®
 ~
JošFÜm©iÚDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
JošFÜm©iÚDesütÜ
)

325 
JošFÜm©iÚDesütÜ
::
	$JošFÜm©iÚDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("JoinFormation", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gJošFÜm©iÚDesütÜ
::~
	$JošFÜm©iÚDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gJošFÜm©iÚDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
JošFÜm©iÚ
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gJošFÜm©iÚDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gJošFÜm©iÚDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='n' && 
	`¡rcmp
(f›ldName, "ÃwPÏtoÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
JošFÜm©iÚ
 *
µ
 = (JošFÜm©iÚ *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘NewPÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
JošFÜm©iÚ
 *
µ
 = (JošFÜm©iÚ *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
JošFÜm©iÚDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
JošFÜm©iÚ
 *
µ
 = (JošFÜm©iÚ *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘NewPÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gJošFÜm©iÚDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
JošFÜm©iÚ
 *
µ
 = (JošFÜm©iÚ *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tNewPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gJošFÜm©iÚDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
JošFÜm©iÚ
 *
µ
 = (JošFÜm©iÚ *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/JoinFormation_m.h

5 #iâdeà
__JOINFORMATION_M_H


6 
	#__JOINFORMATION_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

50 şas 
	cPLEXE_API
 
	mJošFÜm©iÚ
 : 
public
 ::
Mªeuv”Mes§ge


52 
´Ùeùed
:

53 
¶©oÚS³ed
;

54 
	m¶©oÚLªe
;

55 *
	mÃwPÏtoÚFÜm©iÚ
;

56 
	mÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

58 
	m´iv©e
:

59 
cİy
(cÚ¡ 
JošFÜm©iÚ
& 
Ùh”
);

61 
	m´Ùeùed
:

63 
boŞ
 
İ”©Ü
==(cÚ¡ 
JošFÜm©iÚ
&);

65 
	mpublic
:

66 
JošFÜm©iÚ
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

67 
JošFÜm©iÚ
(cÚ¡ JošFÜm©iÚ& 
Ùh”
);

68 
	mvœtu®
 ~
JošFÜm©iÚ
();

69 
	mJošFÜm©iÚ
& 
	mİ”©Ü
=(cÚ¡ 
JošFÜm©iÚ
& 
Ùh”
);

70 
vœtu®
 
JošFÜm©iÚ
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`JošFÜm©iÚ
(*
this
);}

71 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

72 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

75 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

76 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

77 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

78 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

79 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
);

80 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const;

81 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const;

82 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
);

83 
	}
};

85 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
JošFÜm©iÚ
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

86 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
JošFÜm©iÚ
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/JoinPlatoonRequest_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"JošPÏtoÚReque¡_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
JošPÏtoÚReque¡
)

182 
JošPÏtoÚReque¡
::
	$JošPÏtoÚReque¡
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
cu¼’tLªeIndex
 = 0;

185 
this
->
xPos
 = 0;

186 
this
->
yPos
 = 0;

187 
	}
}

189 
	gJošPÏtoÚReque¡
::
	$JošPÏtoÚReque¡
(cÚ¡ 
JošPÏtoÚReque¡
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

191 
	`cİy
(
Ùh”
);

192 
	}
}

194 
	gJošPÏtoÚReque¡
::~
	$JošPÏtoÚReque¡
()

196 
	}
}

198 
JošPÏtoÚReque¡
& JošPÏtoÚReque¡::
İ”©Ü
=(cÚ¡ JošPÏtoÚReque¡& 
Ùh”
)

200 ià(
this
==&
Ùh”
)  *this;

201 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

202 
cİy
(
Ùh”
);

203  *
	gthis
;

206 
	gJošPÏtoÚReque¡
::
	$cİy
(cÚ¡ 
JošPÏtoÚReque¡
& 
Ùh”
)

208 
this
->
cu¼’tLªeIndex
 = 
Ùh”
.currentLaneIndex;

209 
this
->
xPos
 = 
Ùh”
.xPos;

210 
this
->
yPos
 = 
Ùh”
.yPos;

211 
	}
}

213 
	gJošPÏtoÚReque¡
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

215 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

216 
	`doP¬simPackšg
(
b
,
this
->
cu¼’tLªeIndex
);

217 
	`doP¬simPackšg
(
b
,
this
->
xPos
);

218 
	`doP¬simPackšg
(
b
,
this
->
yPos
);

219 
	}
}

221 
	gJošPÏtoÚReque¡
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

223 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

224 
	`doP¬simUÅackšg
(
b
,
this
->
cu¼’tLªeIndex
);

225 
	`doP¬simUÅackšg
(
b
,
this
->
xPos
);

226 
	`doP¬simUÅackšg
(
b
,
this
->
yPos
);

227 
	}
}

229 
	gJošPÏtoÚReque¡
::
	$g‘Cu¼’tLªeIndex
() const

231  
this
->
cu¼’tLªeIndex
;

232 
	}
}

234 
	gJošPÏtoÚReque¡
::
	$£tCu¼’tLªeIndex
(
cu¼’tLªeIndex
)

236 
this
->
cu¼’tLªeIndex
 = currentLaneIndex;

237 
	}
}

239 
	gJošPÏtoÚReque¡
::
	$g‘XPos
() const

241  
this
->
xPos
;

242 
	}
}

244 
	gJošPÏtoÚReque¡
::
	$£tXPos
(
xPos
)

246 
this
->
xPos
 = xPos;

247 
	}
}

249 
	gJošPÏtoÚReque¡
::
	$g‘YPos
() const

251  
this
->
yPos
;

252 
	}
}

254 
	gJošPÏtoÚReque¡
::
	$£tYPos
(
yPos
)

256 
this
->
yPos
 = yPos;

257 
	}
}

259 şas 
	cJošPÏtoÚReque¡DesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


261 
´iv©e
:

262 
mubË
 cÚ¡ **
´İ”tyÇmes
;

263 
	mpublic
:

264 
JošPÏtoÚReque¡DesütÜ
();

265 
	mvœtu®
 ~
JošPÏtoÚReque¡DesütÜ
();

267 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

268 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

269 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

270 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

271 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

272 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

273 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

274 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

275 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

276 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

277 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

279 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

280 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

281 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

283 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

284 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

287 
	$Regi¡”_CÏssDesütÜ
(
JošPÏtoÚReque¡DesütÜ
)

289 
JošPÏtoÚReque¡DesütÜ
::
	$JošPÏtoÚReque¡DesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("JoinPlatoonRequest", "ManeuverMessage")

291 
´İ”tyÇmes
 = 
nuÎ±r
;

292 
	}
}

294 
	gJošPÏtoÚReque¡DesütÜ
::~
	$JošPÏtoÚReque¡DesütÜ
()

296 
d–‘e
[] 
´İ”tyÇmes
;

297 
	}
}

299 
boŞ
 
	gJošPÏtoÚReque¡DesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

301  
dyÇmic_ÿ¡
<
JošPÏtoÚReque¡
 *>(
obj
)!=
nuÎ±r
;

302 
	}
}

304 cÚ¡ **
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘Prİ”tyNames
() const

306 ià(!
´İ”tyÇmes
) {

307 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

308 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

309 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

310 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

312  
´İ”tyÇmes
;

313 
	}
}

315 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

317 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

318  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

319 
	}
}

321 
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldCouÁ
() const

323 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

324  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

325 
	}
}

327 
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

329 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

330 ià(
ba£desc
) {

331 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

332  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

333 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

335 
f›ldTy³FÏgs
[] = {

336 
FD_ISEDITABLE
,

337 
FD_ISEDITABLE
,

338 
FD_ISEDITABLE
,

340  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

341 
	}
}

343 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldName
(
f›ld
) const

345 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

346 ià(
ba£desc
) {

347 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

348  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

349 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

351 cÚ¡ *
f›ldNames
[] = {

356  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

357 
	}
}

359 
	gJošPÏtoÚReque¡DesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

361 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

362 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

363 ià(
f›ldName
[0]=='c' && 
	`¡rcmp
(f›ldName, "cu¼’tLªeIndex")==0è 
ba£
+0;

364 ià(
f›ldName
[0]=='x' && 
	`¡rcmp
(f›ldName, "xPos")==0è 
ba£
+1;

365 ià(
f›ldName
[0]=='y' && 
	`¡rcmp
(f›ldName, "yPos")==0è 
ba£
+2;

366  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

367 
	}
}

369 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

371 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

372 ià(
ba£desc
) {

373 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

374  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

375 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

377 cÚ¡ *
f›ldTy³SŒšgs
[] = {

382  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

383 
	}
}

385 cÚ¡ **
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

387 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

388 ià(
ba£desc
) {

389 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

390  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

391 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

393 
f›ld
) {

394 :  
nuÎ±r
;

396 
	}
}

398 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

400 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

401 ià(
ba£desc
) {

402 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

403  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

404 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

406 
f›ld
) {

407 :  
nuÎ±r
;

409 
	}
}

411 
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

413 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

414 ià(
ba£desc
) {

415 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

416  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

417 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

419 
JošPÏtoÚReque¡
 *
µ
 = (JošPÏtoÚReque¡ *)
objeù
; ()pp;

420 
f›ld
) {

423 
	}
}

425 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

427 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

428 ià(
ba£desc
) {

429 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

430  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

431 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

433 
JošPÏtoÚReque¡
 *
µ
 = (JošPÏtoÚReque¡ *)
objeù
; ()pp;

434 
f›ld
) {

435 :  
nuÎ±r
;

437 
	}
}

439 
	g¡d
::
¡ršg
 
JošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

441 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

442 ià(
ba£desc
) {

443 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

444  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

445 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

447 
JošPÏtoÚReque¡
 *
µ
 = (JošPÏtoÚReque¡ *)
objeù
; ()pp;

448 
f›ld
) {

449 0:  
	`lÚg2¡ršg
(
µ
->
	`g‘Cu¼’tLªeIndex
());

450 1:  
	`doubË2¡ršg
(
µ
->
	`g‘XPos
());

451 2:  
	`doubË2¡ršg
(
µ
->
	`g‘YPos
());

454 
	}
}

456 
boŞ
 
	gJošPÏtoÚReque¡DesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

458 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

459 ià(
ba£desc
) {

460 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

461  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

462 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

464 
JošPÏtoÚReque¡
 *
µ
 = (JošPÏtoÚReque¡ *)
objeù
; ()pp;

465 
f›ld
) {

466 0: 
µ
->
	`£tCu¼’tLªeIndex
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

467 1: 
µ
->
	`£tXPos
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

468 2: 
µ
->
	`£tYPos
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

469 :  
çl£
;

471 
	}
}

473 cÚ¡ *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

475 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

476 ià(
ba£desc
) {

477 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

478  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

479 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

481 
f›ld
) {

482 :  
nuÎ±r
;

484 
	}
}

486 *
	gJošPÏtoÚReque¡DesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

488 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

489 ià(
ba£desc
) {

490 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

491  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

492 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

494 
JošPÏtoÚReque¡
 *
µ
 = (JošPÏtoÚReque¡ *)
objeù
; ()pp;

495 
f›ld
) {

496 :  
nuÎ±r
;

498 
	}
}

	@messages/JoinPlatoonRequest_m.h

5 #iâdeà
__JOINPLATOONREQUEST_M_H


6 
	#__JOINPLATOONREQUEST_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

50 şas 
	cPLEXE_API
 
	mJošPÏtoÚReque¡
 : 
public
 ::
Mªeuv”Mes§ge


52 
´Ùeùed
:

53 
cu¼’tLªeIndex
;

54 
	mxPos
;

55 
	myPos
;

57 
	m´iv©e
:

58 
cİy
(cÚ¡ 
JošPÏtoÚReque¡
& 
Ùh”
);

60 
	m´Ùeùed
:

62 
boŞ
 
İ”©Ü
==(cÚ¡ 
JošPÏtoÚReque¡
&);

64 
	mpublic
:

65 
JošPÏtoÚReque¡
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

66 
JošPÏtoÚReque¡
(cÚ¡ JošPÏtoÚReque¡& 
Ùh”
);

67 
	mvœtu®
 ~
JošPÏtoÚReque¡
();

68 
	mJošPÏtoÚReque¡
& 
	mİ”©Ü
=(cÚ¡ 
JošPÏtoÚReque¡
& 
Ùh”
);

69 
vœtu®
 
JošPÏtoÚReque¡
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`JošPÏtoÚReque¡
(*
this
);}

70 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

71 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

74 
vœtu®
 
	$g‘Cu¼’tLªeIndex
() const;

75 
vœtu®
 
	`£tCu¼’tLªeIndex
(
cu¼’tLªeIndex
);

76 
vœtu®
 
	$g‘XPos
() const;

77 
vœtu®
 
	`£tXPos
(
xPos
);

78 
vœtu®
 
	$g‘YPos
() const;

79 
vœtu®
 
	`£tYPos
(
yPos
);

80 
	}
};

82 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
JošPÏtoÚReque¡
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

83 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
JošPÏtoÚReque¡
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/JoinPlatoonResponse_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"JošPÏtoÚRe¥Ú£_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
JošPÏtoÚRe¥Ú£
)

182 
JošPÏtoÚRe¥Ú£
::
	$JošPÏtoÚRe¥Ú£
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
³rm™‹d
 = 
çl£
;

185 
	}
}

187 
	gJošPÏtoÚRe¥Ú£
::
	$JošPÏtoÚRe¥Ú£
(cÚ¡ 
JošPÏtoÚRe¥Ú£
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

189 
	`cİy
(
Ùh”
);

190 
	}
}

192 
	gJošPÏtoÚRe¥Ú£
::~
	$JošPÏtoÚRe¥Ú£
()

194 
	}
}

196 
JošPÏtoÚRe¥Ú£
& JošPÏtoÚRe¥Ú£::
İ”©Ü
=(cÚ¡ JošPÏtoÚRe¥Ú£& 
Ùh”
)

198 ià(
this
==&
Ùh”
)  *this;

199 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

200 
cİy
(
Ùh”
);

201  *
	gthis
;

204 
	gJošPÏtoÚRe¥Ú£
::
	$cİy
(cÚ¡ 
JošPÏtoÚRe¥Ú£
& 
Ùh”
)

206 
this
->
³rm™‹d
 = 
Ùh”
.permitted;

207 
	}
}

209 
	gJošPÏtoÚRe¥Ú£
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

211 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

212 
	`doP¬simPackšg
(
b
,
this
->
³rm™‹d
);

213 
	}
}

215 
	gJošPÏtoÚRe¥Ú£
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

217 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

218 
	`doP¬simUÅackšg
(
b
,
this
->
³rm™‹d
);

219 
	}
}

221 
boŞ
 
	gJošPÏtoÚRe¥Ú£
::
	$g‘P”m™‹d
() const

223  
this
->
³rm™‹d
;

224 
	}
}

226 
	gJošPÏtoÚRe¥Ú£
::
	$£tP”m™‹d
(
boŞ
 
³rm™‹d
)

228 
this
->
³rm™‹d
 =…ermitted;

229 
	}
}

231 şas 
	cJošPÏtoÚRe¥Ú£DesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


233 
´iv©e
:

234 
mubË
 cÚ¡ **
´İ”tyÇmes
;

235 
	mpublic
:

236 
JošPÏtoÚRe¥Ú£DesütÜ
();

237 
	mvœtu®
 ~
JošPÏtoÚRe¥Ú£DesütÜ
();

239 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

240 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

241 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

242 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

243 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

244 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

245 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

246 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

247 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

248 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

249 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

251 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

252 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

253 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

255 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

256 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

259 
	$Regi¡”_CÏssDesütÜ
(
JošPÏtoÚRe¥Ú£DesütÜ
)

261 
JošPÏtoÚRe¥Ú£DesütÜ
::
	$JošPÏtoÚRe¥Ú£DesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("JoinPlatoonResponse", "ManeuverMessage")

263 
´İ”tyÇmes
 = 
nuÎ±r
;

264 
	}
}

266 
	gJošPÏtoÚRe¥Ú£DesütÜ
::~
	$JošPÏtoÚRe¥Ú£DesütÜ
()

268 
d–‘e
[] 
´İ”tyÇmes
;

269 
	}
}

271 
boŞ
 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

273  
dyÇmic_ÿ¡
<
JošPÏtoÚRe¥Ú£
 *>(
obj
)!=
nuÎ±r
;

274 
	}
}

276 cÚ¡ **
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘Prİ”tyNames
() const

278 ià(!
´İ”tyÇmes
) {

279 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

280 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

281 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

282 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

284  
´İ”tyÇmes
;

285 
	}
}

287 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

289 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

290  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

291 
	}
}

293 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldCouÁ
() const

295 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

296  
ba£desc
 ? 1+ba£desc->
	`g‘F›ldCouÁ
() : 1;

297 
	}
}

299 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

301 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

302 ià(
ba£desc
) {

303 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

304  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

305 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

307 
f›ldTy³FÏgs
[] = {

308 
FD_ISEDITABLE
,

310  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³FÏgs
[field] : 0;

311 
	}
}

313 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldName
(
f›ld
) const

315 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

316 ià(
ba£desc
) {

317 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

318  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

319 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

321 cÚ¡ *
f›ldNames
[] = {

324  (
f›ld
>=0 && f›ld<1è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

325 
	}
}

327 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

329 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

330 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

331 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "³rm™‹d")==0è 
ba£
+0;

332  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

333 
	}
}

335 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

337 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

338 ià(
ba£desc
) {

339 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

340  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

341 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

343 cÚ¡ *
f›ldTy³SŒšgs
[] = {

346  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

347 
	}
}

349 cÚ¡ **
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

351 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

352 ià(
ba£desc
) {

353 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

354  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

355 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

357 
f›ld
) {

358 :  
nuÎ±r
;

360 
	}
}

362 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

364 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

365 ià(
ba£desc
) {

366 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

367  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

368 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

370 
f›ld
) {

371 :  
nuÎ±r
;

373 
	}
}

375 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

377 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

378 ià(
ba£desc
) {

379 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

380  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

381 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

383 
JošPÏtoÚRe¥Ú£
 *
µ
 = (JošPÏtoÚRe¥Ú£ *)
objeù
; ()pp;

384 
f›ld
) {

387 
	}
}

389 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

391 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

392 ià(
ba£desc
) {

393 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

394  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

395 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

397 
JošPÏtoÚRe¥Ú£
 *
µ
 = (JošPÏtoÚRe¥Ú£ *)
objeù
; ()pp;

398 
f›ld
) {

399 :  
nuÎ±r
;

401 
	}
}

403 
	g¡d
::
¡ršg
 
JošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

405 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

406 ià(
ba£desc
) {

407 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

408  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

409 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

411 
JošPÏtoÚRe¥Ú£
 *
µ
 = (JošPÏtoÚRe¥Ú£ *)
objeù
; ()pp;

412 
f›ld
) {

413 0:  
	`boŞ2¡ršg
(
µ
->
	`g‘P”m™‹d
());

416 
	}
}

418 
boŞ
 
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

420 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

421 ià(
ba£desc
) {

422 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

423  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

424 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

426 
JošPÏtoÚRe¥Ú£
 *
µ
 = (JošPÏtoÚRe¥Ú£ *)
objeù
; ()pp;

427 
f›ld
) {

428 0: 
µ
->
	`£tP”m™‹d
(
	`¡ršg2boŞ
(
v®ue
));  
Œue
;

429 :  
çl£
;

431 
	}
}

433 cÚ¡ *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

435 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

436 ià(
ba£desc
) {

437 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

438  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

439 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

441 
f›ld
) {

442 :  
nuÎ±r
;

444 
	}
}

446 *
	gJošPÏtoÚRe¥Ú£DesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

448 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

449 ià(
ba£desc
) {

450 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

451  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

452 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

454 
JošPÏtoÚRe¥Ú£
 *
µ
 = (JošPÏtoÚRe¥Ú£ *)
objeù
; ()pp;

455 
f›ld
) {

456 :  
nuÎ±r
;

458 
	}
}

	@messages/JoinPlatoonResponse_m.h

5 #iâdeà
__JOINPLATOONRESPONSE_M_H


6 
	#__JOINPLATOONRESPONSE_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

49 şas 
	cPLEXE_API
 
	mJošPÏtoÚRe¥Ú£
 : 
public
 ::
Mªeuv”Mes§ge


51 
´Ùeùed
:

52 
boŞ
 
³rm™‹d
;

54 
	m´iv©e
:

55 
cİy
(cÚ¡ 
JošPÏtoÚRe¥Ú£
& 
Ùh”
);

57 
	m´Ùeùed
:

59 
boŞ
 
İ”©Ü
==(cÚ¡ 
JošPÏtoÚRe¥Ú£
&);

61 
	mpublic
:

62 
JošPÏtoÚRe¥Ú£
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

63 
JošPÏtoÚRe¥Ú£
(cÚ¡ JošPÏtoÚRe¥Ú£& 
Ùh”
);

64 
	mvœtu®
 ~
JošPÏtoÚRe¥Ú£
();

65 
	mJošPÏtoÚRe¥Ú£
& 
	mİ”©Ü
=(cÚ¡ 
JošPÏtoÚRe¥Ú£
& 
Ùh”
);

66 
vœtu®
 
JošPÏtoÚRe¥Ú£
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`JošPÏtoÚRe¥Ú£
(*
this
);}

67 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

68 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

71 
vœtu®
 
boŞ
 
	$g‘P”m™‹d
() const;

72 
vœtu®
 
	`£tP”m™‹d
(
boŞ
 
³rm™‹d
);

73 
	}
};

75 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
JošPÏtoÚRe¥Ú£
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

76 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
JošPÏtoÚRe¥Ú£
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/ManeuverMessage_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"Mªeuv”Mes§ge_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
Mªeuv”Mes§ge
)

182 
Mªeuv”Mes§ge
::
	$Mªeuv”Mes§ge
(cÚ¡ *
Çme
, 
kšd
è: ::
omÃp
::
	$cPack‘
(
Çme
,
kšd
)

184 
this
->
vehişeId
 = 0;

185 
this
->
¶©oÚId
 = 0;

186 
this
->
de¡š©iÚId
 = 0;

187 
	}
}

189 
	gMªeuv”Mes§ge
::
	$Mªeuv”Mes§ge
(cÚ¡ 
Mªeuv”Mes§ge
& 
Ùh”
è: ::
omÃp
::
	$cPack‘
(
Ùh”
)

191 
	`cİy
(
Ùh”
);

192 
	}
}

194 
	gMªeuv”Mes§ge
::~
	$Mªeuv”Mes§ge
()

196 
	}
}

198 
Mªeuv”Mes§ge
& Mªeuv”Mes§ge::
İ”©Ü
=(cÚ¡ Mªeuv”Mes§ge& 
Ùh”
)

200 ià(
this
==&
Ùh”
)  *this;

201 ::
omÃp
::
cPack‘
::
İ”©Ü
=(
Ùh”
);

202 
cİy
(
Ùh”
);

203  *
	gthis
;

206 
	gMªeuv”Mes§ge
::
	$cİy
(cÚ¡ 
Mªeuv”Mes§ge
& 
Ùh”
)

208 
this
->
vehişeId
 = 
Ùh”
.vehicleId;

209 
this
->
¶©oÚId
 = 
Ùh”
.platoonId;

210 
this
->
de¡š©iÚId
 = 
Ùh”
.destinationId;

211 
this
->
ex‹º®Id
 = 
Ùh”
.externalId;

212 
	}
}

214 
	gMªeuv”Mes§ge
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

216 ::
omÃp
::
cPack‘
::
	`·rsimPack
(
b
);

217 
	`doP¬simPackšg
(
b
,
this
->
vehişeId
);

218 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚId
);

219 
	`doP¬simPackšg
(
b
,
this
->
de¡š©iÚId
);

220 
	`doP¬simPackšg
(
b
,
this
->
ex‹º®Id
);

221 
	}
}

223 
	gMªeuv”Mes§ge
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

225 ::
omÃp
::
cPack‘
::
	`·rsimUÅack
(
b
);

226 
	`doP¬simUÅackšg
(
b
,
this
->
vehişeId
);

227 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚId
);

228 
	`doP¬simUÅackšg
(
b
,
this
->
de¡š©iÚId
);

229 
	`doP¬simUÅackšg
(
b
,
this
->
ex‹º®Id
);

230 
	}
}

232 
	gMªeuv”Mes§ge
::
	$g‘VehişeId
() const

234  
this
->
vehişeId
;

235 
	}
}

237 
	gMªeuv”Mes§ge
::
	$£tVehişeId
(
vehişeId
)

239 
this
->
vehişeId
 = vehicleId;

240 
	}
}

242 
	gMªeuv”Mes§ge
::
	$g‘PÏtoÚId
() const

244  
this
->
¶©oÚId
;

245 
	}
}

247 
	gMªeuv”Mes§ge
::
	$£tPÏtoÚId
(
¶©oÚId
)

249 
this
->
¶©oÚId
 =…latoonId;

250 
	}
}

252 
	gMªeuv”Mes§ge
::
	$g‘De¡š©iÚId
() const

254  
this
->
de¡š©iÚId
;

255 
	}
}

257 
	gMªeuv”Mes§ge
::
	$£tDe¡š©iÚId
(
de¡š©iÚId
)

259 
this
->
de¡š©iÚId
 = destinationId;

260 
	}
}

262 cÚ¡ * 
	gMªeuv”Mes§ge
::
	$g‘Ex‹º®Id
() const

264  
this
->
ex‹º®Id
.
	`c_¡r
();

265 
	}
}

267 
	gMªeuv”Mes§ge
::
	$£tEx‹º®Id
(cÚ¡ * 
ex‹º®Id
)

269 
this
->
ex‹º®Id
 =ƒxternalId;

270 
	}
}

272 şas 
	cMªeuv”Mes§geDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


274 
´iv©e
:

275 
mubË
 cÚ¡ **
´İ”tyÇmes
;

276 
	mpublic
:

277 
Mªeuv”Mes§geDesütÜ
();

278 
	mvœtu®
 ~
Mªeuv”Mes§geDesütÜ
();

280 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

281 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

282 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

283 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

284 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

285 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

286 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

287 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

288 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

289 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

290 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

292 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

293 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

294 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

296 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

297 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

300 
	$Regi¡”_CÏssDesütÜ
(
Mªeuv”Mes§geDesütÜ
)

302 
Mªeuv”Mes§geDesütÜ
::
	$Mªeuv”Mes§geDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("ManeuverMessage", "omnetpp::cPacket")

304 
´İ”tyÇmes
 = 
nuÎ±r
;

305 
	}
}

307 
	gMªeuv”Mes§geDesütÜ
::~
	$Mªeuv”Mes§geDesütÜ
()

309 
d–‘e
[] 
´İ”tyÇmes
;

310 
	}
}

312 
boŞ
 
	gMªeuv”Mes§geDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

314  
dyÇmic_ÿ¡
<
Mªeuv”Mes§ge
 *>(
obj
)!=
nuÎ±r
;

315 
	}
}

317 cÚ¡ **
	gMªeuv”Mes§geDesütÜ
::
	$g‘Prİ”tyNames
() const

319 ià(!
´İ”tyÇmes
) {

320 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

321 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

322 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

323 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

325  
´İ”tyÇmes
;

326 
	}
}

328 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

330 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

331  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

332 
	}
}

334 
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldCouÁ
() const

336 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

337  
ba£desc
 ? 4+ba£desc->
	`g‘F›ldCouÁ
() : 4;

338 
	}
}

340 
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

342 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

343 ià(
ba£desc
) {

344 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

345  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

346 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

348 
f›ldTy³FÏgs
[] = {

349 
FD_ISEDITABLE
,

350 
FD_ISEDITABLE
,

351 
FD_ISEDITABLE
,

352 
FD_ISEDITABLE
,

354  (
f›ld
>=0 && f›ld<4è? 
f›ldTy³FÏgs
[field] : 0;

355 
	}
}

357 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360 ià(
ba£desc
) {

361 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

362  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

363 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

365 cÚ¡ *
f›ldNames
[] = {

371  (
f›ld
>=0 && f›ld<4è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

372 
	}
}

374 
	gMªeuv”Mes§geDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

376 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

377 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

378 ià(
f›ldName
[0]=='v' && 
	`¡rcmp
(f›ldName, "vehişeId")==0è 
ba£
+0;

379 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚId")==0è 
ba£
+1;

380 ià(
f›ldName
[0]=='d' && 
	`¡rcmp
(f›ldName, "de¡š©iÚId")==0è 
ba£
+2;

381 ià(
f›ldName
[0]=='e' && 
	`¡rcmp
(f›ldName, "ex‹º®Id")==0è 
ba£
+3;

382  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

383 
	}
}

385 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

387 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

388 ià(
ba£desc
) {

389 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

390  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

391 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

393 cÚ¡ *
f›ldTy³SŒšgs
[] = {

399  (
f›ld
>=0 && f›ld<4è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

400 
	}
}

402 cÚ¡ **
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

404 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

405 ià(
ba£desc
) {

406 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

407  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

408 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

410 
f›ld
) {

411 :  
nuÎ±r
;

413 
	}
}

415 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

417 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

418 ià(
ba£desc
) {

419 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

420  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

421 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

423 
f›ld
) {

424 :  
nuÎ±r
;

426 
	}
}

428 
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

430 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

431 ià(
ba£desc
) {

432 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

433  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

434 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

436 
Mªeuv”Mes§ge
 *
µ
 = (Mªeuv”Mes§g*)
objeù
; ()pp;

437 
f›ld
) {

440 
	}
}

442 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

444 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

445 ià(
ba£desc
) {

446 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

447  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

448 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

450 
Mªeuv”Mes§ge
 *
µ
 = (Mªeuv”Mes§g*)
objeù
; ()pp;

451 
f›ld
) {

452 :  
nuÎ±r
;

454 
	}
}

456 
	g¡d
::
¡ršg
 
Mªeuv”Mes§geDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

458 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

459 ià(
ba£desc
) {

460 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

461  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

462 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

464 
Mªeuv”Mes§ge
 *
µ
 = (Mªeuv”Mes§g*)
objeù
; ()pp;

465 
f›ld
) {

466 0:  
	`lÚg2¡ršg
(
µ
->
	`g‘VehişeId
());

467 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚId
());

468 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘De¡š©iÚId
());

469 3:  
	`İp¡ršg2¡ršg
(
µ
->
	`g‘Ex‹º®Id
());

472 
	}
}

474 
boŞ
 
	gMªeuv”Mes§geDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

476 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

477 ià(
ba£desc
) {

478 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

479  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

480 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

482 
Mªeuv”Mes§ge
 *
µ
 = (Mªeuv”Mes§g*)
objeù
; ()pp;

483 
f›ld
) {

484 0: 
µ
->
	`£tVehişeId
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

485 1: 
µ
->
	`£tPÏtoÚId
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

486 2: 
µ
->
	`£tDe¡š©iÚId
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

487 3: 
µ
->
	`£tEx‹º®Id
((
v®ue
));  
Œue
;

488 :  
çl£
;

490 
	}
}

492 cÚ¡ *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

494 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

495 ià(
ba£desc
) {

496 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

497  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

498 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

500 
f›ld
) {

501 :  
nuÎ±r
;

503 
	}
}

505 *
	gMªeuv”Mes§geDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

507 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

508 ià(
ba£desc
) {

509 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

510  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

511 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

513 
Mªeuv”Mes§ge
 *
µ
 = (Mªeuv”Mes§g*)
objeù
; ()pp;

514 
f›ld
) {

515 :  
nuÎ±r
;

517 
	}
}

	@messages/ManeuverMessage_m.h

5 #iâdeà
__MANEUVERMESSAGE_M_H


6 
	#__MANEUVERMESSAGE_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

34 cÚ¡ 
	gMANEUVER_TYPE
 = 12347;

55 şas 
	cPLEXE_API
 
	mMªeuv”Mes§ge
 : 
public
 ::
omÃp
::
cPack‘


57 
´Ùeùed
:

58 
vehişeId
;

59 
	m¶©oÚId
;

60 
	mde¡š©iÚId
;

61 ::
omÃp
::
İp_¡ršg
 
ex‹º®Id
;

63 
	m´iv©e
:

64 
cİy
(cÚ¡ 
Mªeuv”Mes§ge
& 
Ùh”
);

66 
	m´Ùeùed
:

68 
boŞ
 
İ”©Ü
==(cÚ¡ 
Mªeuv”Mes§ge
&);

70 
	mpublic
:

71 
Mªeuv”Mes§ge
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

72 
Mªeuv”Mes§ge
(cÚ¡ Mªeuv”Mes§ge& 
Ùh”
);

73 
	mvœtu®
 ~
Mªeuv”Mes§ge
();

74 
	mMªeuv”Mes§ge
& 
	mİ”©Ü
=(cÚ¡ 
Mªeuv”Mes§ge
& 
Ùh”
);

75 
vœtu®
 
Mªeuv”Mes§ge
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`Mªeuv”Mes§ge
(*
this
);}

76 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

77 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

80 
vœtu®
 
	$g‘VehişeId
() const;

81 
vœtu®
 
	`£tVehişeId
(
vehişeId
);

82 
vœtu®
 
	$g‘PÏtoÚId
() const;

83 
vœtu®
 
	`£tPÏtoÚId
(
¶©oÚId
);

84 
vœtu®
 
	$g‘De¡š©iÚId
() const;

85 
vœtu®
 
	`£tDe¡š©iÚId
(
de¡š©iÚId
);

86 
vœtu®
 cÚ¡ * 
	$g‘Ex‹º®Id
() const;

87 
vœtu®
 
	`£tEx‹º®Id
(cÚ¡ * 
ex‹º®Id
);

88 
	}
};

90 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
Mªeuv”Mes§ge
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

91 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
Mªeuv”Mes§ge
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/MergePlatoonRequest_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"M”gePÏtoÚReque¡_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
M”gePÏtoÚReque¡
)

182 
M”gePÏtoÚReque¡
::
	$M”gePÏtoÚReque¡
(cÚ¡ *
Çme
, 
kšd
è: ::
	$JošPÏtoÚReque¡
(
Çme
,
kšd
)

184 
memb”s_¬¿ysize
 = 0;

185 
this
->
memb”s
 = 0;

186 
	}
}

188 
	gM”gePÏtoÚReque¡
::
	$M”gePÏtoÚReque¡
(cÚ¡ 
M”gePÏtoÚReque¡
& 
Ùh”
è: ::
	$JošPÏtoÚReque¡
(
Ùh”
)

190 
memb”s_¬¿ysize
 = 0;

191 
this
->
memb”s
 = 0;

192 
	`cİy
(
Ùh”
);

193 
	}
}

195 
	gM”gePÏtoÚReque¡
::~
	$M”gePÏtoÚReque¡
()

197 
d–‘e
 [] 
this
->
memb”s
;

198 
	}
}

200 
	gM”gePÏtoÚReque¡
& M”gePÏtoÚReque¡::
İ”©Ü
=(cÚ¡ 
M”gePÏtoÚReque¡
& 
Ùh”
)

202 ià(
this
==&
Ùh”
)  *this;

203 ::
JošPÏtoÚReque¡
::
İ”©Ü
=(
Ùh”
);

204 
cİy
(
Ùh”
);

205  *
	gthis
;

208 
	gM”gePÏtoÚReque¡
::
	$cİy
(cÚ¡ 
M”gePÏtoÚReque¡
& 
Ùh”
)

210 
d–‘e
 [] 
this
->
memb”s
;

211 
this
->
memb”s
 = (
Ùh”
.
memb”s_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.members_arraysize];

212 
memb”s_¬¿ysize
 = 
Ùh”
.members_arraysize;

213 
i
=0; i<
memb”s_¬¿ysize
; i++)

214 
this
->
memb”s
[
i
] = 
Ùh”
.members[i];

215 
	}
}

217 
	gM”gePÏtoÚReque¡
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

219 ::
JošPÏtoÚReque¡
::
	`·rsimPack
(
b
);

220 
b
->
	`·ck
(
memb”s_¬¿ysize
);

221 
	`doP¬simA¼ayPackšg
(
b
,
this
->
memb”s
,
memb”s_¬¿ysize
);

222 
	}
}

224 
	gM”gePÏtoÚReque¡
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

226 ::
JošPÏtoÚReque¡
::
	`·rsimUÅack
(
b
);

227 
d–‘e
 [] 
this
->
memb”s
;

228 
b
->
	`uÅack
(
memb”s_¬¿ysize
);

229 ià(
memb”s_¬¿ysize
==0) {

230 
this
->
memb”s
 = 0;

232 
this
->
memb”s
 = 
Ãw
 [
memb”s_¬¿ysize
];

233 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
memb”s
,
memb”s_¬¿ysize
);

235 
	}
}

237 
	gM”gePÏtoÚReque¡
::
	$£tMemb”sA¼aySize
(
size
)

239 *
memb”s2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

240 
sz
 = 
memb”s_¬¿ysize
 < 
size
 ? members_arraysize : size;

241 
i
=0; i<
sz
; i++)

242 
memb”s2
[
i
] = 
this
->
memb”s
[i];

243 
i
=
sz
; i<
size
; i++)

244 
memb”s2
[
i
] = 0;

245 
memb”s_¬¿ysize
 = 
size
;

246 
d–‘e
 [] 
this
->
memb”s
;

247 
this
->
memb”s
 = 
memb”s2
;

248 
	}
}

250 
	gM”gePÏtoÚReque¡
::
	$g‘Memb”sA¼aySize
() const

252  
memb”s_¬¿ysize
;

253 
	}
}

255 
	gM”gePÏtoÚReque¡
::
	$g‘Memb”s
(
k
) const

257 ià(
k
>=
memb”s_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d", members_arraysize, k);

258  
this
->
memb”s
[
k
];

259 
	}
}

261 
	gM”gePÏtoÚReque¡
::
	$£tMemb”s
(
k
, 
memb”s
)

263 ià(
k
>=
memb”s_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d", members_arraysize, k);

264 
this
->
memb”s
[
k
] = members;

265 
	}
}

267 şas 
	cM”gePÏtoÚReque¡DesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


269 
´iv©e
:

270 
mubË
 cÚ¡ **
´İ”tyÇmes
;

271 
	mpublic
:

272 
M”gePÏtoÚReque¡DesütÜ
();

273 
	mvœtu®
 ~
M”gePÏtoÚReque¡DesütÜ
();

275 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

276 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

277 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

278 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

279 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

280 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

281 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

282 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

283 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

284 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

285 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

287 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

288 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

289 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

291 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

292 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

295 
	$Regi¡”_CÏssDesütÜ
(
M”gePÏtoÚReque¡DesütÜ
)

297 
M”gePÏtoÚReque¡DesütÜ
::
	$M”gePÏtoÚReque¡DesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("MergePlatoonRequest", "JoinPlatoonRequest")

299 
´İ”tyÇmes
 = 
nuÎ±r
;

300 
	}
}

302 
	gM”gePÏtoÚReque¡DesütÜ
::~
	$M”gePÏtoÚReque¡DesütÜ
()

304 
d–‘e
[] 
´İ”tyÇmes
;

305 
	}
}

307 
boŞ
 
	gM”gePÏtoÚReque¡DesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

309  
dyÇmic_ÿ¡
<
M”gePÏtoÚReque¡
 *>(
obj
)!=
nuÎ±r
;

310 
	}
}

312 cÚ¡ **
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘Prİ”tyNames
() const

314 ià(!
´İ”tyÇmes
) {

315 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

316 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

317 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

318 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

320  
´İ”tyÇmes
;

321 
	}
}

323 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

325 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

326  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

327 
	}
}

329 
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldCouÁ
() const

331 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

332  
ba£desc
 ? 1+ba£desc->
	`g‘F›ldCouÁ
() : 1;

333 
	}
}

335 
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

337 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

338 ià(
ba£desc
) {

339 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

340  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

341 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

343 
f›ldTy³FÏgs
[] = {

344 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

346  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³FÏgs
[field] : 0;

347 
	}
}

349 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldName
(
f›ld
) const

351 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

352 ià(
ba£desc
) {

353 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

354  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

355 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

357 cÚ¡ *
f›ldNames
[] = {

360  (
f›ld
>=0 && f›ld<1è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

361 
	}
}

363 
	gM”gePÏtoÚReque¡DesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

367 ià(
f›ldName
[0]=='m' && 
	`¡rcmp
(f›ldName, "memb”s")==0è 
ba£
+0;

368  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

369 
	}
}

371 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

373 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

374 ià(
ba£desc
) {

375 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

376  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

377 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

379 cÚ¡ *
f›ldTy³SŒšgs
[] = {

382  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

383 
	}
}

385 cÚ¡ **
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

387 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

388 ià(
ba£desc
) {

389 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

390  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

391 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

393 
f›ld
) {

394 :  
nuÎ±r
;

396 
	}
}

398 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

400 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

401 ià(
ba£desc
) {

402 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

403  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

404 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

406 
f›ld
) {

407 :  
nuÎ±r
;

409 
	}
}

411 
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

413 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

414 ià(
ba£desc
) {

415 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

416  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

417 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

419 
M”gePÏtoÚReque¡
 *
µ
 = (M”gePÏtoÚReque¡ *)
objeù
; ()pp;

420 
f›ld
) {

421 0:  
µ
->
	`g‘Memb”sA¼aySize
();

424 
	}
}

426 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

428 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

429 ià(
ba£desc
) {

430 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

431  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

432 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

434 
M”gePÏtoÚReque¡
 *
µ
 = (M”gePÏtoÚReque¡ *)
objeù
; ()pp;

435 
f›ld
) {

436 :  
nuÎ±r
;

438 
	}
}

440 
	g¡d
::
¡ršg
 
M”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

442 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

443 ià(
ba£desc
) {

444 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

445  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

446 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

448 
M”gePÏtoÚReque¡
 *
µ
 = (M”gePÏtoÚReque¡ *)
objeù
; ()pp;

449 
f›ld
) {

450 0:  
	`lÚg2¡ršg
(
µ
->
	`g‘Memb”s
(
i
));

453 
	}
}

455 
boŞ
 
	gM”gePÏtoÚReque¡DesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

457 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

458 ià(
ba£desc
) {

459 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

460  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

461 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

463 
M”gePÏtoÚReque¡
 *
µ
 = (M”gePÏtoÚReque¡ *)
objeù
; ()pp;

464 
f›ld
) {

465 0: 
µ
->
	`£tMemb”s
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

466 :  
çl£
;

468 
	}
}

470 cÚ¡ *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

472 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

473 ià(
ba£desc
) {

474 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

475  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

476 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

478 
f›ld
) {

479 :  
nuÎ±r
;

481 
	}
}

483 *
	gM”gePÏtoÚReque¡DesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

485 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

486 ià(
ba£desc
) {

487 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

488  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

489 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

491 
M”gePÏtoÚReque¡
 *
µ
 = (M”gePÏtoÚReque¡ *)
objeù
; ()pp;

492 
f›ld
) {

493 :  
nuÎ±r
;

495 
	}
}

	@messages/MergePlatoonRequest_m.h

5 #iâdeà
__MERGEPLATOONREQUEST_M_H


6 
	#__MERGEPLATOONREQUEST_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"JošPÏtoÚReque¡_m.h
"

48 şas 
	cPLEXE_API
 
	mM”gePÏtoÚReque¡
 : 
public
 ::
JošPÏtoÚReque¡


50 
´Ùeùed
:

51 *
memb”s
;

52 
	mmemb”s_¬¿ysize
;

54 
	m´iv©e
:

55 
cİy
(cÚ¡ 
M”gePÏtoÚReque¡
& 
Ùh”
);

57 
	m´Ùeùed
:

59 
boŞ
 
İ”©Ü
==(cÚ¡ 
M”gePÏtoÚReque¡
&);

61 
	mpublic
:

62 
M”gePÏtoÚReque¡
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

63 
M”gePÏtoÚReque¡
(cÚ¡ M”gePÏtoÚReque¡& 
Ùh”
);

64 
	mvœtu®
 ~
M”gePÏtoÚReque¡
();

65 
	mM”gePÏtoÚReque¡
& 
	mİ”©Ü
=(cÚ¡ 
M”gePÏtoÚReque¡
& 
Ùh”
);

66 
vœtu®
 
M”gePÏtoÚReque¡
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`M”gePÏtoÚReque¡
(*
this
);}

67 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

68 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

71 
vœtu®
 
	`£tMemb”sA¼aySize
(
size
);

72 
vœtu®
 
	$g‘Memb”sA¼aySize
() const;

73 
vœtu®
 
	$g‘Memb”s
(
k
) const;

74 
vœtu®
 
	`£tMemb”s
(
k
, 
memb”s
);

75 
	}
};

77 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
M”gePÏtoÚReque¡
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

78 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
M”gePÏtoÚReque¡
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/MoveToPositionAck_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"MoveToPos™iÚAck_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
MoveToPos™iÚAck
)

182 
MoveToPos™iÚAck
::
	$MoveToPos™iÚAck
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gMoveToPos™iÚAck
::
	$MoveToPos™iÚAck
(cÚ¡ 
MoveToPos™iÚAck
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gMoveToPos™iÚAck
::~
	$MoveToPos™iÚAck
()

199 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

200 
	}
}

202 
	gMoveToPos™iÚAck
& MoveToPos™iÚAck::
İ”©Ü
=(cÚ¡ 
MoveToPos™iÚAck
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gMoveToPos™iÚAck
::
	$cİy
(cÚ¡ 
MoveToPos™iÚAck
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

215 
this
->
ÃwPÏtoÚFÜm©iÚ
 = (
Ùh”
.
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.newPlatoonFormation_arraysize];

216 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.newPlatoonFormation_arraysize;

217 
i
=0; i<
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
ÃwPÏtoÚFÜm©iÚ
[
i
] = 
Ùh”
.newPlatoonFormation[i];

219 
	}
}

221 
	gMoveToPos™iÚAck
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gMoveToPos™iÚAck
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

237 ià(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

240 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
Ãw
 [
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gMoveToPos™iÚAck
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gMoveToPos™iÚAck
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gMoveToPos™iÚAck
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gMoveToPos™iÚAck
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gMoveToPos™iÚAck
::
	$£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
ÃwPÏtoÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 < 
size
 ?‚ewPlatoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 
this
->
ÃwPÏtoÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 0;

273 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

275 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
ÃwPÏtoÚFÜm©iÚ2
;

276 
	}
}

278 
	gMoveToPos™iÚAck
::
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const

280  
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gMoveToPos™iÚAck
::
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

286  
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gMoveToPos™iÚAck
::
	$£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
)

291 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

292 
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
] =‚ewPlatoonFormation;

293 
	}
}

295 şas 
	cMoveToPos™iÚAckDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
MoveToPos™iÚAckDesütÜ
();

301 
	mvœtu®
 ~
MoveToPos™iÚAckDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
MoveToPos™iÚAckDesütÜ
)

325 
MoveToPos™iÚAckDesütÜ
::
	$MoveToPos™iÚAckDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("MoveToPositionAck", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gMoveToPos™iÚAckDesütÜ
::~
	$MoveToPos™iÚAckDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gMoveToPos™iÚAckDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
MoveToPos™iÚAck
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gMoveToPos™iÚAckDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gMoveToPos™iÚAckDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='n' && 
	`¡rcmp
(f›ldName, "ÃwPÏtoÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
MoveToPos™iÚAck
 *
µ
 = (MoveToPos™iÚAck *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘NewPÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
MoveToPos™iÚAck
 *
µ
 = (MoveToPos™iÚAck *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
MoveToPos™iÚAckDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
MoveToPos™iÚAck
 *
µ
 = (MoveToPos™iÚAck *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘NewPÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gMoveToPos™iÚAckDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
MoveToPos™iÚAck
 *
µ
 = (MoveToPos™iÚAck *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tNewPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gMoveToPos™iÚAckDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
MoveToPos™iÚAck
 *
µ
 = (MoveToPos™iÚAck *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/MoveToPositionAck_m.h

5 #iâdeà
__MOVETOPOSITIONACK_M_H


6 
	#__MOVETOPOSITIONACK_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

51 şas 
	cPLEXE_API
 
	mMoveToPos™iÚAck
 : 
public
 ::
Mªeuv”Mes§ge


53 
´Ùeùed
:

54 
¶©oÚS³ed
;

55 
	m¶©oÚLªe
;

56 *
	mÃwPÏtoÚFÜm©iÚ
;

57 
	mÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

59 
	m´iv©e
:

60 
cİy
(cÚ¡ 
MoveToPos™iÚAck
& 
Ùh”
);

62 
	m´Ùeùed
:

64 
boŞ
 
İ”©Ü
==(cÚ¡ 
MoveToPos™iÚAck
&);

66 
	mpublic
:

67 
MoveToPos™iÚAck
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

68 
MoveToPos™iÚAck
(cÚ¡ MoveToPos™iÚAck& 
Ùh”
);

69 
	mvœtu®
 ~
MoveToPos™iÚAck
();

70 
	mMoveToPos™iÚAck
& 
	mİ”©Ü
=(cÚ¡ 
MoveToPos™iÚAck
& 
Ùh”
);

71 
vœtu®
 
MoveToPos™iÚAck
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`MoveToPos™iÚAck
(*
this
);}

72 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

73 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

76 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

77 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

78 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

79 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

80 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
);

81 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const;

82 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const;

83 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
);

84 
	}
};

86 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
MoveToPos™iÚAck
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

87 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
MoveToPos™iÚAck
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/MoveToPosition_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"MoveToPos™iÚ_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
MoveToPos™iÚ
)

182 
MoveToPos™iÚ
::
	$MoveToPos™iÚ
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gMoveToPos™iÚ
::
	$MoveToPos™iÚ
(cÚ¡ 
MoveToPos™iÚ
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gMoveToPos™iÚ
::~
	$MoveToPos™iÚ
()

199 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

200 
	}
}

202 
	gMoveToPos™iÚ
& MoveToPos™iÚ::
İ”©Ü
=(cÚ¡ 
MoveToPos™iÚ
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gMoveToPos™iÚ
::
	$cİy
(cÚ¡ 
MoveToPos™iÚ
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

215 
this
->
ÃwPÏtoÚFÜm©iÚ
 = (
Ùh”
.
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.newPlatoonFormation_arraysize];

216 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.newPlatoonFormation_arraysize;

217 
i
=0; i<
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
ÃwPÏtoÚFÜm©iÚ
[
i
] = 
Ùh”
.newPlatoonFormation[i];

219 
	}
}

221 
	gMoveToPos™iÚ
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gMoveToPos™iÚ
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

237 ià(
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 0;

240 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
Ãw
 [
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
ÃwPÏtoÚFÜm©iÚ
,
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gMoveToPos™iÚ
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gMoveToPos™iÚ
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gMoveToPos™iÚ
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gMoveToPos™iÚ
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gMoveToPos™iÚ
::
	$£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
ÃwPÏtoÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 < 
size
 ?‚ewPlatoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 
this
->
ÃwPÏtoÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
ÃwPÏtoÚFÜm©iÚ2
[
i
] = 0;

273 
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
ÃwPÏtoÚFÜm©iÚ
;

275 
this
->
ÃwPÏtoÚFÜm©iÚ
 = 
ÃwPÏtoÚFÜm©iÚ2
;

276 
	}
}

278 
	gMoveToPos™iÚ
::
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const

280  
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gMoveToPos™iÚ
::
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

286  
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gMoveToPos™iÚ
::
	$£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
)

291 ià(
k
>=
ÃwPÏtoÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",‚ewPlatoonFormation_arraysize, k);

292 
this
->
ÃwPÏtoÚFÜm©iÚ
[
k
] =‚ewPlatoonFormation;

293 
	}
}

295 şas 
	cMoveToPos™iÚDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
MoveToPos™iÚDesütÜ
();

301 
	mvœtu®
 ~
MoveToPos™iÚDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
MoveToPos™iÚDesütÜ
)

325 
MoveToPos™iÚDesütÜ
::
	$MoveToPos™iÚDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("MoveToPosition", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gMoveToPos™iÚDesütÜ
::~
	$MoveToPos™iÚDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gMoveToPos™iÚDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
MoveToPos™iÚ
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gMoveToPos™iÚDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gMoveToPos™iÚDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='n' && 
	`¡rcmp
(f›ldName, "ÃwPÏtoÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
MoveToPos™iÚ
 *
µ
 = (MoveToPos™iÚ *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘NewPÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
MoveToPos™iÚ
 *
µ
 = (MoveToPos™iÚ *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
MoveToPos™iÚDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
MoveToPos™iÚ
 *
µ
 = (MoveToPos™iÚ *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘NewPÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gMoveToPos™iÚDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
MoveToPos™iÚ
 *
µ
 = (MoveToPos™iÚ *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tNewPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gMoveToPos™iÚDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
MoveToPos™iÚ
 *
µ
 = (MoveToPos™iÚ *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/MoveToPosition_m.h

5 #iâdeà
__MOVETOPOSITION_M_H


6 
	#__MOVETOPOSITION_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

51 şas 
	cPLEXE_API
 
	mMoveToPos™iÚ
 : 
public
 ::
Mªeuv”Mes§ge


53 
´Ùeùed
:

54 
¶©oÚS³ed
;

55 
	m¶©oÚLªe
;

56 *
	mÃwPÏtoÚFÜm©iÚ
;

57 
	mÃwPÏtoÚFÜm©iÚ_¬¿ysize
;

59 
	m´iv©e
:

60 
cİy
(cÚ¡ 
MoveToPos™iÚ
& 
Ùh”
);

62 
	m´Ùeùed
:

64 
boŞ
 
İ”©Ü
==(cÚ¡ 
MoveToPos™iÚ
&);

66 
	mpublic
:

67 
MoveToPos™iÚ
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

68 
MoveToPos™iÚ
(cÚ¡ MoveToPos™iÚ& 
Ùh”
);

69 
	mvœtu®
 ~
MoveToPos™iÚ
();

70 
	mMoveToPos™iÚ
& 
	mİ”©Ü
=(cÚ¡ 
MoveToPos™iÚ
& 
Ùh”
);

71 
vœtu®
 
MoveToPos™iÚ
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`MoveToPos™iÚ
(*
this
);}

72 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

73 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

76 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

77 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

78 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

79 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

80 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚA¼aySize
(
size
);

81 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚA¼aySize
() const;

82 
vœtu®
 
	$g‘NewPÏtoÚFÜm©iÚ
(
k
) const;

83 
vœtu®
 
	`£tNewPÏtoÚFÜm©iÚ
(
k
, 
ÃwPÏtoÚFÜm©iÚ
);

84 
	}
};

86 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
MoveToPos™iÚ
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

87 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
MoveToPos™iÚ
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/PlatooningBeacon_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"PÏtoÚšgB—cÚ_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
PÏtoÚšgB—cÚ
)

182 
PÏtoÚšgB—cÚ
::
	$PÏtoÚšgB—cÚ
(cÚ¡ *
Çme
, 
kšd
è: ::
omÃp
::
	$cPack‘
(
Çme
,
kšd
)

184 
this
->
vehişeId
 = 0;

185 
this
->
cÚŒŞËrAcûË¿tiÚ
 = 0;

186 
this
->
acûË¿tiÚ
 = 0;

187 
this
->
¥“d
 = 0;

188 
this
->
pos™iÚX
 = 0;

189 
this
->
pos™iÚY
 = 0;

190 
this
->
time
 = 0;

191 
this
->
£qu’ûNumb”
 = 0;

192 
this
->
Ëngth
 = 0;

193 
this
->
¥“dX
 = 0;

194 
this
->
¥“dY
 = 0;

195 
this
->
ªgË
 = 0;

196 
	}
}

198 
	gPÏtoÚšgB—cÚ
::
	$PÏtoÚšgB—cÚ
(cÚ¡ 
PÏtoÚšgB—cÚ
& 
Ùh”
è: ::
omÃp
::
	$cPack‘
(
Ùh”
)

200 
	`cİy
(
Ùh”
);

201 
	}
}

203 
	gPÏtoÚšgB—cÚ
::~
	$PÏtoÚšgB—cÚ
()

205 
	}
}

207 
PÏtoÚšgB—cÚ
& PÏtoÚšgB—cÚ::
İ”©Ü
=(cÚ¡ PÏtoÚšgB—cÚ& 
Ùh”
)

209 ià(
this
==&
Ùh”
)  *this;

210 ::
omÃp
::
cPack‘
::
İ”©Ü
=(
Ùh”
);

211 
cİy
(
Ùh”
);

212  *
	gthis
;

215 
	gPÏtoÚšgB—cÚ
::
	$cİy
(cÚ¡ 
PÏtoÚšgB—cÚ
& 
Ùh”
)

217 
this
->
vehişeId
 = 
Ùh”
.vehicleId;

218 
this
->
cÚŒŞËrAcûË¿tiÚ
 = 
Ùh”
.controllerAcceleration;

219 
this
->
acûË¿tiÚ
 = 
Ùh”
.acceleration;

220 
this
->
¥“d
 = 
Ùh”
.speed;

221 
this
->
pos™iÚX
 = 
Ùh”
.positionX;

222 
this
->
pos™iÚY
 = 
Ùh”
.positionY;

223 
this
->
time
 = 
Ùh”
.time;

224 
this
->
£qu’ûNumb”
 = 
Ùh”
.sequenceNumber;

225 
this
->
Ëngth
 = 
Ùh”
.length;

226 
this
->
¥“dX
 = 
Ùh”
.speedX;

227 
this
->
¥“dY
 = 
Ùh”
.speedY;

228 
this
->
ªgË
 = 
Ùh”
.angle;

229 
	}
}

231 
	gPÏtoÚšgB—cÚ
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

233 ::
omÃp
::
cPack‘
::
	`·rsimPack
(
b
);

234 
	`doP¬simPackšg
(
b
,
this
->
vehişeId
);

235 
	`doP¬simPackšg
(
b
,
this
->
cÚŒŞËrAcûË¿tiÚ
);

236 
	`doP¬simPackšg
(
b
,
this
->
acûË¿tiÚ
);

237 
	`doP¬simPackšg
(
b
,
this
->
¥“d
);

238 
	`doP¬simPackšg
(
b
,
this
->
pos™iÚX
);

239 
	`doP¬simPackšg
(
b
,
this
->
pos™iÚY
);

240 
	`doP¬simPackšg
(
b
,
this
->
time
);

241 
	`doP¬simPackšg
(
b
,
this
->
£qu’ûNumb”
);

242 
	`doP¬simPackšg
(
b
,
this
->
Ëngth
);

243 
	`doP¬simPackšg
(
b
,
this
->
¥“dX
);

244 
	`doP¬simPackšg
(
b
,
this
->
¥“dY
);

245 
	`doP¬simPackšg
(
b
,
this
->
ªgË
);

246 
	}
}

248 
	gPÏtoÚšgB—cÚ
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

250 ::
omÃp
::
cPack‘
::
	`·rsimUÅack
(
b
);

251 
	`doP¬simUÅackšg
(
b
,
this
->
vehişeId
);

252 
	`doP¬simUÅackšg
(
b
,
this
->
cÚŒŞËrAcûË¿tiÚ
);

253 
	`doP¬simUÅackšg
(
b
,
this
->
acûË¿tiÚ
);

254 
	`doP¬simUÅackšg
(
b
,
this
->
¥“d
);

255 
	`doP¬simUÅackšg
(
b
,
this
->
pos™iÚX
);

256 
	`doP¬simUÅackšg
(
b
,
this
->
pos™iÚY
);

257 
	`doP¬simUÅackšg
(
b
,
this
->
time
);

258 
	`doP¬simUÅackšg
(
b
,
this
->
£qu’ûNumb”
);

259 
	`doP¬simUÅackšg
(
b
,
this
->
Ëngth
);

260 
	`doP¬simUÅackšg
(
b
,
this
->
¥“dX
);

261 
	`doP¬simUÅackšg
(
b
,
this
->
¥“dY
);

262 
	`doP¬simUÅackšg
(
b
,
this
->
ªgË
);

263 
	}
}

265 
	gPÏtoÚšgB—cÚ
::
	$g‘VehişeId
() const

267  
this
->
vehişeId
;

268 
	}
}

270 
	gPÏtoÚšgB—cÚ
::
	$£tVehişeId
(
vehişeId
)

272 
this
->
vehişeId
 = vehicleId;

273 
	}
}

275 
	gPÏtoÚšgB—cÚ
::
	$g‘CÚŒŞËrAcûË¿tiÚ
() const

277  
this
->
cÚŒŞËrAcûË¿tiÚ
;

278 
	}
}

280 
	gPÏtoÚšgB—cÚ
::
	$£tCÚŒŞËrAcûË¿tiÚ
(
cÚŒŞËrAcûË¿tiÚ
)

282 
this
->
cÚŒŞËrAcûË¿tiÚ
 = controllerAcceleration;

283 
	}
}

285 
	gPÏtoÚšgB—cÚ
::
	$g‘AcûË¿tiÚ
() const

287  
this
->
acûË¿tiÚ
;

288 
	}
}

290 
	gPÏtoÚšgB—cÚ
::
	$£tAcûË¿tiÚ
(
acûË¿tiÚ
)

292 
this
->
acûË¿tiÚ
 =‡cceleration;

293 
	}
}

295 
	gPÏtoÚšgB—cÚ
::
	$g‘S³ed
() const

297  
this
->
¥“d
;

298 
	}
}

300 
	gPÏtoÚšgB—cÚ
::
	$£tS³ed
(
¥“d
)

302 
this
->
¥“d
 = speed;

303 
	}
}

305 
	gPÏtoÚšgB—cÚ
::
	$g‘Pos™iÚX
() const

307  
this
->
pos™iÚX
;

308 
	}
}

310 
	gPÏtoÚšgB—cÚ
::
	$£tPos™iÚX
(
pos™iÚX
)

312 
this
->
pos™iÚX
 =…ositionX;

313 
	}
}

315 
	gPÏtoÚšgB—cÚ
::
	$g‘Pos™iÚY
() const

317  
this
->
pos™iÚY
;

318 
	}
}

320 
	gPÏtoÚšgB—cÚ
::
	$£tPos™iÚY
(
pos™iÚY
)

322 
this
->
pos™iÚY
 =…ositionY;

323 
	}
}

325 
	gPÏtoÚšgB—cÚ
::
	$g‘Time
() const

327  
this
->
time
;

328 
	}
}

330 
	gPÏtoÚšgB—cÚ
::
	$£tTime
(
time
)

332 
this
->
time
 =ime;

333 
	}
}

335 
	gPÏtoÚšgB—cÚ
::
	$g‘Sequ’ûNumb”
() const

337  
this
->
£qu’ûNumb”
;

338 
	}
}

340 
	gPÏtoÚšgB—cÚ
::
	$£tSequ’ûNumb”
(
£qu’ûNumb”
)

342 
this
->
£qu’ûNumb”
 = sequenceNumber;

343 
	}
}

345 
	gPÏtoÚšgB—cÚ
::
	$g‘L’gth
() const

347  
this
->
Ëngth
;

348 
	}
}

350 
	gPÏtoÚšgB—cÚ
::
	$£tL’gth
(
Ëngth
)

352 
this
->
Ëngth
 =†ength;

353 
	}
}

355 
	gPÏtoÚšgB—cÚ
::
	$g‘S³edX
() const

357  
this
->
¥“dX
;

358 
	}
}

360 
	gPÏtoÚšgB—cÚ
::
	$£tS³edX
(
¥“dX
)

362 
this
->
¥“dX
 = speedX;

363 
	}
}

365 
	gPÏtoÚšgB—cÚ
::
	$g‘S³edY
() const

367  
this
->
¥“dY
;

368 
	}
}

370 
	gPÏtoÚšgB—cÚ
::
	$£tS³edY
(
¥“dY
)

372 
this
->
¥“dY
 = speedY;

373 
	}
}

375 
	gPÏtoÚšgB—cÚ
::
	$g‘AngË
() const

377  
this
->
ªgË
;

378 
	}
}

380 
	gPÏtoÚšgB—cÚ
::
	$£tAngË
(
ªgË
)

382 
this
->
ªgË
 =‡ngle;

383 
	}
}

385 şas 
	cPÏtoÚšgB—cÚDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


387 
´iv©e
:

388 
mubË
 cÚ¡ **
´İ”tyÇmes
;

389 
	mpublic
:

390 
PÏtoÚšgB—cÚDesütÜ
();

391 
	mvœtu®
 ~
PÏtoÚšgB—cÚDesütÜ
();

393 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

394 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

395 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

396 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

397 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

398 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

399 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

400 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

401 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

402 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

403 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

405 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

406 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

407 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

409 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

410 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

413 
	$Regi¡”_CÏssDesütÜ
(
PÏtoÚšgB—cÚDesütÜ
)

415 
PÏtoÚšgB—cÚDesütÜ
::
	$PÏtoÚšgB—cÚDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("PlatooningBeacon", "omnetpp::cPacket")

417 
´İ”tyÇmes
 = 
nuÎ±r
;

418 
	}
}

420 
	gPÏtoÚšgB—cÚDesütÜ
::~
	$PÏtoÚšgB—cÚDesütÜ
()

422 
d–‘e
[] 
´İ”tyÇmes
;

423 
	}
}

425 
boŞ
 
	gPÏtoÚšgB—cÚDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

427  
dyÇmic_ÿ¡
<
PÏtoÚšgB—cÚ
 *>(
obj
)!=
nuÎ±r
;

428 
	}
}

430 cÚ¡ **
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘Prİ”tyNames
() const

432 ià(!
´İ”tyÇmes
) {

433 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

434 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

435 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

436 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

438  
´İ”tyÇmes
;

439 
	}
}

441 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

443 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

444  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

445 
	}
}

447 
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldCouÁ
() const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450  
ba£desc
 ? 12+ba£desc->
	`g‘F›ldCouÁ
() : 12;

451 
	}
}

453 
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

455 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

456 ià(
ba£desc
) {

457 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

458  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

459 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

461 
f›ldTy³FÏgs
[] = {

462 
FD_ISEDITABLE
,

463 
FD_ISEDITABLE
,

464 
FD_ISEDITABLE
,

465 
FD_ISEDITABLE
,

466 
FD_ISEDITABLE
,

467 
FD_ISEDITABLE
,

468 
FD_ISEDITABLE
,

469 
FD_ISEDITABLE
,

470 
FD_ISEDITABLE
,

471 
FD_ISEDITABLE
,

472 
FD_ISEDITABLE
,

473 
FD_ISEDITABLE
,

475  (
f›ld
>=0 && f›ld<12è? 
f›ldTy³FÏgs
[field] : 0;

476 
	}
}

478 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

480 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

481 ià(
ba£desc
) {

482 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

483  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

484 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

486 cÚ¡ *
f›ldNames
[] = {

500  (
f›ld
>=0 && f›ld<12è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

501 
	}
}

503 
	gPÏtoÚšgB—cÚDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

505 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

506 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

507 ià(
f›ldName
[0]=='v' && 
	`¡rcmp
(f›ldName, "vehişeId")==0è 
ba£
+0;

508 ià(
f›ldName
[0]=='c' && 
	`¡rcmp
(f›ldName, "cÚŒŞËrAcûË¿tiÚ")==0è 
ba£
+1;

509 ià(
f›ldName
[0]=='a' && 
	`¡rcmp
(f›ldName, "acûË¿tiÚ")==0è 
ba£
+2;

510 ià(
f›ldName
[0]=='s' && 
	`¡rcmp
(f›ldName, "¥“d")==0è 
ba£
+3;

511 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "pos™iÚX")==0è 
ba£
+4;

512 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "pos™iÚY")==0è 
ba£
+5;

513 ià(
f›ldName
[0]=='t' && 
	`¡rcmp
(f›ldName, "time")==0è 
ba£
+6;

514 ià(
f›ldName
[0]=='s' && 
	`¡rcmp
(f›ldName, "£qu’ûNumb”")==0è 
ba£
+7;

515 ià(
f›ldName
[0]=='l' && 
	`¡rcmp
(f›ldName, "Ëngth")==0è 
ba£
+8;

516 ià(
f›ldName
[0]=='s' && 
	`¡rcmp
(f›ldName, "¥“dX")==0è 
ba£
+9;

517 ià(
f›ldName
[0]=='s' && 
	`¡rcmp
(f›ldName, "¥“dY")==0è 
ba£
+10;

518 ià(
f›ldName
[0]=='a' && 
	`¡rcmp
(f›ldName, "ªgË")==0è 
ba£
+11;

519  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

520 
	}
}

522 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

524 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

525 ià(
ba£desc
) {

526 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

527  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

528 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

530 cÚ¡ *
f›ldTy³SŒšgs
[] = {

544  (
f›ld
>=0 && f›ld<12è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

545 
	}
}

547 cÚ¡ **
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

549 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

550 ià(
ba£desc
) {

551 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

552  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

553 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

555 
f›ld
) {

556 :  
nuÎ±r
;

558 
	}
}

560 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

562 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

563 ià(
ba£desc
) {

564 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

565  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

566 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

568 
f›ld
) {

569 :  
nuÎ±r
;

571 
	}
}

573 
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

575 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

576 ià(
ba£desc
) {

577 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

578  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

579 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

581 
PÏtoÚšgB—cÚ
 *
µ
 = (PÏtoÚšgB—cÚ *)
objeù
; ()pp;

582 
f›ld
) {

585 
	}
}

587 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

589 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

590 ià(
ba£desc
) {

591 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

592  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

593 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

595 
PÏtoÚšgB—cÚ
 *
µ
 = (PÏtoÚšgB—cÚ *)
objeù
; ()pp;

596 
f›ld
) {

597 :  
nuÎ±r
;

599 
	}
}

601 
	g¡d
::
¡ršg
 
PÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

603 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

604 ià(
ba£desc
) {

605 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

606  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

607 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

609 
PÏtoÚšgB—cÚ
 *
µ
 = (PÏtoÚšgB—cÚ *)
objeù
; ()pp;

610 
f›ld
) {

611 0:  
	`lÚg2¡ršg
(
µ
->
	`g‘VehişeId
());

612 1:  
	`doubË2¡ršg
(
µ
->
	`g‘CÚŒŞËrAcûË¿tiÚ
());

613 2:  
	`doubË2¡ršg
(
µ
->
	`g‘AcûË¿tiÚ
());

614 3:  
	`doubË2¡ršg
(
µ
->
	`g‘S³ed
());

615 4:  
	`doubË2¡ršg
(
µ
->
	`g‘Pos™iÚX
());

616 5:  
	`doubË2¡ršg
(
µ
->
	`g‘Pos™iÚY
());

617 6:  
	`doubË2¡ršg
(
µ
->
	`g‘Time
());

618 7:  
	`lÚg2¡ršg
(
µ
->
	`g‘Sequ’ûNumb”
());

619 8:  
	`doubË2¡ršg
(
µ
->
	`g‘L’gth
());

620 9:  
	`doubË2¡ršg
(
µ
->
	`g‘S³edX
());

621 10:  
	`doubË2¡ršg
(
µ
->
	`g‘S³edY
());

622 11:  
	`doubË2¡ršg
(
µ
->
	`g‘AngË
());

625 
	}
}

627 
boŞ
 
	gPÏtoÚšgB—cÚDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

629 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

630 ià(
ba£desc
) {

631 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

632  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

633 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

635 
PÏtoÚšgB—cÚ
 *
µ
 = (PÏtoÚšgB—cÚ *)
objeù
; ()pp;

636 
f›ld
) {

637 0: 
µ
->
	`£tVehişeId
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

638 1: 
µ
->
	`£tCÚŒŞËrAcûË¿tiÚ
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

639 2: 
µ
->
	`£tAcûË¿tiÚ
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

640 3: 
µ
->
	`£tS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

641 4: 
µ
->
	`£tPos™iÚX
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

642 5: 
µ
->
	`£tPos™iÚY
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

643 6: 
µ
->
	`£tTime
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

644 7: 
µ
->
	`£tSequ’ûNumb”
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

645 8: 
µ
->
	`£tL’gth
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

646 9: 
µ
->
	`£tS³edX
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

647 10: 
µ
->
	`£tS³edY
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

648 11: 
µ
->
	`£tAngË
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

649 :  
çl£
;

651 
	}
}

653 cÚ¡ *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

655 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

656 ià(
ba£desc
) {

657 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

658  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

659 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

661 
f›ld
) {

662 :  
nuÎ±r
;

664 
	}
}

666 *
	gPÏtoÚšgB—cÚDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

668 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

669 ià(
ba£desc
) {

670 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

671  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

672 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

674 
PÏtoÚšgB—cÚ
 *
µ
 = (PÏtoÚšgB—cÚ *)
objeù
; ()pp;

675 
f›ld
) {

676 :  
nuÎ±r
;

678 
	}
}

	@messages/PlatooningBeacon_m.h

5 #iâdeà
__PLATOONINGBEACON_M_H


6 
	#__PLATOONINGBEACON_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

53 şas 
	cPLEXE_API
 
	mPÏtoÚšgB—cÚ
 : 
public
 ::
omÃp
::
cPack‘


55 
´Ùeùed
:

56 
vehişeId
;

57 
	mcÚŒŞËrAcûË¿tiÚ
;

58 
	macûË¿tiÚ
;

59 
	m¥“d
;

60 
	mpos™iÚX
;

61 
	mpos™iÚY
;

62 
	mtime
;

63 
	m£qu’ûNumb”
;

64 
	mËngth
;

65 
	m¥“dX
;

66 
	m¥“dY
;

67 
	mªgË
;

69 
	m´iv©e
:

70 
cİy
(cÚ¡ 
PÏtoÚšgB—cÚ
& 
Ùh”
);

72 
	m´Ùeùed
:

74 
boŞ
 
İ”©Ü
==(cÚ¡ 
PÏtoÚšgB—cÚ
&);

76 
	mpublic
:

77 
PÏtoÚšgB—cÚ
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

78 
PÏtoÚšgB—cÚ
(cÚ¡ PÏtoÚšgB—cÚ& 
Ùh”
);

79 
	mvœtu®
 ~
PÏtoÚšgB—cÚ
();

80 
	mPÏtoÚšgB—cÚ
& 
	mİ”©Ü
=(cÚ¡ 
PÏtoÚšgB—cÚ
& 
Ùh”
);

81 
vœtu®
 
PÏtoÚšgB—cÚ
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`PÏtoÚšgB—cÚ
(*
this
);}

82 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

83 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

86 
vœtu®
 
	$g‘VehişeId
() const;

87 
vœtu®
 
	`£tVehişeId
(
vehişeId
);

88 
vœtu®
 
	$g‘CÚŒŞËrAcûË¿tiÚ
() const;

89 
vœtu®
 
	`£tCÚŒŞËrAcûË¿tiÚ
(
cÚŒŞËrAcûË¿tiÚ
);

90 
vœtu®
 
	$g‘AcûË¿tiÚ
() const;

91 
vœtu®
 
	`£tAcûË¿tiÚ
(
acûË¿tiÚ
);

92 
vœtu®
 
	$g‘S³ed
() const;

93 
vœtu®
 
	`£tS³ed
(
¥“d
);

94 
vœtu®
 
	$g‘Pos™iÚX
() const;

95 
vœtu®
 
	`£tPos™iÚX
(
pos™iÚX
);

96 
vœtu®
 
	$g‘Pos™iÚY
() const;

97 
vœtu®
 
	`£tPos™iÚY
(
pos™iÚY
);

98 
vœtu®
 
	$g‘Time
() const;

99 
vœtu®
 
	`£tTime
(
time
);

100 
vœtu®
 
	$g‘Sequ’ûNumb”
() const;

101 
vœtu®
 
	`£tSequ’ûNumb”
(
£qu’ûNumb”
);

102 
vœtu®
 
	$g‘L’gth
() const;

103 
vœtu®
 
	`£tL’gth
(
Ëngth
);

104 
vœtu®
 
	$g‘S³edX
() const;

105 
vœtu®
 
	`£tS³edX
(
¥“dX
);

106 
vœtu®
 
	$g‘S³edY
() const;

107 
vœtu®
 
	`£tS³edY
(
¥“dY
);

108 
vœtu®
 
	$g‘AngË
() const;

109 
vœtu®
 
	`£tAngË
(
ªgË
);

110 
	}
};

112 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
PÏtoÚšgB—cÚ
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

113 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
PÏtoÚšgB—cÚ
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/PlexeInterfaceControlInfo_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"PËxeIÁ”çûCÚŒŞInfo_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
PËxeIÁ”çûCÚŒŞInfo
)

182 
PËxeIÁ”çûCÚŒŞInfo
::
	$PËxeIÁ”çûCÚŒŞInfo
(cÚ¡ *
Çme
, 
kšd
è: ::
omÃp
::
	$cMes§ge
(
Çme
,
kšd
)

184 
this
->
š‹rçûs
 = 
¶exe
::
ALL
;

185 
	}
}

187 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$PËxeIÁ”çûCÚŒŞInfo
(cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
& 
Ùh”
è: ::
omÃp
::
	$cMes§ge
(
Ùh”
)

189 
	`cİy
(
Ùh”
);

190 
	}
}

192 
	gPËxeIÁ”çûCÚŒŞInfo
::~
	$PËxeIÁ”çûCÚŒŞInfo
()

194 
	}
}

196 
PËxeIÁ”çûCÚŒŞInfo
& PËxeIÁ”çûCÚŒŞInfo::
İ”©Ü
=(cÚ¡ PËxeIÁ”çûCÚŒŞInfo& 
Ùh”
)

198 ià(
this
==&
Ùh”
)  *this;

199 ::
omÃp
::
cMes§ge
::
İ”©Ü
=(
Ùh”
);

200 
cİy
(
Ùh”
);

201  *
	gthis
;

204 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$cİy
(cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
& 
Ùh”
)

206 
this
->
š‹rçûs
 = 
Ùh”
.interfaces;

207 
	}
}

209 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

211 ::
omÃp
::
cMes§ge
::
	`·rsimPack
(
b
);

212 
	`doP¬simPackšg
(
b
,
this
->
š‹rçûs
);

213 
	}
}

215 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

217 ::
omÃp
::
cMes§ge
::
	`·rsimUÅack
(
b
);

218 
	`doP¬simUÅackšg
(
b
,
this
->
š‹rçûs
);

219 
	}
}

221 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$g‘IÁ”çûs
() const

223  
this
->
š‹rçûs
;

224 
	}
}

226 
	gPËxeIÁ”çûCÚŒŞInfo
::
	$£tIÁ”çûs
(
š‹rçûs
)

228 
this
->
š‹rçûs
 = interfaces;

229 
	}
}

231 şas 
	cPËxeIÁ”çûCÚŒŞInfoDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


233 
´iv©e
:

234 
mubË
 cÚ¡ **
´İ”tyÇmes
;

235 
	mpublic
:

236 
PËxeIÁ”çûCÚŒŞInfoDesütÜ
();

237 
	mvœtu®
 ~
PËxeIÁ”çûCÚŒŞInfoDesütÜ
();

239 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

240 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

241 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

242 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

243 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

244 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

245 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

246 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

247 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

248 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

249 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

251 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

252 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

253 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

255 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

256 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

259 
	$Regi¡”_CÏssDesütÜ
(
PËxeIÁ”çûCÚŒŞInfoDesütÜ
)

261 
PËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$PËxeIÁ”çûCÚŒŞInfoDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("PlexeInterfaceControlInfo", "omnetpp::cMessage")

263 
´İ”tyÇmes
 = 
nuÎ±r
;

264 
	}
}

266 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::~
	$PËxeIÁ”çûCÚŒŞInfoDesütÜ
()

268 
d–‘e
[] 
´İ”tyÇmes
;

269 
	}
}

271 
boŞ
 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

273  
dyÇmic_ÿ¡
<
PËxeIÁ”çûCÚŒŞInfo
 *>(
obj
)!=
nuÎ±r
;

274 
	}
}

276 cÚ¡ **
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘Prİ”tyNames
() const

278 ià(!
´İ”tyÇmes
) {

279 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

280 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

281 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

282 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

284  
´İ”tyÇmes
;

285 
	}
}

287 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

289 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

290  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

291 
	}
}

293 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldCouÁ
() const

295 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

296  
ba£desc
 ? 1+ba£desc->
	`g‘F›ldCouÁ
() : 1;

297 
	}
}

299 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

301 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

302 ià(
ba£desc
) {

303 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

304  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

305 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

307 
f›ldTy³FÏgs
[] = {

308 
FD_ISEDITABLE
,

310  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³FÏgs
[field] : 0;

311 
	}
}

313 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

315 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

316 ià(
ba£desc
) {

317 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

318  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

319 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

321 cÚ¡ *
f›ldNames
[] = {

324  (
f›ld
>=0 && f›ld<1è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

325 
	}
}

327 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

329 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

330 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

331 ià(
f›ldName
[0]=='i' && 
	`¡rcmp
(f›ldName, "š‹rçûs")==0è 
ba£
+0;

332  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

333 
	}
}

335 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

337 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

338 ià(
ba£desc
) {

339 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

340  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

341 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

343 cÚ¡ *
f›ldTy³SŒšgs
[] = {

346  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

347 
	}
}

349 cÚ¡ **
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

351 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

352 ià(
ba£desc
) {

353 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

354  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

355 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

357 
f›ld
) {

359 cÚ¡ *
Çmes
[] = { "’um", 
nuÎ±r
 };

360  
Çmes
;

362 :  
nuÎ±r
;

364 
	}
}

366 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

368 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

369 ià(
ba£desc
) {

370 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

371  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

372 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

374 
f›ld
) {

376 ià(!
	`¡rcmp
(
´İ”tyÇme
,"enum"))  "plexe::PlexeRadioInterfaces";

377  
nuÎ±r
;

378 :  
nuÎ±r
;

380 
	}
}

382 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

384 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

385 ià(
ba£desc
) {

386 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

387  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

388 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

390 
PËxeIÁ”çûCÚŒŞInfo
 *
µ
 = (PËxeIÁ”çûCÚŒŞInfØ*)
objeù
; ()pp;

391 
f›ld
) {

394 
	}
}

396 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

398 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

399 ià(
ba£desc
) {

400 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

401  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

402 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

404 
PËxeIÁ”çûCÚŒŞInfo
 *
µ
 = (PËxeIÁ”çûCÚŒŞInfØ*)
objeù
; ()pp;

405 
f›ld
) {

406 :  
nuÎ±r
;

408 
	}
}

410 
	g¡d
::
¡ršg
 
PËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

412 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

413 ià(
ba£desc
) {

414 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

415  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

416 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

418 
PËxeIÁ”çûCÚŒŞInfo
 *
µ
 = (PËxeIÁ”çûCÚŒŞInfØ*)
objeù
; ()pp;

419 
f›ld
) {

420 0:  
	`’um2¡ršg
(
µ
->
	`g‘IÁ”çûs
(), "plexe::PlexeRadioInterfaces");

423 
	}
}

425 
boŞ
 
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

427 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

428 ià(
ba£desc
) {

429 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

430  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

431 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

433 
PËxeIÁ”çûCÚŒŞInfo
 *
µ
 = (PËxeIÁ”çûCÚŒŞInfØ*)
objeù
; ()pp;

434 
f›ld
) {

435 0: 
µ
->
	`£tIÁ”çûs
((
¶exe
::
PËxeRadioIÁ”çûs
)
	`¡ršg2’um
(
v®ue
, "¶exe::PËxeRadioIÁ”çûs"));  
Œue
;

436 :  
çl£
;

438 
	}
}

440 cÚ¡ *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

442 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

443 ià(
ba£desc
) {

444 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

445  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

446 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

448 
f›ld
) {

449 :  
nuÎ±r
;

451 
	}
}

453 *
	gPËxeIÁ”çûCÚŒŞInfoDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

455 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

456 ià(
ba£desc
) {

457 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

458  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

459 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

461 
PËxeIÁ”çûCÚŒŞInfo
 *
µ
 = (PËxeIÁ”çûCÚŒŞInfØ*)
objeù
; ()pp;

462 
f›ld
) {

463 :  
nuÎ±r
;

465 
	}
}

	@messages/PlexeInterfaceControlInfo_m.h

5 #iâdeà
__PLEXEINTERFACECONTROLINFO_M_H


6 
	#__PLEXEINTERFACECONTROLINFO_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"¶exe/driv”/PËxeRadioDriv”IÁ”çû.h
"

49 şas 
	cPLEXE_API
 
	mPËxeIÁ”çûCÚŒŞInfo
 : 
public
 ::
omÃp
::
cMes§ge


51 
´Ùeùed
:

52 
š‹rçûs
;

54 
	m´iv©e
:

55 
cİy
(cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
& 
Ùh”
);

57 
	m´Ùeùed
:

59 
boŞ
 
İ”©Ü
==(cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
&);

61 
	mpublic
:

62 
PËxeIÁ”çûCÚŒŞInfo
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

63 
PËxeIÁ”çûCÚŒŞInfo
(cÚ¡ PËxeIÁ”çûCÚŒŞInfo& 
Ùh”
);

64 
	mvœtu®
 ~
PËxeIÁ”çûCÚŒŞInfo
();

65 
	mPËxeIÁ”çûCÚŒŞInfo
& 
	mİ”©Ü
=(cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
& 
Ùh”
);

66 
vœtu®
 
PËxeIÁ”çûCÚŒŞInfo
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`PËxeIÁ”çûCÚŒŞInfo
(*
this
);}

67 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

68 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

71 
vœtu®
 
	$g‘IÁ”çûs
() const;

72 
vœtu®
 
	`£tIÁ”çûs
(
š‹rçûs
);

73 
	}
};

75 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
PËxeIÁ”çûCÚŒŞInfo
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

76 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
PËxeIÁ”çûCÚŒŞInfo
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/UpdatePlatoonData_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"Upd©ePÏtoÚD©a_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
Upd©ePÏtoÚD©a
)

182 
Upd©ePÏtoÚD©a
::
	$Upd©ePÏtoÚD©a
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Upd©ePÏtoÚFÜm©iÚ
(
Çme
,
kšd
)

184 
this
->
ÃwPÏtoÚId
 = 0;

185 
	}
}

187 
	gUpd©ePÏtoÚD©a
::
	$Upd©ePÏtoÚD©a
(cÚ¡ 
Upd©ePÏtoÚD©a
& 
Ùh”
è: ::
	$Upd©ePÏtoÚFÜm©iÚ
(
Ùh”
)

189 
	`cİy
(
Ùh”
);

190 
	}
}

192 
	gUpd©ePÏtoÚD©a
::~
	$Upd©ePÏtoÚD©a
()

194 
	}
}

196 
Upd©ePÏtoÚD©a
& Upd©ePÏtoÚD©a::
İ”©Ü
=(cÚ¡ Upd©ePÏtoÚD©a& 
Ùh”
)

198 ià(
this
==&
Ùh”
)  *this;

199 ::
Upd©ePÏtoÚFÜm©iÚ
::
İ”©Ü
=(
Ùh”
);

200 
cİy
(
Ùh”
);

201  *
	gthis
;

204 
	gUpd©ePÏtoÚD©a
::
	$cİy
(cÚ¡ 
Upd©ePÏtoÚD©a
& 
Ùh”
)

206 
this
->
ÃwPÏtoÚId
 = 
Ùh”
.newPlatoonId;

207 
	}
}

209 
	gUpd©ePÏtoÚD©a
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

211 ::
Upd©ePÏtoÚFÜm©iÚ
::
	`·rsimPack
(
b
);

212 
	`doP¬simPackšg
(
b
,
this
->
ÃwPÏtoÚId
);

213 
	}
}

215 
	gUpd©ePÏtoÚD©a
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

217 ::
Upd©ePÏtoÚFÜm©iÚ
::
	`·rsimUÅack
(
b
);

218 
	`doP¬simUÅackšg
(
b
,
this
->
ÃwPÏtoÚId
);

219 
	}
}

221 
	gUpd©ePÏtoÚD©a
::
	$g‘NewPÏtoÚId
() const

223  
this
->
ÃwPÏtoÚId
;

224 
	}
}

226 
	gUpd©ePÏtoÚD©a
::
	$£tNewPÏtoÚId
(
ÃwPÏtoÚId
)

228 
this
->
ÃwPÏtoÚId
 =‚ewPlatoonId;

229 
	}
}

231 şas 
	cUpd©ePÏtoÚD©aDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


233 
´iv©e
:

234 
mubË
 cÚ¡ **
´İ”tyÇmes
;

235 
	mpublic
:

236 
Upd©ePÏtoÚD©aDesütÜ
();

237 
	mvœtu®
 ~
Upd©ePÏtoÚD©aDesütÜ
();

239 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

240 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

241 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

242 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

243 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

244 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

245 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

246 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

247 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

248 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

249 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

251 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

252 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

253 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

255 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

256 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

259 
	$Regi¡”_CÏssDesütÜ
(
Upd©ePÏtoÚD©aDesütÜ
)

261 
Upd©ePÏtoÚD©aDesütÜ
::
	$Upd©ePÏtoÚD©aDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("UpdatePlatoonData", "UpdatePlatoonFormation")

263 
´İ”tyÇmes
 = 
nuÎ±r
;

264 
	}
}

266 
	gUpd©ePÏtoÚD©aDesütÜ
::~
	$Upd©ePÏtoÚD©aDesütÜ
()

268 
d–‘e
[] 
´İ”tyÇmes
;

269 
	}
}

271 
boŞ
 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

273  
dyÇmic_ÿ¡
<
Upd©ePÏtoÚD©a
 *>(
obj
)!=
nuÎ±r
;

274 
	}
}

276 cÚ¡ **
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘Prİ”tyNames
() const

278 ià(!
´İ”tyÇmes
) {

279 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

280 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

281 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

282 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

284  
´İ”tyÇmes
;

285 
	}
}

287 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

289 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

290  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

291 
	}
}

293 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldCouÁ
() const

295 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

296  
ba£desc
 ? 1+ba£desc->
	`g‘F›ldCouÁ
() : 1;

297 
	}
}

299 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

301 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

302 ià(
ba£desc
) {

303 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

304  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

305 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

307 
f›ldTy³FÏgs
[] = {

308 
FD_ISEDITABLE
,

310  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³FÏgs
[field] : 0;

311 
	}
}

313 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

315 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

316 ià(
ba£desc
) {

317 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

318  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

319 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

321 cÚ¡ *
f›ldNames
[] = {

324  (
f›ld
>=0 && f›ld<1è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

325 
	}
}

327 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

329 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

330 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

331 ià(
f›ldName
[0]=='n' && 
	`¡rcmp
(f›ldName, "ÃwPÏtoÚId")==0è 
ba£
+0;

332  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

333 
	}
}

335 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

337 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

338 ià(
ba£desc
) {

339 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

340  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

341 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

343 cÚ¡ *
f›ldTy³SŒšgs
[] = {

346  (
f›ld
>=0 && f›ld<1è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

347 
	}
}

349 cÚ¡ **
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

351 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

352 ià(
ba£desc
) {

353 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

354  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

355 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

357 
f›ld
) {

358 :  
nuÎ±r
;

360 
	}
}

362 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

364 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

365 ià(
ba£desc
) {

366 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

367  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

368 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

370 
f›ld
) {

371 :  
nuÎ±r
;

373 
	}
}

375 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

377 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

378 ià(
ba£desc
) {

379 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

380  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

381 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

383 
Upd©ePÏtoÚD©a
 *
µ
 = (Upd©ePÏtoÚD©¨*)
objeù
; ()pp;

384 
f›ld
) {

387 
	}
}

389 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

391 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

392 ià(
ba£desc
) {

393 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

394  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

395 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

397 
Upd©ePÏtoÚD©a
 *
µ
 = (Upd©ePÏtoÚD©¨*)
objeù
; ()pp;

398 
f›ld
) {

399 :  
nuÎ±r
;

401 
	}
}

403 
	g¡d
::
¡ršg
 
Upd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

405 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

406 ià(
ba£desc
) {

407 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

408  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

409 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

411 
Upd©ePÏtoÚD©a
 *
µ
 = (Upd©ePÏtoÚD©¨*)
objeù
; ()pp;

412 
f›ld
) {

413 0:  
	`lÚg2¡ršg
(
µ
->
	`g‘NewPÏtoÚId
());

416 
	}
}

418 
boŞ
 
	gUpd©ePÏtoÚD©aDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

420 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

421 ià(
ba£desc
) {

422 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

423  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

424 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

426 
Upd©ePÏtoÚD©a
 *
µ
 = (Upd©ePÏtoÚD©¨*)
objeù
; ()pp;

427 
f›ld
) {

428 0: 
µ
->
	`£tNewPÏtoÚId
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

429 :  
çl£
;

431 
	}
}

433 cÚ¡ *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

435 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

436 ià(
ba£desc
) {

437 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

438  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

439 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

441 
f›ld
) {

442 :  
nuÎ±r
;

444 
	}
}

446 *
	gUpd©ePÏtoÚD©aDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

448 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

449 ià(
ba£desc
) {

450 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

451  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

452 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

454 
Upd©ePÏtoÚD©a
 *
µ
 = (Upd©ePÏtoÚD©¨*)
objeù
; ()pp;

455 
f›ld
) {

456 :  
nuÎ±r
;

458 
	}
}

	@messages/UpdatePlatoonData_m.h

5 #iâdeà
__UPDATEPLATOONDATA_M_H


6 
	#__UPDATEPLATOONDATA_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Upd©ePÏtoÚFÜm©iÚ_m.h
"

47 şas 
	cPLEXE_API
 
	mUpd©ePÏtoÚD©a
 : 
public
 ::
Upd©ePÏtoÚFÜm©iÚ


49 
´Ùeùed
:

50 
ÃwPÏtoÚId
;

52 
	m´iv©e
:

53 
cİy
(cÚ¡ 
Upd©ePÏtoÚD©a
& 
Ùh”
);

55 
	m´Ùeùed
:

57 
boŞ
 
İ”©Ü
==(cÚ¡ 
Upd©ePÏtoÚD©a
&);

59 
	mpublic
:

60 
Upd©ePÏtoÚD©a
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

61 
Upd©ePÏtoÚD©a
(cÚ¡ Upd©ePÏtoÚD©a& 
Ùh”
);

62 
	mvœtu®
 ~
Upd©ePÏtoÚD©a
();

63 
	mUpd©ePÏtoÚD©a
& 
	mİ”©Ü
=(cÚ¡ 
Upd©ePÏtoÚD©a
& 
Ùh”
);

64 
vœtu®
 
Upd©ePÏtoÚD©a
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`Upd©ePÏtoÚD©a
(*
this
);}

65 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

66 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

69 
vœtu®
 
	$g‘NewPÏtoÚId
() const;

70 
vœtu®
 
	`£tNewPÏtoÚId
(
ÃwPÏtoÚId
);

71 
	}
};

73 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
Upd©ePÏtoÚD©a
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

74 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
Upd©ePÏtoÚD©a
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/UpdatePlatoonFormationAck_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"Upd©ePÏtoÚFÜm©iÚAck_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
Upd©ePÏtoÚFÜm©iÚAck
)

182 
Upd©ePÏtoÚFÜm©iÚAck
::
	$Upd©ePÏtoÚFÜm©iÚAck
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
¶©oÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
¶©oÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$Upd©ePÏtoÚFÜm©iÚAck
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
¶©oÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
¶©oÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gUpd©ePÏtoÚFÜm©iÚAck
::~
	$Upd©ePÏtoÚFÜm©iÚAck
()

199 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

200 
	}
}

202 
	gUpd©ePÏtoÚFÜm©iÚAck
& Upd©ePÏtoÚFÜm©iÚAck::
İ”©Ü
=(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$cİy
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

215 
this
->
¶©oÚFÜm©iÚ
 = (
Ùh”
.
¶©oÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.platoonFormation_arraysize];

216 
¶©oÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.platoonFormation_arraysize;

217 
i
=0; i<
¶©oÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
¶©oÚFÜm©iÚ
[
i
] = 
Ùh”
.platoonFormation[i];

219 
	}
}

221 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
¶©oÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
¶©oÚFÜm©iÚ
,
¶©oÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
¶©oÚFÜm©iÚ_¬¿ysize
);

237 ià(
¶©oÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
¶©oÚFÜm©iÚ
 = 0;

240 
this
->
¶©oÚFÜm©iÚ
 = 
Ãw
 [
¶©oÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
¶©oÚFÜm©iÚ
,
¶©oÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$£tPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
¶©oÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
¶©oÚFÜm©iÚ_¬¿ysize
 < 
size
 ?…latoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
¶©oÚFÜm©iÚ2
[
i
] = 
this
->
¶©oÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
¶©oÚFÜm©iÚ2
[
i
] = 0;

273 
¶©oÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

275 
this
->
¶©oÚFÜm©iÚ
 = 
¶©oÚFÜm©iÚ2
;

276 
	}
}

278 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$g‘PÏtoÚFÜm©iÚA¼aySize
() const

280  
¶©oÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$g‘PÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
¶©oÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",…latoonFormation_arraysize, k);

286  
this
->
¶©oÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gUpd©ePÏtoÚFÜm©iÚAck
::
	$£tPÏtoÚFÜm©iÚ
(
k
, 
¶©oÚFÜm©iÚ
)

291 ià(
k
>=
¶©oÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",…latoonFormation_arraysize, k);

292 
this
->
¶©oÚFÜm©iÚ
[
k
] =…latoonFormation;

293 
	}
}

295 şas 
	cUpd©ePÏtoÚFÜm©iÚAckDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
Upd©ePÏtoÚFÜm©iÚAckDesütÜ
();

301 
	mvœtu®
 ~
Upd©ePÏtoÚFÜm©iÚAckDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
Upd©ePÏtoÚFÜm©iÚAckDesütÜ
)

325 
Upd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$Upd©ePÏtoÚFÜm©iÚAckDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("UpdatePlatoonFormationAck", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::~
	$Upd©ePÏtoÚFÜm©iÚAckDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
Upd©ePÏtoÚFÜm©iÚAck
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
Upd©ePÏtoÚFÜm©iÚAck
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚAck *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘PÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
Upd©ePÏtoÚFÜm©iÚAck
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚAck *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
Upd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
Upd©ePÏtoÚFÜm©iÚAck
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚAck *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
Upd©ePÏtoÚFÜm©iÚAck
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚAck *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gUpd©ePÏtoÚFÜm©iÚAckDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
Upd©ePÏtoÚFÜm©iÚAck
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚAck *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/UpdatePlatoonFormationAck_m.h

5 #iâdeà
__UPDATEPLATOONFORMATIONACK_M_H


6 
	#__UPDATEPLATOONFORMATIONACK_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

49 şas 
	cPLEXE_API
 
	mUpd©ePÏtoÚFÜm©iÚAck
 : 
public
 ::
Mªeuv”Mes§ge


51 
´Ùeùed
:

52 
¶©oÚS³ed
;

53 
	m¶©oÚLªe
;

54 *
	m¶©oÚFÜm©iÚ
;

55 
	m¶©oÚFÜm©iÚ_¬¿ysize
;

57 
	m´iv©e
:

58 
cİy
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
Ùh”
);

60 
	m´Ùeùed
:

62 
boŞ
 
İ”©Ü
==(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
&);

64 
	mpublic
:

65 
Upd©ePÏtoÚFÜm©iÚAck
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

66 
Upd©ePÏtoÚFÜm©iÚAck
(cÚ¡ Upd©ePÏtoÚFÜm©iÚAck& 
Ùh”
);

67 
	mvœtu®
 ~
Upd©ePÏtoÚFÜm©iÚAck
();

68 
	mUpd©ePÏtoÚFÜm©iÚAck
& 
	mİ”©Ü
=(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
Ùh”
);

69 
vœtu®
 
Upd©ePÏtoÚFÜm©iÚAck
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`Upd©ePÏtoÚFÜm©iÚAck
(*
this
);}

70 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

71 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

74 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

75 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

76 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

77 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

78 
vœtu®
 
	`£tPÏtoÚFÜm©iÚA¼aySize
(
size
);

79 
vœtu®
 
	$g‘PÏtoÚFÜm©iÚA¼aySize
() const;

80 
vœtu®
 
	$g‘PÏtoÚFÜm©iÚ
(
k
) const;

81 
vœtu®
 
	`£tPÏtoÚFÜm©iÚ
(
k
, 
¶©oÚFÜm©iÚ
);

82 
	}
};

84 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
Upd©ePÏtoÚFÜm©iÚAck
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

85 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
Upd©ePÏtoÚFÜm©iÚAck
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@messages/UpdatePlatoonFormation_m.cc

6 #ifdeà
_MSC_VER


7 #´agm¨
w¬nšg
(
di§bË
:4101)

8 #´agm¨
w¬nšg
(
di§bË
:4065)

11 #ià
defšed
(
__şªg__
)

12 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

13 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

14 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

15 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wc++98-compat"

16 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wunreachable-code-break"

17 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

18 #–ià
defšed
(
__GNUC__
)

19 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

20 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wconversion"

21 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-parameter"

22 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wold-style-cast"

23 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wsuggest-attribute=noreturn"

24 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wfloat-conversion"

27 
	~<io¡»am
>

28 
	~<s¡»am
>

29 
	~"Upd©ePÏtoÚFÜm©iÚ_m.h
"

31 
Çme¥aû
 
	gomÃp
 {

37 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

38 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

40 
	gn
 = 
v
.
size
();

41 
doP¬simPackšg
(
bufãr
, 
n
);

42 
	gi
 = 0; i < 
	gn
; i++)

43 
doP¬simPackšg
(
bufãr
, 
v
[
i
]);

46 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

47 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
veùÜ
<
T
,
A
>& 
v
)

49 
	gn
;

50 
doP¬simUÅackšg
(
bufãr
, 
n
);

51 
	gv
.
»size
(
n
);

52 
	gi
 = 0; i < 
	gn
; i++)

53 
doP¬simUÅackšg
(
bufãr
, 
v
[
i
]);

57 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

58 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
li¡
<
T
,
A
>& 
l
)

60 
doP¬simPackšg
(
bufãr
, ()
l
.
size
());

61 
ty³Çme
 
	g¡d
::
li¡
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
l
.
begš
(); 
	g™
 !ğl.
’d
(); ++it)

62 
doP¬simPackšg
(
bufãr
, (
T
&)*
™
);

65 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

66 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
li¡
<
T
,
A
>& 
l
)

68 
	gn
;

69 
doP¬simUÅackšg
(
bufãr
, 
n
);

70 
	gi
=0; i<
	gn
; i++) {

71 
	gl
.
push_back
(
T
());

72 
doP¬simUÅackšg
(
bufãr
, 
l
.
back
());

77 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

78 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

80 
doP¬simPackšg
(
bufãr
, ()
s
.
size
());

81 
ty³Çme
 
	g¡d
::
£t
<
T
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it)

82 
doP¬simPackšg
(
bufãr
, *
™
);

85 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gTr
,y³Çm
	gA
>

86 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
£t
<
T
,
Tr
,
A
>& 
s
)

88 
	gn
;

89 
doP¬simUÅackšg
(
bufãr
, 
n
);

90 
	gi
=0; i<
	gn
; i++) {

91 
T
 
	gx
;

92 
doP¬simUÅackšg
(
bufãr
, 
x
);

93 
	gs
.
š£¹
(
x
);

98 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

99 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, cÚ¡ 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

101 
doP¬simPackšg
(
bufãr
, ()
m
.
size
());

102 
ty³Çme
 
	g¡d
::
m­
<
K
,
	gV
,
	gTr
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
m
.
begš
(); 
	g™
 !ğm.
’d
(); ++it) {

103 
doP¬simPackšg
(
bufãr
, 
™
->
fœ¡
);

104 
doP¬simPackšg
(
bufãr
, 
™
->
£cÚd
);

108 
	g‹m¶©e
<
ty³Çme
 
	gK
,y³Çm
	gV
,y³Çm
	gTr
,y³Çm
	gA
>

109 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
bufãr
, 
¡d
::
m­
<
K
,
V
,
Tr
,
A
>& 
m
)

111 
	gn
;

112 
doP¬simUÅackšg
(
bufãr
, 
n
);

113 
	gi
=0; i<
	gn
; i++) {

114 
K
 
	gk
; 
V
 
	gv
;

115 
doP¬simUÅackšg
(
bufãr
, 
k
);

116 
doP¬simUÅackšg
(
bufãr
, 
v
);

117 
	gm
[
k
] = 
v
;

122 
	g‹m¶©e
<
ty³Çme
 
	gT
>

123 
doP¬simA¼ayPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
T
 *
t
, 
n
)

125 
	gi
 = 0; i < 
	gn
; i++)

126 
doP¬simPackšg
(
b
, 
t
[
i
]);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
doP¬simA¼ayUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
T
 *
t
, 
n
)

132 
	gi
 = 0; i < 
	gn
; i++)

133 
doP¬simUÅackšg
(
b
, 
t
[
i
]);

137 
	g‹m¶©e
<
ty³Çme
 
	gT
>

138 
doP¬simPackšg
(
omÃp
::
cCommBufãr
 *, cÚ¡ 
T
& 
t
)

140 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simPackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

143 
	g‹m¶©e
<
ty³Çme
 
	gT
>

144 
doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *, 
T
& 
t
)

146 
throw
 
	gomÃp
::
cRuÁimeE¼Ü
("P¬simƒ¼Ü: NØdoP¬simUÅackšg(èfunùiÚ fÜy³ %s", 
omÃp
::
İp_ty³Çme
(
ty³id
(
t
)));

153 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

154 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
);

157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

158 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
,cÚ¡ 
	gT
&è{ 
	gout
;}

161 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gA
>

162 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
out
, cÚ¡ std::
veùÜ
<
T
,
	gA
>& 
	gvec
)

164 
	gout
.
put
('{');

165 
ty³Çme
 
	g¡d
::
veùÜ
<
T
,
	gA
>::
cÚ¡_™”©Ü
 
™
 = 
vec
.
begš
(); 
	g™
 !ğvec.
’d
(); ++it)

167 ià(
	g™
 !ğ
vec
.
begš
()) {

168 
out
.
put
(','); 
	gout
.put(' ');

170 
	gout
 << *
	g™
;

172 
	gout
.
put
('}');

174 
	gbuf
[32];

175 
¥rštf
(
buf
, " (size=%u)", ()
vec
.
size
());

176 
	gout
.
wr™e
(
buf
, 
¡¾’
(buf));

177  
	gout
;

180 
	$Regi¡”_CÏss
(
Upd©ePÏtoÚFÜm©iÚ
)

182 
Upd©ePÏtoÚFÜm©iÚ
::
	$Upd©ePÏtoÚFÜm©iÚ
(cÚ¡ *
Çme
, 
kšd
è: ::
	$Mªeuv”Mes§ge
(
Çme
,
kšd
)

184 
this
->
¶©oÚS³ed
 = 0;

185 
this
->
¶©oÚLªe
 = 0;

186 
¶©oÚFÜm©iÚ_¬¿ysize
 = 0;

187 
this
->
¶©oÚFÜm©iÚ
 = 0;

188 
	}
}

190 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$Upd©ePÏtoÚFÜm©iÚ
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
Ùh”
è: ::
	$Mªeuv”Mes§ge
(
Ùh”
)

192 
¶©oÚFÜm©iÚ_¬¿ysize
 = 0;

193 
this
->
¶©oÚFÜm©iÚ
 = 0;

194 
	`cİy
(
Ùh”
);

195 
	}
}

197 
	gUpd©ePÏtoÚFÜm©iÚ
::~
	$Upd©ePÏtoÚFÜm©iÚ
()

199 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

200 
	}
}

202 
	gUpd©ePÏtoÚFÜm©iÚ
& Upd©ePÏtoÚFÜm©iÚ::
İ”©Ü
=(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
Ùh”
)

204 ià(
this
==&
Ùh”
)  *this;

205 ::
Mªeuv”Mes§ge
::
İ”©Ü
=(
Ùh”
);

206 
cİy
(
Ùh”
);

207  *
	gthis
;

210 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$cİy
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
Ùh”
)

212 
this
->
¶©oÚS³ed
 = 
Ùh”
.platoonSpeed;

213 
this
->
¶©oÚLªe
 = 
Ùh”
.platoonLane;

214 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

215 
this
->
¶©oÚFÜm©iÚ
 = (
Ùh”
.
¶©oÚFÜm©iÚ_¬¿ysize
==0è? 
nuÎ±r
 : 
Ãw
 [other.platoonFormation_arraysize];

216 
¶©oÚFÜm©iÚ_¬¿ysize
 = 
Ùh”
.platoonFormation_arraysize;

217 
i
=0; i<
¶©oÚFÜm©iÚ_¬¿ysize
; i++)

218 
this
->
¶©oÚFÜm©iÚ
[
i
] = 
Ùh”
.platoonFormation[i];

219 
	}
}

221 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
) const

223 ::
Mªeuv”Mes§ge
::
	`·rsimPack
(
b
);

224 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚS³ed
);

225 
	`doP¬simPackšg
(
b
,
this
->
¶©oÚLªe
);

226 
b
->
	`·ck
(
¶©oÚFÜm©iÚ_¬¿ysize
);

227 
	`doP¬simA¼ayPackšg
(
b
,
this
->
¶©oÚFÜm©iÚ
,
¶©oÚFÜm©iÚ_¬¿ysize
);

228 
	}
}

230 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
)

232 ::
Mªeuv”Mes§ge
::
	`·rsimUÅack
(
b
);

233 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚS³ed
);

234 
	`doP¬simUÅackšg
(
b
,
this
->
¶©oÚLªe
);

235 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

236 
b
->
	`uÅack
(
¶©oÚFÜm©iÚ_¬¿ysize
);

237 ià(
¶©oÚFÜm©iÚ_¬¿ysize
==0) {

238 
this
->
¶©oÚFÜm©iÚ
 = 0;

240 
this
->
¶©oÚFÜm©iÚ
 = 
Ãw
 [
¶©oÚFÜm©iÚ_¬¿ysize
];

241 
	`doP¬simA¼ayUÅackšg
(
b
,
this
->
¶©oÚFÜm©iÚ
,
¶©oÚFÜm©iÚ_¬¿ysize
);

243 
	}
}

245 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$g‘PÏtoÚS³ed
() const

247  
this
->
¶©oÚS³ed
;

248 
	}
}

250 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$£tPÏtoÚS³ed
(
¶©oÚS³ed
)

252 
this
->
¶©oÚS³ed
 =…latoonSpeed;

253 
	}
}

255 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$g‘PÏtoÚLªe
() const

257  
this
->
¶©oÚLªe
;

258 
	}
}

260 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$£tPÏtoÚLªe
(
¶©oÚLªe
)

262 
this
->
¶©oÚLªe
 =…latoonLane;

263 
	}
}

265 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$£tPÏtoÚFÜm©iÚA¼aySize
(
size
)

267 *
¶©oÚFÜm©iÚ2
 = (
size
==0è? 
nuÎ±r
 : 
Ãw
 [size];

268 
sz
 = 
¶©oÚFÜm©iÚ_¬¿ysize
 < 
size
 ?…latoonFormation_arraysize : size;

269 
i
=0; i<
sz
; i++)

270 
¶©oÚFÜm©iÚ2
[
i
] = 
this
->
¶©oÚFÜm©iÚ
[i];

271 
i
=
sz
; i<
size
; i++)

272 
¶©oÚFÜm©iÚ2
[
i
] = 0;

273 
¶©oÚFÜm©iÚ_¬¿ysize
 = 
size
;

274 
d–‘e
 [] 
this
->
¶©oÚFÜm©iÚ
;

275 
this
->
¶©oÚFÜm©iÚ
 = 
¶©oÚFÜm©iÚ2
;

276 
	}
}

278 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$g‘PÏtoÚFÜm©iÚA¼aySize
() const

280  
¶©oÚFÜm©iÚ_¬¿ysize
;

281 
	}
}

283 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$g‘PÏtoÚFÜm©iÚ
(
k
) const

285 ià(
k
>=
¶©oÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",…latoonFormation_arraysize, k);

286  
this
->
¶©oÚFÜm©iÚ
[
k
];

287 
	}
}

289 
	gUpd©ePÏtoÚFÜm©iÚ
::
	$£tPÏtoÚFÜm©iÚ
(
k
, 
¶©oÚFÜm©iÚ
)

291 ià(
k
>=
¶©oÚFÜm©iÚ_¬¿ysize
è
throw
 
omÃp
::
	`cRuÁimeE¼Ü
("Array of size %d indexed by %d",…latoonFormation_arraysize, k);

292 
this
->
¶©oÚFÜm©iÚ
[
k
] =…latoonFormation;

293 
	}
}

295 şas 
	cUpd©ePÏtoÚFÜm©iÚDesütÜ
 : 
public
 
omÃp
::
cCÏssDesütÜ


297 
´iv©e
:

298 
mubË
 cÚ¡ **
´İ”tyÇmes
;

299 
	mpublic
:

300 
Upd©ePÏtoÚFÜm©iÚDesütÜ
();

301 
	mvœtu®
 ~
Upd©ePÏtoÚFÜm©iÚDesütÜ
();

303 
vœtu®
 
boŞ
 
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
ècÚ¡ 
ov”ride
;

304 
vœtu®
 cÚ¡ **
	$g‘Prİ”tyNames
(ècÚ¡ 
ov”ride
;

305 
vœtu®
 cÚ¡ *
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

306 
vœtu®
 
	$g‘F›ldCouÁ
(ècÚ¡ 
ov”ride
;

307 
vœtu®
 cÚ¡ *
	$g‘F›ldName
(
f›ld
ècÚ¡ 
ov”ride
;

308 
vœtu®
 
	$fšdF›ld
(cÚ¡ *
f›ldName
ècÚ¡ 
ov”ride
;

309 
vœtu®
 
	$g‘F›ldTy³FÏgs
(
f›ld
ècÚ¡ 
ov”ride
;

310 
vœtu®
 cÚ¡ *
	$g‘F›ldTy³SŒšg
(
f›ld
ècÚ¡ 
ov”ride
;

311 
vœtu®
 cÚ¡ **
	$g‘F›ldPrİ”tyNames
(
f›ld
ècÚ¡ 
ov”ride
;

312 
vœtu®
 cÚ¡ *
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
ècÚ¡ 
ov”ride
;

313 
vœtu®
 
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
ècÚ¡ 
ov”ride
;

315 
vœtu®
 cÚ¡ *
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

316 
vœtu®
 
¡d
::
¡ršg
 
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

317 
vœtu®
 
boŞ
 
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
ècÚ¡ 
ov”ride
;

319 
vœtu®
 cÚ¡ *
	$g‘F›ldSŒuùName
(
f›ld
ècÚ¡ 
ov”ride
;

320 
vœtu®
 *
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
ècÚ¡ 
ov”ride
;

323 
	$Regi¡”_CÏssDesütÜ
(
Upd©ePÏtoÚFÜm©iÚDesütÜ
)

325 
Upd©ePÏtoÚFÜm©iÚDesütÜ
::
	$Upd©ePÏtoÚFÜm©iÚDesütÜ
(è: 
omÃp
::
	`cCÏssDesütÜ
("UpdatePlatoonFormation", "ManeuverMessage")

327 
´İ”tyÇmes
 = 
nuÎ±r
;

328 
	}
}

330 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::~
	$Upd©ePÏtoÚFÜm©iÚDesütÜ
()

332 
d–‘e
[] 
´İ”tyÇmes
;

333 
	}
}

335 
boŞ
 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$dÛsSuµÜt
(
omÃp
::
cObjeù
 *
obj
) const

337  
dyÇmic_ÿ¡
<
Upd©ePÏtoÚFÜm©iÚ
 *>(
obj
)!=
nuÎ±r
;

338 
	}
}

340 cÚ¡ **
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘Prİ”tyNames
() const

342 ià(!
´İ”tyÇmes
) {

343 cÚ¡ *
Çmes
[] = { 
nuÎ±r
 };

344 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

345 cÚ¡ **
ba£Çmes
 = 
ba£desc
 ? ba£desc->
	`g‘Prİ”tyNames
(è: 
nuÎ±r
;

346 
´İ”tyÇmes
 = 
	`m”geLi¡s
(
ba£Çmes
, 
Çmes
);

348  
´İ”tyÇmes
;

349 
	}
}

351 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘Prİ”ty
(cÚ¡ *
´İ”tyÇme
) const

353 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

354  
ba£desc
 ? ba£desc->
	`g‘Prİ”ty
(
´İ”tyÇme
è: 
nuÎ±r
;

355 
	}
}

357 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldCouÁ
() const

359 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

360  
ba£desc
 ? 3+ba£desc->
	`g‘F›ldCouÁ
() : 3;

361 
	}
}

363 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldTy³FÏgs
(
f›ld
) const

365 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

366 ià(
ba£desc
) {

367 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

368  
ba£desc
->
	`g‘F›ldTy³FÏgs
(
f›ld
);

369 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

371 
f›ldTy³FÏgs
[] = {

372 
FD_ISEDITABLE
,

373 
FD_ISEDITABLE
,

374 
FD_ISARRAY
 | 
FD_ISEDITABLE
,

376  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³FÏgs
[field] : 0;

377 
	}
}

379 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldName
(
f›ld
) const

381 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

382 ià(
ba£desc
) {

383 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

384  
ba£desc
->
	`g‘F›ldName
(
f›ld
);

385 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

387 cÚ¡ *
f›ldNames
[] = {

392  (
f›ld
>=0 && f›ld<3è? 
f›ldNames
[f›ld] : 
nuÎ±r
;

393 
	}
}

395 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$fšdF›ld
(cÚ¡ *
f›ldName
) const

397 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

398 
ba£
 = 
ba£desc
 ? ba£desc->
	`g‘F›ldCouÁ
() : 0;

399 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚS³ed")==0è 
ba£
+0;

400 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚLªe")==0è 
ba£
+1;

401 ià(
f›ldName
[0]=='p' && 
	`¡rcmp
(f›ldName, "¶©oÚFÜm©iÚ")==0è 
ba£
+2;

402  
ba£desc
 ? ba£desc->
	`fšdF›ld
(
f›ldName
) : -1;

403 
	}
}

405 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldTy³SŒšg
(
f›ld
) const

407 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

408 ià(
ba£desc
) {

409 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

410  
ba£desc
->
	`g‘F›ldTy³SŒšg
(
f›ld
);

411 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

413 cÚ¡ *
f›ldTy³SŒšgs
[] = {

418  (
f›ld
>=0 && f›ld<3è? 
f›ldTy³SŒšgs
[f›ld] : 
nuÎ±r
;

419 
	}
}

421 cÚ¡ **
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldPrİ”tyNames
(
f›ld
) const

423 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

424 ià(
ba£desc
) {

425 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

426  
ba£desc
->
	`g‘F›ldPrİ”tyNames
(
f›ld
);

427 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

429 
f›ld
) {

430 :  
nuÎ±r
;

432 
	}
}

434 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldPrİ”ty
(
f›ld
, cÚ¡ *
´İ”tyÇme
) const

436 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

437 ià(
ba£desc
) {

438 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

439  
ba£desc
->
	`g‘F›ldPrİ”ty
(
f›ld
, 
´İ”tyÇme
);

440 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

442 
f›ld
) {

443 :  
nuÎ±r
;

445 
	}
}

447 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldA¼aySize
(*
objeù
, 
f›ld
) const

449 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

450 ià(
ba£desc
) {

451 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

452  
ba£desc
->
	`g‘F›ldA¼aySize
(
objeù
, 
f›ld
);

453 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

455 
Upd©ePÏtoÚFÜm©iÚ
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚ *)
objeù
; ()pp;

456 
f›ld
) {

457 2:  
µ
->
	`g‘PÏtoÚFÜm©iÚA¼aySize
();

460 
	}
}

462 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldDyÇmicTy³SŒšg
(*
objeù
, 
f›ld
, 
i
) const

464 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

465 ià(
ba£desc
) {

466 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

467  
ba£desc
->
	`g‘F›ldDyÇmicTy³SŒšg
(
objeù
,
f›ld
,
i
);

468 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

470 
Upd©ePÏtoÚFÜm©iÚ
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚ *)
objeù
; ()pp;

471 
f›ld
) {

472 :  
nuÎ±r
;

474 
	}
}

476 
	g¡d
::
¡ršg
 
Upd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
) const

478 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

479 ià(
ba£desc
) {

480 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

481  
ba£desc
->
	`g‘F›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
);

482 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

484 
Upd©ePÏtoÚFÜm©iÚ
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚ *)
objeù
; ()pp;

485 
f›ld
) {

486 0:  
	`doubË2¡ršg
(
µ
->
	`g‘PÏtoÚS³ed
());

487 1:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚLªe
());

488 2:  
	`lÚg2¡ršg
(
µ
->
	`g‘PÏtoÚFÜm©iÚ
(
i
));

491 
	}
}

493 
boŞ
 
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$£tF›ldV®ueAsSŒšg
(*
objeù
, 
f›ld
, 
i
, cÚ¡ *
v®ue
) const

495 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

496 ià(
ba£desc
) {

497 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

498  
ba£desc
->
	`£tF›ldV®ueAsSŒšg
(
objeù
,
f›ld
,
i
,
v®ue
);

499 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

501 
Upd©ePÏtoÚFÜm©iÚ
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚ *)
objeù
; ()pp;

502 
f›ld
) {

503 0: 
µ
->
	`£tPÏtoÚS³ed
(
	`¡ršg2doubË
(
v®ue
));  
Œue
;

504 1: 
µ
->
	`£tPÏtoÚLªe
(
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

505 2: 
µ
->
	`£tPÏtoÚFÜm©iÚ
(
i
,
	`¡ršg2lÚg
(
v®ue
));  
Œue
;

506 :  
çl£
;

508 
	}
}

510 cÚ¡ *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldSŒuùName
(
f›ld
) const

512 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

513 ià(
ba£desc
) {

514 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

515  
ba£desc
->
	`g‘F›ldSŒuùName
(
f›ld
);

516 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

518 
f›ld
) {

519 :  
nuÎ±r
;

521 
	}
}

523 *
	gUpd©ePÏtoÚFÜm©iÚDesütÜ
::
	$g‘F›ldSŒuùV®uePoš‹r
(*
objeù
, 
f›ld
, 
i
) const

525 
omÃp
::
cCÏssDesütÜ
 *
ba£desc
 = 
	`g‘Ba£CÏssDesütÜ
();

526 ià(
ba£desc
) {

527 ià(
f›ld
 < 
ba£desc
->
	`g‘F›ldCouÁ
())

528  
ba£desc
->
	`g‘F›ldSŒuùV®uePoš‹r
(
objeù
, 
f›ld
, 
i
);

529 
f›ld
 -ğ
ba£desc
->
	`g‘F›ldCouÁ
();

531 
Upd©ePÏtoÚFÜm©iÚ
 *
µ
 = (Upd©ePÏtoÚFÜm©iÚ *)
objeù
; ()pp;

532 
f›ld
) {

533 :  
nuÎ±r
;

535 
	}
}

	@messages/UpdatePlatoonFormation_m.h

5 #iâdeà
__UPDATEPLATOONFORMATION_M_H


6 
	#__UPDATEPLATOONFORMATION_M_H


	)

8 #ià
defšed
(
__şªg__
)

9 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wreserved-id-macro"

11 
	~<omÃp.h
>

14 
	#MSGC_VERSION
 0x0506

	)

15 #ià(
MSGC_VERSION
!=
OMNETPP_VERSION
)

16 #”rÜ 
V”siÚ
 
mism©ch
! 
Probably
 
this
 
fe
 
was
 
g’”©ed
 
by
 
ª
 
—¾›r
 
v”siÚ
 
of
 
ÃdtoŞ
: 'makş—n' 
should
 
h–p
.

20 #iâdeà
PLEXE_API


21 #ià
defšed
(
PLEXE_EXPORT
)

22 
	#PLEXE_API
 
OPP_DLLEXPORT


	)

23 #–ià
defšed
(
PLEXE_IMPORT
)

24 
	#PLEXE_API
 
OPP_DLLIMPORT


	)

26 
	#PLEXE_API


	)

33 
	~"Mªeuv”Mes§ge_m.h
"

49 şas 
	cPLEXE_API
 
	mUpd©ePÏtoÚFÜm©iÚ
 : 
public
 ::
Mªeuv”Mes§ge


51 
´Ùeùed
:

52 
¶©oÚS³ed
;

53 
	m¶©oÚLªe
;

54 *
	m¶©oÚFÜm©iÚ
;

55 
	m¶©oÚFÜm©iÚ_¬¿ysize
;

57 
	m´iv©e
:

58 
cİy
(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
Ùh”
);

60 
	m´Ùeùed
:

62 
boŞ
 
İ”©Ü
==(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
&);

64 
	mpublic
:

65 
Upd©ePÏtoÚFÜm©iÚ
(cÚ¡ *
Çme
=
nuÎ±r
, 
kšd
=0);

66 
Upd©ePÏtoÚFÜm©iÚ
(cÚ¡ Upd©ePÏtoÚFÜm©iÚ& 
Ùh”
);

67 
	mvœtu®
 ~
Upd©ePÏtoÚFÜm©iÚ
();

68 
	mUpd©ePÏtoÚFÜm©iÚ
& 
	mİ”©Ü
=(cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
Ùh”
);

69 
vœtu®
 
Upd©ePÏtoÚFÜm©iÚ
 *
	$dup
(ècÚ¡ 
ov”ride
 { 
Ãw
 
	`Upd©ePÏtoÚFÜm©iÚ
(*
this
);}

70 
vœtu®
 
	$·rsimPack
(
omÃp
::
cCommBufãr
 *
b
ècÚ¡ 
ov”ride
;

71 
vœtu®
 
	$·rsimUÅack
(
omÃp
::
cCommBufãr
 *
b
è
ov”ride
;

74 
vœtu®
 
	$g‘PÏtoÚS³ed
() const;

75 
vœtu®
 
	`£tPÏtoÚS³ed
(
¶©oÚS³ed
);

76 
vœtu®
 
	$g‘PÏtoÚLªe
() const;

77 
vœtu®
 
	`£tPÏtoÚLªe
(
¶©oÚLªe
);

78 
vœtu®
 
	`£tPÏtoÚFÜm©iÚA¼aySize
(
size
);

79 
vœtu®
 
	$g‘PÏtoÚFÜm©iÚA¼aySize
() const;

80 
vœtu®
 
	$g‘PÏtoÚFÜm©iÚ
(
k
) const;

81 
vœtu®
 
	`£tPÏtoÚFÜm©iÚ
(
k
, 
¶©oÚFÜm©iÚ
);

82 
	}
};

84 
šlše
 
	$doP¬simPackšg
(
omÃp
::
cCommBufãr
 *
b
, cÚ¡ 
Upd©ePÏtoÚFÜm©iÚ
& 
obj
è{obj.
	`·rsimPack
(b);
	}
}

85 
šlše
 
	$doP¬simUÅackšg
(
omÃp
::
cCommBufãr
 *
b
, 
Upd©ePÏtoÚFÜm©iÚ
& 
obj
è{obj.
	`·rsimUÅack
(b);
	}
}

	@mobility/CommandInterface.cc

21 
	~"CommªdIÁ”çû.h
"

23 
	~<vešs/moduËs/mob™y/Œaci/T¿CICÚÃùiÚ.h
>

24 
	~<vešs/moduËs/mob™y/Œaci/T¿CICÚ¡ªts.h
>

25 
	~<vešs/moduËs/mob™y/Œaci/P¬Bufãr.h
>

27 
usšg
 
	gvešs
::
P¬Bufãr
;

28 
usšg
 
	gvešs
::
T¿CIBufãr
;

29 
usšg
 
Çme¥aû
 
	gvešs
::
T¿CICÚ¡ªts
;

31 
Çme¥aû
 
	g¶exe
 {

32 
Çme¥aû
 
	gŒaci
 {

34 
	gCommªdIÁ”çû
::
CommªdIÁ”çû
(
cCompÚ’t
* 
owÃr
, 
vešs
::
T¿CICommªdIÁ”çû
* 
vešsCommªdIÁ”çû
, vešs::
T¿CICÚÃùiÚ
* 
cÚÃùiÚ
)

35 : 
HasLogProxy
(
owÃr
)

36 , 
vešsCommªdIÁ”çû
(veinsCommandInterface)

37 , 
cÚÃùiÚ
(connection)

41 
	gCommªdIÁ”çû
::
Vehişe
::
£tLªeChªgeMode
(
mode
)

43 
ušt8_t
 
v¬ŸbËId
 = 
VAR_LANECHANGE_MODE
;

44 
ušt8_t
 
	gty³
 = 
TYPE_INTEGER
;

45 
T¿CIBufãr
 
	gbuf
 = 
cifc
->
cÚÃùiÚ
->
qu”y
(
CMD_SET_VEHICLE_VARIABLE
, T¿CIBufãr(è<< 
v¬ŸbËId
 << 
nodeId
 << 
ty³
 << 
mode
);

46 
ASSERT
(
buf
.
eof
());

49 
	gCommªdIÁ”çû
::
Vehişe
::
g‘LªeChªgeS‹
(
dœeùiÚ
, & 
¡©e1
, & 
¡©e2
)

51 
T¿CIBufãr
 
	g»¥Ú£
 = 
cifc
->
cÚÃùiÚ
->
qu”y
(
CMD_GET_VEHICLE_VARIABLE
, T¿CIBufãr(è<< 
¡©ic_ÿ¡
<
ušt8_t
>(
CMD_CHANGELANE
è<< 
nodeId
 << stic_ÿ¡<ušt8_t>(
TYPE_INTEGER
è<< 
dœeùiÚ
);

52 
ušt8_t
 
	gcmdL’gth
;

53 
	g»¥Ú£
 >> 
	gcmdL’gth
;

54 
ušt8_t
 
	g»¥Ú£Id
;

55 
	g»¥Ú£
 >> 
	g»¥Ú£Id
;

56 
ASSERT
(
»¥Ú£Id
 =ğ
RESPONSE_GET_VEHICLE_VARIABLE
);

57 
ušt8_t
 
	gv¬ŸbË
;

58 
	g»¥Ú£
 >> 
	gv¬ŸbË
;

59 
ASSERT
(
v¬ŸbË
 =ğ
CMD_CHANGELANE
);

60 
	g¡d
::
¡ršg
 
id
;

61 
	g»¥Ú£
 >> 
	gid
;

62 
ušt8_t
 
	gty³
;

63 
	g»¥Ú£
 >> 
	gty³
;

64 
ASSERT
(
ty³
 =ğ
TYPE_COMPOUND
);

65 
	gcouÁ
;

66 
	g»¥Ú£
 >> 
	gcouÁ
;

67 
ASSERT
(
couÁ
 == 2);

68 
	g»¥Ú£
 >> 
	gty³
;

69 
ASSERT
(
ty³
 =ğ
TYPE_INTEGER
);

70 
	g»¥Ú£
 >> 
	g¡©e1
;

71 
	g»¥Ú£
 >> 
	gty³
;

72 
ASSERT
(
ty³
 =ğ
TYPE_INTEGER
);

73 
	g»¥Ú£
 >> 
	g¡©e2
;

76 
	gCommªdIÁ”çû
::
Vehişe
::
chªgeLªe
(
ÏÃ
, 
du¿tiÚ
)

78 
ušt8_t
 
	gcommªdTy³
 = 
TYPE_COMPOUND
;

79 
	gnP¬am‘”s
 = 2;

80 
ušt8_t
 
	gv¬ŸbËId
 = 
CMD_CHANGELANE
;

81 
T¿CIBufãr
 
	gbuf
 = 
cifc
->
cÚÃùiÚ
->
qu”y
(
CMD_SET_VEHICLE_VARIABLE
, T¿CIBufãr(è<< 
v¬ŸbËId
 << 
nodeId
 << 
commªdTy³
 << 
nP¬am‘”s
 << 
¡©ic_ÿ¡
<
ušt8_t
>(
TYPE_BYTE
è<< (ušt8_tè
ÏÃ
 << stic_ÿ¡<ušt8_t>(
TYPE_DOUBLE
è<< 
du¿tiÚ
);

82 
ASSERT
(
buf
.
eof
());

85 
	gCommªdIÁ”çû
::
Vehişe
::
£tL—d”VehişeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
)

87 
P¬Bufãr
 
	gbuf
;

88 
	gbuf
 << 
	g¥“d
 << 
	gacûË¿tiÚ
 << 
	gpos™iÚX
 << 
	gpos™iÚY
 << 
	gtime
 << 
	gcÚŒŞËrAcûË¿tiÚ
;

89 
vešsVehişe
().
£tP¬am‘”
(
PAR_LEADER_SPEED_AND_ACCELERATION
, 
buf
.
¡r
());

92 
	gCommªdIÁ”çû
::
Vehişe
::
£tPÏtoÚL—d”D©a
(
¥“d
, 
acûË¿tiÚ
, 
pos™iÚX
, 
pos™iÚY
, 
time
)

94 
	g¡d
::
cout
 << "setPlatoonLeaderData() is deprecated‡nd will be„emoved. Please use setLeaderVehicleData()\n";

95 
£tL—d”VehişeD©a
(
acûË¿tiÚ
,‡cûË¿tiÚ, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

98 
	gCommªdIÁ”çû
::
Vehişe
::
£tFrÚtVehişeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
)

100 
P¬Bufãr
 
	gbuf
;

101 
	gbuf
 << 
	g¥“d
 << 
	gacûË¿tiÚ
 << 
	gpos™iÚX
 << 
	gpos™iÚY
 << 
	gtime
 << 
	gcÚŒŞËrAcûË¿tiÚ
;

102 
vešsVehişe
().
£tP¬am‘”
(
PAR_PRECEDING_SPEED_AND_ACCELERATION
, 
buf
.
¡r
());

105 
	gCommªdIÁ”çû
::
Vehişe
::
g‘VehişeD©a
(& 
¥“d
, & 
acûË¿tiÚ
, & 
cÚŒŞËrAcûË¿tiÚ
, & 
pos™iÚX
, & 
pos™iÚY
, & 
time
)

107 
	g¡d
::
¡ršg
 
v
;

108 
vešsVehişe
().
g‘P¬am‘”
(
PAR_SPEED_AND_ACCELERATION
, 
v
);

109 
P¬Bufãr
 
buf
(
v
);

110 
	gbuf
 >> 
	g¥“d
 >> 
	gacûË¿tiÚ
 >> 
	gcÚŒŞËrAcûË¿tiÚ
 >> 
	gpos™iÚX
 >> 
	gpos™iÚY
 >> 
	gtime
;

113 
	gCommªdIÁ”çû
::
Vehişe
::
g‘VehişeD©a
(
VEHICLE_DATA
* 
d©a
)

115 
¡d
::
¡ršg
 
v
;

116 
vešsVehişe
().
g‘P¬am‘”
(
PAR_SPEED_AND_ACCELERATION
, 
v
);

117 
P¬Bufãr
 
buf
(
v
);

118 
	gbuf
 >> 
	gd©a
->
	g¥“d
 >> d©a->
	gacûË¿tiÚ
 >> d©a->
	gu
 >> d©a->
	gpos™iÚX
 >> d©a->
	gpos™iÚY
 >> d©a->
	gtime
 >> d©a->
	g¥“dX
 >> d©a->
	g¥“dY
 >> d©a->
	gªgË
;

121 
	gCommªdIÁ”çû
::
Vehişe
::
£tCrui£CÚŒŞDesœedS³ed
(
desœedS³ed
)

123 
vešsVehişe
().
£tP¬am‘”
(
PAR_CC_DESIRED_SPEED
, 
desœedS³ed
);

126 cÚ¡ 
	gCommªdIÁ”çû
::
Vehişe
::
g‘Crui£CÚŒŞDesœedS³ed
()

128 
desœedS³ed
;

129 
vešsVehişe
().
g‘P¬am‘”
(
PAR_CC_DESIRED_SPEED
, 
desœedS³ed
);

130  
	gdesœedS³ed
;

133 
	gCommªdIÁ”çû
::
Vehişe
::
£tAùiveCÚŒŞËr
(
aùiveCÚŒŞËr
)

135 
vešsVehişe
().
£tP¬am‘”
(
PAR_ACTIVE_CONTROLLER
, 
aùiveCÚŒŞËr
);

138 
	gCommªdIÁ”çû
::
Vehişe
::
g‘AùiveCÚŒŞËr
()

140 
v
;

141 
vešsVehişe
().
g‘P¬am‘”
(
PAR_ACTIVE_CONTROLLER
, 
v
);

142  
	gv
;

145 
	gCommªdIÁ”çû
::
Vehişe
::
£tCACCCÚ¡ªtS·cšg
(
¥acšg
)

147 
vešsVehişe
().
£tP¬am‘”
(
PAR_CACC_SPACING
, 
¥acšg
);

150 
	gCommªdIÁ”çû
::
Vehişe
::
g‘CACCCÚ¡ªtS·cšg
()

152 
v
;

153 
vešsVehişe
().
g‘P¬am‘”
(
PAR_CACC_SPACING
, 
v
);

154  
	gv
;

157 
	gCommªdIÁ”çû
::
Vehişe
::
£tP©hCACCP¬am‘”s
(
omegaN
, 
xi
, 
c1
, 
di¡ªû
)

159 ià(
	gomegaN
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_CACC_OMEGA_N
, 
omegaN
);

160 ià(
	gxi
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_CACC_XI
, 
xi
);

161 ià(
	gc1
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_CACC_C1
, 
c1
);

162 ià(
	gdi¡ªû
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
PAR_CACC_SPACING
, 
di¡ªû
);

165 
	gCommªdIÁ”çû
::
Vehişe
::
£tPlÛgCACCP¬am‘”s
(
kp
, 
kd
, 
h
)

167 ià(
	gkp
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_PLOEG_KP
, 
kp
);

168 ià(
	gkd
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_PLOEG_KD
, 
kd
);

169 ià(
	gh
 >ğ0è
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_PLOEG_H
, 
h
);

172 
	gCommªdIÁ”çû
::
Vehişe
::
£tACCH—dwayTime
(
h—dway
)

174 
vešsVehişe
().
£tP¬am‘”
(
PAR_ACC_HEADWAY_TIME
, 
h—dway
);

177 
	gCommªdIÁ”çû
::
Vehişe
::
g‘ACCH—dwayTime
()

179 
h—dway
;

180 
vešsVehişe
().
g‘P¬am‘”
(
PAR_ACC_HEADWAY_TIME
, 
h—dway
);

181  
	gh—dway
;

184 
	gCommªdIÁ”çû
::
Vehişe
::
£tFixedAcûË¿tiÚ
(
aùiv©e
, 
acûË¿tiÚ
)

186 
P¬Bufãr
 
	gbuf
;

187 
	gbuf
 << 
	gaùiv©e
 << 
	gacûË¿tiÚ
;

188 
vešsVehişe
().
£tP¬am‘”
(
PAR_FIXED_ACCELERATION
, 
buf
.
¡r
());

191 
boŞ
 
	gCommªdIÁ”çû
::
Vehişe
::
isC¿shed
()

193 
üashed
;

194 
vešsVehişe
().
g‘P¬am‘”
(
PAR_CRASHED
, 
üashed
);

195  
	güashed
;

198 
	gCommªdIÁ”çû
::
Vehişe
::
£tFixedLªe
(
št8_t
 
ÏÃIndex
, 
boŞ
 
§ã
)

200 ià(
	gÏÃIndex
 == -1) {

201 
£tLªeChªgeMode
(
DEFAULT_NOTRACI_LC
);

205 
PËxeLªeChªge
 
	glc
;

206 
	glc
.
	gÏÃ
 = 
ÏÃIndex
;

207 
	glc
.
	g§ã
 = 
§ã
;

208 
	glc
.
	gwa™
 = 
çl£
;

209 
	gcifc
->
	gÏÃChªges
[
nodeId
] = 
lc
;

212 
	gCommªdIÁ”çû
::
Vehişe
::
g‘Rad¬M—su»m’ts
(& 
di¡ªû
, & 
»ÏtiveS³ed
)

214 
	g¡d
::
¡ršg
 
v
;

215 
vešsVehişe
().
g‘P¬am‘”
(
PAR_RADAR_DATA
, 
v
);

216 
P¬Bufãr
 
buf
(
v
);

217 
	gbuf
 >> 
	gdi¡ªû
 >> 
	g»ÏtiveS³ed
;

220 
	gCommªdIÁ”çû
::
Vehişe
::
£tL—d”VehişeFakeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
)

222 
P¬Bufãr
 
	gbuf
;

223 
	gbuf
 << 
	g¥“d
 << 
	gacûË¿tiÚ
 << 
	gcÚŒŞËrAcûË¿tiÚ
;

224 
vešsVehişe
().
£tP¬am‘”
(
PAR_LEADER_FAKE_DATA
, 
buf
.
¡r
());

227 
	gCommªdIÁ”çû
::
Vehişe
::
£tL—d”FakeD©a
(
Ëad”S³ed
, 
Ëad”AcûË¿tiÚ
)

229 
	g¡d
::
cout
 << "setLeaderFakeData() is deprecated‡nd will be„emoved. Please use setLeaderVehicleFakeData()\n";

230 
£tL—d”VehişeFakeD©a
(
Ëad”AcûË¿tiÚ
,†—d”AcûË¿tiÚ, 
Ëad”S³ed
);

233 
	gCommªdIÁ”çû
::
Vehişe
::
£tFrÚtVehişeFakeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
di¡ªû
)

235 
P¬Bufãr
 
	gbuf
;

236 
	gbuf
 << 
	g¥“d
 << 
	gacûË¿tiÚ
 << 
	gdi¡ªû
 << 
	gcÚŒŞËrAcûË¿tiÚ
;

237 
vešsVehişe
().
£tP¬am‘”
(
PAR_FRONT_FAKE_DATA
, 
buf
.
¡r
());

240 
	gCommªdIÁ”çû
::
Vehişe
::
£tP»ûdšgVehişeD©a
(
¥“d
, 
acûË¿tiÚ
, 
pos™iÚX
, 
pos™iÚY
, 
time
)

242 
	g¡d
::
cout
 << "setPrecedingVehicleData() is deprecated‡nd will be„emoved. Please use setFrontVehicleData()\n";

243 
£tFrÚtVehişeD©a
(
acûË¿tiÚ
,‡cûË¿tiÚ, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

246 
	gCommªdIÁ”çû
::
Vehişe
::
£tFrÚtFakeD©a
(
äÚtDi¡ªû
, 
äÚtS³ed
, 
äÚtAcûË¿tiÚ
)

248 
	g¡d
::
cout
 << "setFrontFakeData() is deprecated‡nd will be„emoved. Please use setFrontVehicleFakeData()\n";

249 
£tFrÚtVehişeFakeD©a
(
äÚtAcûË¿tiÚ
, frÚtAcûË¿tiÚ, 
äÚtS³ed
, 
äÚtDi¡ªû
);

252 
	gCommªdIÁ”çû
::
Vehişe
::
g‘Di¡ªûToRou‹End
()

254 
v
;

255 
vešsVehişe
().
g‘P¬am‘”
(
PAR_DISTANCE_TO_END
, 
v
);

256  
	gv
;

259 
	gCommªdIÁ”çû
::
Vehişe
::
g‘Di¡ªûFromRou‹Begš
()

261 
v
;

262 
vešsVehişe
().
g‘P¬am‘”
(
PAR_DISTANCE_FROM_BEGIN
, 
v
);

263  
	gv
;

266 
	gCommªdIÁ”çû
::
Vehişe
::
g‘ACCAcûË¿tiÚ
()

268 
v
;

269 
vešsVehişe
().
g‘P¬am‘”
(
PAR_ACC_ACCELERATION
, 
v
);

270  
	gv
;

273 
	gCommªdIÁ”çû
::
Vehişe
::
£tVehişeD©a
(cÚ¡ 
VEHICLE_DATA
* 
d©a
)

275 
P¬Bufãr
 
buf
;

276 
	gbuf
 << 
	gd©a
->
	gšdex
 << d©a->
	g¥“d
 << d©a->
	gacûË¿tiÚ
 << d©a->
	gpos™iÚX
 << d©a->
	gpos™iÚY
 << d©a->
	gtime
 << d©a->
	gËngth
 << d©a->
	gu
 << d©a->
	g¥“dX
 << d©a->
	g¥“dY
 << d©a->
	gªgË
;

277 
vešsVehişe
().
£tP¬am‘”
(
CC_PAR_VEHICLE_DATA
, 
buf
.
¡r
());

280 
	gCommªdIÁ”çû
::
Vehişe
::
g‘StÜedVehişeD©a
(
VEHICLE_DATA
* 
d©a
, 
šdex
)

282 
P¬Bufãr
 
	gšBuf
;

283 
	g¡d
::
¡ršg
 
v
;

284 
	gšBuf
 << 
	gCC_PAR_VEHICLE_DATA
 << 
	gšdex
;

285 
vešsVehişe
().
g‘P¬am‘”
(
šBuf
.
¡r
(), 
v
);

286 
P¬Bufãr
 
outBuf
(
v
);

287 
	goutBuf
 >> 
	gd©a
->
	gšdex
 >> d©a->
	g¥“d
 >> d©a->
	gacûË¿tiÚ
 >> d©a->
	gpos™iÚX
 >> d©a->
	gpos™iÚY
 >> d©a->
	gtime
 >> d©a->
	gËngth
 >> d©a->
	gu
 >> d©a->
	g¥“dX
 >> d©a->
	g¥“dY
 >> d©a->
	gªgË
;

290 
	gCommªdIÁ”çû
::
Vehişe
::
u£CÚŒŞËrAcûË¿tiÚ
(
boŞ
 
u£
)

292 
vešsVehişe
().
£tP¬am‘”
(
PAR_USE_CONTROLLER_ACCELERATION
, 
u£
 ? 1 : 0);

295 
	gCommªdIÁ”çû
::
Vehişe
::
g‘EngšeD©a
(& 
g—r
, & 
½m
)

297 
P¬Bufãr
 
	gšBuf
;

298 
	g¡d
::
¡ršg
 
v
;

299 
	gšBuf
 << 
	gPAR_ENGINE_DATA
;

300 
vešsVehişe
().
g‘P¬am‘”
(
šBuf
.
¡r
(), 
v
);

301 
P¬Bufãr
 
outBuf
(
v
);

302 
	goutBuf
 >> 
	gg—r
 >> 
	g½m
;

305 
	gCommªdIÁ”çû
::
Vehişe
::
’abËAutoF“d
(
boŞ
 
’abË
, 
¡d
::
¡ršg
 
Ëad”Id
, std::¡ršg 
äÚtId
)

307 ià(
’abË
 && (
Ëad”Id
.
com·»
(""è=ğ0 || 
äÚtId
.compare("") == 0)) ;

308 
P¬Bufãr
 
	gšBuf
;

309 ià(
	g’abË
)

310 
	gšBuf
 << 1 << 
	gËad”Id
 << 
	gäÚtId
;

312 
	gšBuf
 << 0;

313 
vešsVehişe
().
£tP¬am‘”
(
PAR_USE_AUTO_FEEDING
, 
šBuf
.
¡r
());

316 
	gCommªdIÁ”çû
::
Vehişe
::
u£P»diùiÚ
(
boŞ
 
’abË
)

318 
vešsVehişe
().
£tP¬am‘”
(
PAR_USE_PREDICTION
, 
’abË
 ? 1 : 0);

321 
	gCommªdIÁ”çû
::
Vehişe
::
addPÏtoÚMemb”
(
¡d
::
¡ršg
 
memb”Id
, 
pos™iÚ
)

323 
P¬Bufãr
 
	gšBuf
;

324 
	gšBuf
 << 
	gmemb”Id
 << 
	gpos™iÚ
;

325 
vešsVehişe
().
£tP¬am‘”
(
PAR_ADD_MEMBER
, 
šBuf
.
¡r
());

328 
	gCommªdIÁ”çû
::
Vehişe
::
»movePÏtoÚMemb”
(
¡d
::
¡ršg
 
memb”Id
)

330 
vešsVehişe
().
£tP¬am‘”
(
PAR_REMOVE_MEMBER
, 
memb”Id
);

333 
	gCommªdIÁ”çû
::
Vehişe
::
’abËAutoLªeChªgšg
(
boŞ
 
’abË
)

335 
vešsVehişe
().
£tP¬am‘”
(
PAR_ENABLE_AUTO_LANE_CHANGE
, 
’abË
 ? 1 : 0);

338 
	gCommªdIÁ”çû
::
Vehişe
::
g‘LªesCouÁ
()

340 
v
;

341 
vešsVehişe
().
g‘P¬am‘”
(
PAR_LANES_COUNT
, 
v
);

342  (è
	gv
;

345 
	gCommªdIÁ”çû
::
Vehişe
::
£tLªeChªgeAùiÚ
(
aùiÚ
)

347 
¡d
::
cout
 << "setLaneChangeAction API is deprecated. Please„emove it from your code\n";

348 
ušt8_t
 
	gv¬ŸbËId
 = 
VAR_LANECHANGE_MODE
;

349 
ušt8_t
 
	gty³
 = 
TYPE_INTEGER
;

350 
	gŒaciAùiÚ
;

351 ià(
	gaùiÚ
 =ğ
MOVE_TO_FIXED_LANE
 || 
aùiÚ
 =ğ
STAY_IN_CURRENT_LANE
)

352 
ŒaciAùiÚ
 = 
FIX_LC
;

354 
	gŒaciAùiÚ
 = 
DEFAULT_NOTRACI_LC
;

355 
T¿CIBufãr
 
	gbuf
 = 
cifc
->
cÚÃùiÚ
->
qu”y
(
CMD_SET_VEHICLE_VARIABLE
, T¿CIBufãr(è<< 
v¬ŸbËId
 << 
nodeId
 << 
ty³
 << 
ŒaciAùiÚ
);

356 
ASSERT
(
buf
.
eof
());

359 
	gCommªdIÁ”çû
::
execu‹PËxeTime¡•
()

361 
¡d
::
veùÜ
<
PËxeLªeChªges
::
™”©Ü
> 
§tisf›d
;

362 autØ
	gi
 = 
ÏÃChªges
.
begš
(); i !ğÏÃChªges.
’d
(); i++) {

363 ià(
	gi
->
	g£cÚd
.
	gwa™
) {

364 
	gi
->
	g£cÚd
.
	gwa™
 = 
çl£
;

367 
	gcu¼’t
 = 
vehişe
(
i
->
fœ¡
).
vešsVehişe
().
g‘LªeIndex
();

368 
	gnLªes
 = 
i
->
£cÚd
.
ÏÃ
 - 
cu¼’t
;

369 
	gdœeùiÚ
;

370 ià(
	gnLªes
 > 0)

371 
	gdœeùiÚ
 = 1;

372 ià(
	gnLªes
 < 0)

373 
	gdœeùiÚ
 = -1;

375 
	gdœeùiÚ
 = 0;

377 ià(
	gdœeùiÚ
 == 0) {

378 
§tisf›d
.
push_back
(
i
);

379 ià(
	gi
->
	g£cÚd
.
	g§ã
)

380 
vehişe
(
i
->
fœ¡
).
£tLªeChªgeMode
(
FIX_LC
);

382 
vehişe
(
i
->
fœ¡
).
£tLªeChªgeMode
(
FIX_LC_AGGRESSIVE
);

385 
__chªgeLªe
(
i
->
fœ¡
, 
cu¼’t
, 
dœeùiÚ
, i->
£cÚd
.
§ã
);

388 
	gi
 = 0; i < 
	g§tisf›d
.
size
(); i++è
	gÏÃChªges
.
”a£
(
§tisf›d
[
i
]);

391 
	gCommªdIÁ”çû
::
__chªgeLªe
(
¡d
::
¡ršg
 
veh
, 
cu¼’t
, 
dœeùiÚ
, 
boŞ
 
§ã
)

393 ià(
	g§ã
) {

394 
vehişe
(
veh
).
£tLªeChªgeMode
(
FIX_LC
);

395 
vehişe
(
veh
).
chªgeLªe
(
cu¼’t
 + 
dœeùiÚ
, 0);

398 
	g¡©e
, 
	g¡©e2
;

399 
vehişe
(
veh
).
g‘LªeChªgeS‹
(
dœeùiÚ
, 
¡©e
, 
¡©e2
);

400 ià((
	g¡©e
 & 
	glÿ_ov”Ïµšg
) == 0) {

401 
vehişe
(
veh
).
£tLªeChªgeMode
(
FIX_LC_AGGRESSIVE
);

402 
vehişe
(
veh
).
chªgeLªe
(
cu¼’t
 + 
dœeùiÚ
, 0);

403 
	gÏÃChªges
[
veh
].
	gwa™
 = 
Œue
;

	@mobility/CommandInterface.h

21 #´agm¨
Úû


23 
	~"¶exe/¶exe.h
"

24 
	~"¶exe/CC_CÚ¡.h
"

26 
	~<vešs/moduËs/ut™y/HasLogProxy.h
>

27 
	~<vešs/moduËs/mob™y/Œaci/T¿CICommªdIÁ”çû.h
>

29 
	~<m­
>

31 
Çme¥aû
 
	gvešs
 {

32 
şass
 
	gT¿CICÚÃùiÚ
;

35 
Çme¥aû
 
	g¶exe
 {

36 
Çme¥aû
 
	gŒaci
 {

38 şas 
	cCommªdIÁ”çû
 : 
public
 
vešs
::
HasLogProxy
 {

39 
public
:

40 şas 
	cVehişe
 {

41 
public
:

42 
Vehişe
(
CommªdIÁ”çû
* 
cifc
, cÚ¡ 
¡d
::
¡ršg
& 
nodeId
)

43 : 
cifc
(cifc)

44 , 
nodeId
(nodeId)

48 
£tLªeChªgeMode
(
mode
);

49 
g‘LªeChªgeS‹
(
dœeùiÚ
, & 
¡©e1
, & 
¡©e2
);

50 
chªgeLªe
(
ÏÃ
, 
du¿tiÚ
);

55 
£tL—d”VehişeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

56 
£tPÏtoÚL—d”D©a
(
Ëad”S³ed
, 
Ëad”AcûË¿tiÚ
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

61 
£tFrÚtVehişeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

62 
£tP»ûdšgVehişeD©a
(
¥“d
, 
acûË¿tiÚ
, 
pos™iÚX
, 
pos™iÚY
, 
time
);

68 
g‘VehişeD©a
(& 
¥“d
, & 
acûË¿tiÚ
, & 
cÚŒŞËrAcûË¿tiÚ
, & 
pos™iÚX
, & 
pos™iÚY
, & 
time
);

74 
g‘VehişeD©a
(
¶exe
::
VEHICLE_DATA
* 
d©a
);

79 
£tCrui£CÚŒŞDesœedS³ed
(
desœedS³ed
);

84 cÚ¡ 
g‘Crui£CÚŒŞDesœedS³ed
();

94 
£tAùiveCÚŒŞËr
(
aùiveCÚŒŞËr
);

99 
g‘AùiveCÚŒŞËr
();

106 
£tCACCCÚ¡ªtS·cšg
(
¥acšg
);

111 
g‘CACCCÚ¡ªtS·cšg
();

117 
£tP©hCACCP¬am‘”s
(
omegaN
 = -1, 
xi
 = -1, 
c1
 = -1, 
di¡ªû
 = -1);

123 
£tPlÛgCACCP¬am‘”s
(
kp
 = -1, 
kd
 = -1, 
h
 = -1);

131 
£tACCH—dwayTime
(
h—dway
);

138 
g‘ACCH—dwayTime
();

147 
£tFixedAcûË¿tiÚ
(
aùiv©e
, 
acûË¿tiÚ
);

155 
boŞ
 
isC¿shed
();

165 
£tFixedLªe
(
št8_t
 
ÏÃIndex
, 
boŞ
 
§ã
 = 
çl£
);

175 
g‘Rad¬M—su»m’ts
(& 
di¡ªû
, & 
»ÏtiveS³ed
);

177 
£tL—d”VehişeFakeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
);

178 
£tL—d”FakeD©a
(
Ëad”S³ed
, 
Ëad”AcûË¿tiÚ
);

180 
£tFrÚtVehişeFakeD©a
(
cÚŒŞËrAcûË¿tiÚ
, 
acûË¿tiÚ
, 
¥“d
, 
di¡ªû
);

181 
£tFrÚtFakeD©a
(
äÚtDi¡ªû
, 
äÚtS³ed
, 
äÚtAcûË¿tiÚ
);

188 
g‘Di¡ªûToRou‹End
();

193 
g‘Di¡ªûFromRou‹Begš
();

199 
g‘ACCAcûË¿tiÚ
();

204 
£tVehişeD©a
(cÚ¡ 
¶exe
::
VEHICLE_DATA
* 
d©a
);

209 
g‘StÜedVehişeD©a
(
¶exe
::
VEHICLE_DATA
* 
d©a
, 
šdex
);

216 
u£CÚŒŞËrAcûË¿tiÚ
(
boŞ
 
u£
);

225 
g‘EngšeD©a
(& 
g—r
, & 
½m
);

237 
’abËAutoF“d
(
boŞ
 
’abË
, 
¡d
::
¡ršg
 
Ëad”Id
 = "", std::¡ršg 
äÚtId
 = "");

244 
u£P»diùiÚ
(
boŞ
 
’abË
);

253 
addPÏtoÚMemb”
(
¡d
::
¡ršg
 
memb”Id
, 
pos™iÚ
);

261 
»movePÏtoÚMemb”
(
¡d
::
¡ršg
 
memb”Id
);

270 
’abËAutoLªeChªgšg
(
boŞ
 
’abË
);

275 
g‘LªesCouÁ
();

277 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
 
vešsVehişe
()

279  {
cifc
->
vešsCommªdIÁ”çû
, 
	gnodeId
};

282 
	g´Ùeùed
:

296 
£tLªeChªgeAùiÚ
(
aùiÚ
);

298 
CommªdIÁ”çû
* 
	gcifc
;

299 cÚ¡ 
	g¡d
::
¡ršg
 
nodeId
;

302 
CommªdIÁ”çû
(
cCompÚ’t
* 
owÃr
, 
vešs
::
T¿CICommªdIÁ”çû
* 
commªdIÁ”çû
, vešs::
T¿CICÚÃùiÚ
* 
cÚÃùiÚ
);

304 
execu‹PËxeTime¡•
();

306 
Vehişe
 
vehişe
(cÚ¡ 
¡d
::
¡ršg
& 
nodeId
)

308  {
this
, 
	gnodeId
};

311 
	g´iv©e
:

312 
	sPËxeLªeChªge
 {

313 
ÏÃ
;

314 
boŞ
 
	g§ã
;

315 
boŞ
 
	gwa™
;

317 
usšg
 
	gPËxeLªeChªges
 = 
¡d
::
m­
<¡d::
¡ršg
, 
	gPËxeLªeChªge
>;

319 cÚ¡ 
	glÿ_ov”Ïµšg
 = 1 << 13;

321 
__chªgeLªe
(
¡d
::
¡ršg
 
veh
, 
cu¼’t
, 
dœeùiÚ
, 
boŞ
 
§ã
 = 
Œue
);

323 
	gvešs
::
T¿CICommªdIÁ”çû
* 
vešsCommªdIÁ”çû
;

324 
	gvešs
::
T¿CICÚÃùiÚ
* 
cÚÃùiÚ
;

325 
PËxeLªeChªges
 
	gÏÃChªges
;

	@mobility/SumoTrafficManager.cc

21 
	~"SumoT¿fficMªag”.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
SumoT¿fficMªag”
);

27 
	gSumoT¿fficMªag”
::
š™Ÿlize
(
¡age
)

30 
T¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
);

33 
	gSumoT¿fficMªag”
::
fšish
()

35 
T¿CIBa£T¿fficMªag”
::
fšish
();

	@mobility/SumoTrafficManager.h

21 #iâdeà
SUMOTRAFFICMANAGER_H_


22 
	#SUMOTRAFFICMANAGER_H_


	)

24 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

26 
Çme¥aû
 
	g¶exe
 {

33 şas 
	cSumoT¿fficMªag”
 : 
public
 
T¿CIBa£T¿fficMªag”
 {

35 
public
:

36 
vœtu®
 
š™Ÿlize
(
¡age
);

37 
vœtu®
 
fšish
();

39 
	gpublic
:

40 
SumoT¿fficMªag”
()

	@mobility/TestTrafficManager.cc

21 
	~"¶exe/mob™y/Te¡T¿fficMªag”.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
Te¡T¿fficMªag”
);

27 
	gTe¡T¿fficMªag”
::
š™Ÿlize
(
¡age
)

30 
T¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 0) {

34 
g’”©eVehişe
 = 
Ãw
 
cMes§ge
("generateVehicle");

36 
scheduËAt
(
simTime
(è+ 
SimTime
(0.1), 
g’”©eVehişe
);

40 
	gTe¡T¿fficMªag”
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

43 
T¿CIBa£T¿fficMªag”
::
hªdËS–fMsg
(
msg
);

45 ià(
	gmsg
 =ğ
g’”©eVehişe
) {

46 
š£¹NewVehişe
();

50 
	gTe¡T¿fficMªag”
::
š£¹NewVehişe
()

52 
vehTy³Id
 = 0;

53 
	grou‹Id
 = 0;

54 
	gi
;

55 
Vehişe
 
	gv
;

56 
	gv
.
	gid
 = 
vehTy³Id
;

57 
	gv
.
	gÏÃ
 = -1;

58 
	gv
.
	gpos™iÚ
 = 0;

59 
	gv
.
	g¥“d
 = -1;

61 
	gnC¬s
 = 
·r
("nCars");

62 
	gi
 = 0; i < 
	gnC¬s
; i++) {

63 
addVehişeToQueue
(
rou‹Id
, 
v
);

67 
	gTe¡T¿fficMªag”
::
fšish
()

69 
T¿CIBa£T¿fficMªag”
::
fšish
();

70 ià(
	gg’”©eVehişe
) {

71 
ÿnûlAndD–‘e
(
g’”©eVehişe
);

72 
	gg’”©eVehişe
 = 0;

	@mobility/TestTrafficManager.h

21 #iâdeà
TESTTRAFFICMANAGER_H_


22 
	#TESTTRAFFICMANAGER_H_


	)

24 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cTe¡T¿fficMªag”
 : 
public
 
T¿CIBa£T¿fficMªag”
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

32 
vœtu®
 
fšish
();

34 
Te¡T¿fficMªag”
()

36 
	gg’”©eVehişe
 = 0;

39 
	g´Ùeùed
:

40 
cMes§ge
* 
g’”©eVehişe
;

42 
š£¹NewVehişe
();

44 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

	@mobility/TraCIBaseTrafficManager.cc

21 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

23 
usšg
 
Çme¥aû
 
	gvešs
;

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
T¿CIBa£T¿fficMªag”
);

29 
	gT¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
)

31 
cSim¶eModuË
::
š™Ÿlize
(
¡age
);

33 ià(
	g¡age
 == 0) {

36 
vehişeTy³Ids
.
ş—r
();

37 
	gvehişesCouÁ
.
ş—r
();

38 
	gÏÃIds
.
ş—r
();

39 
	grßdIds
.
ş—r
();

40 
	grou‹Ids
.
ş—r
();

41 
	gÏÃIdsOnEdge
.
ş—r
();

42 
	grou‹S¹LªeIds
.
ş—r
();

43 
	gvehişeIn£¹Queue
.
ş—r
();

45 
	gš£¹InOrd”
 = 
Œue
;

48 
	gmªag”
 = 
FšdModuË
<
vešs
::
T¿CISûÇrioMªag”
*>::
fšdGlob®ModuË
();

49 
ASSERT2
(
mªag”
, "cannot find TraciScenarioManager");

52 
	gvehCouÁ”
 = 0;

55 autØ
	gš™
 = [
this
](
vešs
::
SigÇlPaylßd
<
boŞ
>è{ 
lßdSumoSûÇrio
(); };

56 
	gsigÇlMªag”
.
subsüibeC®lback
(
mªag”
, 
vešs
::
T¿CISûÇrioMªag”
::
ŒaciIn™ŸlizedSigÇl
, 
š™
);

60 
	gT¿CIBa£T¿fficMªag”
::
hªdËMes§ge
(
cMes§ge
* 
msg
)

62 ià(
msg
->
isS–fMes§ge
()) {

63 
hªdËS–fMsg
(
msg
);

67 
	gT¿CIBa£T¿fficMªag”
::
fšdVehişeTy³Index
(
¡d
::
¡ršg
 
vehTy³
)

70 
i
;

72 
	gi
 = 0; i < 
	gvehişeTy³Ids
.
size
(); i++) {

73 ià(
	gvehişeTy³Ids
[
i
].
com·»
(
vehTy³
) == 0) {

74  
i
;

81 
	gT¿CIBa£T¿fficMªag”
::
lßdSumoSûÇrio
()

83 
commªdIÁ”çû
 = 
mªag”
->
g‘CommªdIÁ”çû
();

86 ià(
	gvehişeTy³Ids
.
size
() == 0) {

87 
¡d
::
li¡
<¡d::
¡ršg
> 
vehTy³s
 = 
commªdIÁ”çû
->
g‘VehişeTy³Ids
();

88 
	gEV
 << "Havšg cu¼’y " << 
	gvehTy³s
.
size
(è<< " vehişty³s" << 
	g¡d
::
’dl
;

89 
	g¡d
::
li¡
<
¡d
::
¡ršg
>::
cÚ¡_™”©Ü
 
i
 = 
vehTy³s
.
begš
(); 
	gi
 !ğvehTy³s.
’d
(); ++i) {

90 ià(
	gi
->
com·»
("DEFAULT_VEHTYPE") != 0) {

91 
EV
 << "found vehTy³ " << (*
i
è<< 
¡d
::
’dl
;

92 
	gvehişeTy³Ids
.
push_back
(*
i
);

94 
	gvehişesCouÁ
.
push_back
(0);

99 ià(
	grßdIds
.
size
() == 0) {

100 
¡d
::
li¡
<¡d::
¡ršg
> 
rßds
 = 
commªdIÁ”çû
->
g‘RßdIds
();

101 
	gEV
 << "Havšg cu¼’y " << 
	grßds
.
size
(è<< "„ßd šhsûÇrio" << 
	g¡d
::
’dl
;

102 
	g¡d
::
li¡
<
¡d
::
¡ršg
>::
cÚ¡_™”©Ü
 
i
 = 
rßds
.
begš
(); 
	gi
 !ğrßds.
’d
(); ++i) {

103 
	gEV
 << *
	gi
 << 
	g¡d
::
’dl
;

104 
	grßdIds
.
push_back
(*
i
);

108 ià(
	gÏÃIds
.
size
() == 0) {

109 
¡d
::
li¡
<¡d::
¡ršg
> 
ÏÃs
 = 
commªdIÁ”çû
->
g‘LªeIds
();

110 
	gEV
 << "Havšg cu¼’y " << 
	gÏÃs
.
size
(è<< "†ªe šhsûÇrio" << 
	g¡d
::
’dl
;

111 
	g¡d
::
li¡
<
¡d
::
¡ršg
>::
cÚ¡_™”©Ü
 
i
 = 
ÏÃs
.
begš
(); 
	gi
 !ğÏÃs.
’d
(); ++i) {

112 
	gEV
 << *
	gi
 << 
	g¡d
::
’dl
;

113 
	gÏÃIds
.
push_back
(*
i
);

114 
	g¡d
::
¡ršg
 
edgeId
 = 
commªdIÁ”çû
->
ÏÃ
(*
i
).
g‘RßdId
();

115 
	gÏÃIdsOnEdge
[
edgeId
].
push_back
(*
i
);

119 ià(
	grou‹Ids
.
size
() == 0) {

120 
¡d
::
li¡
<¡d::
¡ršg
> 
rou‹s
 = 
commªdIÁ”çû
->
g‘Rou‹Ids
();

121 
	gEV
 << "Havšg cu¼’y " << 
	grou‹s
.
size
(è<< "„ou‹ šhsûÇrio" << 
	g¡d
::
’dl
;

122 
	g¡d
::
li¡
<
¡d
::
¡ršg
>::
cÚ¡_™”©Ü
 
i
 = 
rou‹s
.
begš
(); 
	gi
 !ğrou‹s.
’d
(); ++i) {

123 
	g¡d
::
¡ršg
 
rou‹Id
 = *
i
;

124 
	gEV
 << 
	grou‹Id
 << 
	g¡d
::
’dl
;

125 
	grou‹Ids
.
push_back
(
rou‹Id
);

126 
	g¡d
::
li¡
<
¡d
::
¡ršg
> 
rou‹Edges
 = 
commªdIÁ”çû
->
rou‹
(
rou‹Id
).
g‘RßdIds
();

127 
	g¡d
::
¡ršg
 
fœ¡Edge
 = *(
rou‹Edges
.
begš
());

128 
	gEV
 << "Fœ¡ Edgoàrou‹ " << 
	grou‹Id
 << " i " << 
	gfœ¡Edge
 << 
	g¡d
::
’dl
;

129 
	grou‹S¹LªeIds
[
rou‹Id
] = 
ÏÃIdsOnEdge
[
fœ¡Edge
];

133 
sûÇrioLßded
();

135 autØ
	gtime¡•
 = [
this
](
vešs
::
SigÇlPaylßd
<
simtime_t
 cÚ¡&>è{ 
š£¹Vehişes
(); };

136 
	gsigÇlMªag”
.
subsüibeC®lback
(
mªag”
, 
vešs
::
T¿CISûÇrioMªag”
::
ŒaciTime¡•EndSigÇl
, 
time¡•
);

139 
	gT¿CIBa£T¿fficMªag”
::
š£¹Vehişes
()

142 
In£¹Queue
::
™”©Ü
 
i
 = 
vehişeIn£¹Queue
.
begš
(); 
	gi
 !ğvehişeIn£¹Queue.
’d
(); ++i) {

143 
	g¡d
::
¡ršg
 
rou‹
 = 
rou‹Ids
[
i
->
fœ¡
];

144 
	gEV
 << "´oûs " << 
	grou‹
 << 
	g¡d
::
’dl
;

145 
	g¡d
::
deque
<
Vehişe
>::
™”©Ü
 
vi
 = 
i
->
£cÚd
.
begš
();

146 
	gvi
 !ğ
i
->
£cÚd
.
’d
(è&& i->£cÚd.
size
() != 0) {

147 
boŞ
 
suc
 = 
çl£
;

148 
Vehişe
 
	gv
 = *
vi
;

149 
	g¡d
::
¡ršg
 
ty³
 = 
vehişeTy³Ids
[
v
.
id
];

150 
	g¡d
::
¡ršg¡»am
 
veh
;

151 
	gveh
 << 
	gty³
 << "." << 
	gvehişesCouÁ
[
v
.
id
];

155 ià(
	gv
.
	gÏÃ
 =ğ-1 && !
š£¹InOrd”
) {

158 
ÏÃId
 = 0; !
	gsuc
 && 
	gÏÃId
 < 
	grou‹S¹LªeIds
[
rou‹
].
size
();†aneId++) {

159 
	gEV
 << "ŒyšgØadd " << 
	gveh
.
¡r
(è<< " w™h " << 
	grou‹
 << " vehişty³ " << 
	gty³
 << 
	g¡d
::
’dl
;

160 
	gsuc
 = 
commªdIÁ”çû
->
addVehişe
(
veh
.
¡r
(), 
ty³
, 
rou‹
, 
simTime
(), 
v
.
pos™iÚ
, v.
¥“d
, 
ÏÃId
);

161 ià(
	gsuc
) ;

163 ià(!
	gsuc
) {

169 
	gEV
 << "sucûssfuÈš£¹ed " << 
	gveh
.
¡r
(è<< 
	g¡d
::
’dl
;

170 
	gvi
 = 
i
->
£cÚd
.
”a£
(
vi
);

171 
	gvehişesCouÁ
[
v
.
id
] = 
vehişesCouÁ
[v.id] + 1;

177 
	gEV
 << "ŒyšgØadd " << 
	gveh
.
¡r
(è<< " w™h " << 
	grou‹
 << " vehişty³ " << 
	gty³
 << 
	g¡d
::
’dl
;

178 
	gsuc
 = 
commªdIÁ”çû
->
addVehişe
(
veh
.
¡r
(), 
ty³
, 
rou‹
, 
simTime
(), 
v
.
pos™iÚ
, v.
¥“d
, v.
ÏÃ
);

180 ià(
	gsuc
) {

181 
	gEV
 << "sucûssfuÈš£¹ed " << 
	gveh
.
¡r
(è<< 
	g¡d
::
’dl
;

182 
	gvi
 = 
i
->
£cÚd
.
”a£
(
vi
);

183 
	gvehişesCouÁ
[
v
.
id
] = 
vehişesCouÁ
[v.id] + 1;

186 ià(!
	gš£¹InOrd”
) {

187 
	gvi
++;

198 
	gT¿CIBa£T¿fficMªag”
::
addVehişeToQueue
(
rou‹Id
, 
Vehişe
 
v
)

200 
	gvehişeIn£¹Queue
[
rou‹Id
].
push_back
(
v
);

	@mobility/TraCIBaseTrafficManager.h

21 #iâdeà
TRACIBASETRAFFICMANAGER_H_


22 
	#TRACIBASETRAFFICMANAGER_H_


	)

24 
	~<omÃp.h
>

25 
	~<queue
>

26 
	~"¶exe/ut™›s/DyÇmicPos™iÚMªag”.h
"

27 
	~"vešs/moduËs/mob™y/Œaci/T¿CISûÇrioMªag”.h
"

28 
	~"vešs/moduËs/mob™y/Œaci/T¿CICommªdIÁ”çû.h
"

29 
	~"vešs/moduËs/ut™y/SigÇlMªag”.h
"

31 
Çme¥aû
 
	g¶exe
 {

33 şas 
	cT¿CIBa£T¿fficMªag”
 : 
public
 
cSim¶eModuË
 {

35 
public
:

36 
vœtu®
 
š™Ÿlize
(
¡age
);

38 
fšdVehişeTy³Index
(
¡d
::
¡ršg
 
vehTy³
);

40 
	gpublic
:

41 
T¿CIBa£T¿fficMªag”
()

42 : 
pos™iÚs
(
DyÇmicPos™iÚMªag”
::
g‘In¡ªû
())

44 
š£¹VehişesTrigg”
 = 0;

47 
	g´iv©e
:

51 
lßdSumoSûÇrio
();

54 
	gvehCouÁ”
;

56 
boŞ
 
	gš£¹InOrd”
;

59 
cMes§ge
* 
	gš£¹VehişesTrigg”
;

61 
	g´Ùeùed
:

63 
vešs
::
T¿CISûÇrioMªag”
* 
mªag”
;

65 
	gvešs
::
T¿CICommªdIÁ”çû
* 
commªdIÁ”çû
;

67 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
vehişeTy³Ids
;

69 
	g¡d
::
veùÜ
<> 
vehişesCouÁ
;

71 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
ÏÃIds
;

73 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
rßdIds
;

75 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
rou‹Ids
;

77 
	g¡d
::
m­
<
¡d
::
¡ršg
, std::
veùÜ
<¡d::¡ršg>> 
ÏÃIdsOnEdge
;

79 
	g¡d
::
m­
<
¡d
::
¡ršg
, std::
veùÜ
<¡d::¡ršg>> 
rou‹S¹LªeIds
;

81 
	gDyÇmicPos™iÚMªag”
& 
	gpos™iÚs
;

83 
	sVehişe
 {

84 
	gid
;

85 
	gÏÃ
;

86 
	gpos™iÚ
;

87 
	g¥“d
;

92 
	g¡d
::
	tm­
<, 
	t¡d
::
	tdeque
<
	tVehişe
>> 
	tIn£¹Queue
;

94 
	g´iv©e
:

95 
In£¹Queue
 
vehişeIn£¹Queue
;

96 
	gvešs
::
SigÇlMªag”
 
sigÇlMªag”
;

98 
	g´Ùeùed
:

99 
addVehişeToQueue
(
rou‹Id
, 
Vehişe
 
v
);

104 
š£¹Vehişes
();

106 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
)

109 
vœtu®
 
hªdËMes§ge
(
cMes§ge
* 
msg
);

113 
vœtu®
 
sûÇrioLßded
(){};

	@plexe.h

21 #´agm¨
Úû


23 
	~"vešs/vešs.h
"

26 
	#PLEXE_VERSION_MAJOR
 3

	)

27 
	#PLEXE_VERSION_MINOR
 0

	)

28 
	#PLEXE_VERSION_PATCH
 0

	)

29 
	#PLEXE_VERSION_ALPHA
 0

	)

32 #ià!(
VEINS_VERSION_MAJOR
 =ğ5 && 
VEINS_VERSION_MINOR
 >= 1)

33 #”rÜ 
Vešs
 
v”siÚ
 5.1 
Ü
 
com·tibË
 
»quœed


	@protocols/BaseProtocol.cc

21 
	~"¶exe/´ÙocŞs/Ba£PrÙocŞ.h
"

23 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

24 
	~"vešs/ba£/uts/FšdModuË.h
"

25 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

27 
	~"¶exe/PËxeMªag”.h
"

28 
	~"¶exe/driv”/Vešs11pRadioDriv”.h
"

29 
	~"¶exe/mes§ges/PËxeIÁ”çûCÚŒŞInfo_m.h
"

31 
usšg
 
Çme¥aû
 
	gvešs
;

33 
Çme¥aû
 
	g¶exe
 {

35 
Defše_ModuË
(
Ba£PrÙocŞ
);

37 cÚ¡ 
	gBa£PrÙocŞ
::
BEACON_TYPE
 = 12345;

39 
	gBa£PrÙocŞ
::
š™Ÿlize
(
¡age
)

42 
Ba£AµlLay”
::
š™Ÿlize
(
¡age
);

44 ià(
	g¡age
 == 0) {

47 
£ndB—cÚ
 = 0;

48 
	gchªÃlBusy
 = 
çl£
;

49 
	gnCŞlisiÚs
 = 0;

50 
	gbusyTime
 = 
SimTime
(0);

51 
	g£q_n
 = 0;

52 
	g»cÜdD©a
 = 0;

55 
	glow”CÚŒŞIn
 = 
fšdG©e
("lowerControlIn");

56 
	glow”CÚŒŞOut
 = 
fšdG©e
("lowerControlOut");

57 
	glow”Lay”In
 = 
fšdG©e
("lowerLayerIn");

58 
	glow”Lay”Out
 = 
fšdG©e
("lowerLayerOut");

59 
	gmšUµ”Id
 = 
g©e
("uµ”Lay”In", 0)->
g‘Id
();

60 
	gmaxUµ”Id
 = 
g©e
("uµ”Lay”In", 
MAX_GATES_COUNT
 - 1)->
g‘Id
();

61 
	gmšUµ”CÚŒŞId
 = 
g©e
("uµ”CÚŒŞIn", 0)->
g‘Id
();

62 
	gmaxUµ”CÚŒŞId
 = 
g©e
("uµ”CÚŒŞIn", 
MAX_GATES_COUNT
 - 1)->
g‘Id
();

63 
	gmšRadioId
 = 
g©e
("¿diosIn", 0)->
g‘Id
();

64 
	gmaxRadioId
 = 
g©e
("¿diosIn", 
g©eSize
("¿diosIn"è- 1)->
g‘Id
();

67 
	gi
 = 0; i < 
g©eSize
("radiosOut"); i++) {

68 
PËxeRadioDriv”IÁ”çû
* 
	g¿dio
 = 
check_ªd_ÿ¡
<PËxeRadioDriv”IÁ”çû*>(
g©e
("¿diosOut", 
i
)->
g‘NextG©e
()->
g‘OwÃrModuË
());

69 
	g¿dioOuts
[
¿dio
->
g‘DeviûTy³
()] = 
g©e
("¿diosOut", 
i
);

73 
	gb—cÚšgIÁ”v®
 = 
SimTime
(
·r
("b—cÚšgIÁ”v®").
doubËV®ue
());

75 
	g·ck‘Size
 = 
·r
("packetSize");

77 
	g´iÜ™y
 = 
·r
("priority");

78 
ASSERT2
(
´iÜ™y
 >= 0 &&…riority <= 7, "priority value must be between 0‡nd 7");

81 
	g£ndB—cÚ
 = 
Ãw
 
cMes§ge
("sendBeacon");

82 
	g»cÜdD©a
 = 
Ãw
 
cMes§ge
("recordData");

86 
	gnodeIdOut
.
£tName
("nodeId");

88 
	gbusyTimeOut
.
£tName
("busyTime");

90 
	gcŞlisiÚsOut
.
£tName
("collisions");

92 
	gÏ¡L—d”MsgTime
 = 
SimTime
(-1);

93 
	gÏ¡FrÚtMsgTime
 = 
SimTime
(-1);

94 
	gËad”D–ayIdOut
.
£tName
("leaderDelayId");

95 
	gäÚtD–ayIdOut
.
£tName
("frontDelayId");

96 
	gËad”D–ayOut
.
£tName
("leaderDelay");

97 
	gäÚtD–ayOut
.
£tName
("frontDelay");

100 
fšdHo¡
()->
subsüibe
(
vešs
::
Mac1609_4
::
sigChªÃlBusy
, 
this
);

101 
fšdHo¡
()->
subsüibe
(
vešs
::
Mac1609_4
::
sigCŞlisiÚ
, 
this
);

104 
SimTime
 
	grounded
 = SimTime(
æoÜ
(
simTime
().
dbl
(è+ 1), 
SIMTIME_S
);

105 
scheduËAt
(
rounded
, 
»cÜdD©a
);

108 ià(
	g¡age
 == 1) {

110 
mob™y
 = 
vešs
::
T¿CIMob™yAcûss
().
g‘
(
g‘P¬’tModuË
());

111 
ASSERT
(
mob™y
);

112 
	gŒaci
 = 
mob™y
->
g‘CommªdIÁ”çû
();

113 
ASSERT
(
Œaci
);

114 
	gŒaciVehişe
 = 
mob™y
->
g‘VehişeCommªdIÁ”çû
();

115 
ASSERT
(
ŒaciVehişe
);

116 autØ
	g¶exe
 = 
FšdModuË
<
PËxeMªag”
*>::
fšdGlob®ModuË
();

117 
ASSERT
(
¶exe
);

118 
	g¶exeT¿ci
 = 
¶exe
->
g‘CommªdIÁ”çû
();

119 
	g¶exeT¿ciVehişe
.
»£t
(
Ãw
 
Œaci
::
CommªdIÁ”çû
::
Vehişe
(
¶exeT¿ci
, 
mob™y
->
g‘Ex‹º®Id
()));

120 
	gpos™iÚH–³r
 = 
FšdModuË
<
Ba£Pos™iÚH–³r
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

121 
ASSERT
(
pos™iÚH–³r
);

124 
	gmyId
 = 
pos™iÚH–³r
->
g‘Id
();

125 
	gËngth
 = 
ŒaciVehişe
->
g‘L’gth
();

126 ià(
Vešs11pRadioDriv”
* 
	gdriv”
 = 
FšdModuË
<Vešs11pRadioDriv”*>::
fšdSubModuË
(
g‘P¬’tModuË
())) {

127 
driv”
->
»gi¡”Node
(
myId
);

132 
	gBa£PrÙocŞ
::~
Ba£PrÙocŞ
()

134 
ÿnûlAndD–‘e
(
£ndB—cÚ
);

135 
	g£ndB—cÚ
 = 
nuÎ±r
;

136 
ÿnûlAndD–‘e
(
»cÜdD©a
);

137 
	g»cÜdD©a
 = 
nuÎ±r
;

140 
	gBa£PrÙocŞ
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

143 ià(
msg
 =ğ
»cÜdD©a
) {

148 ià(
chªÃlBusy
) {

149 
busyTime
 +ğ
simTime
(è- 
¡¬tBusy
;

150 
	g¡¬tBusy
 = 
simTime
();

155 
	gnodeIdOut
.
»cÜd
(
myId
);

157 
	gbusyTimeOut
.
»cÜd
(
busyTime
);

159 
	gcŞlisiÚsOut
.
»cÜd
(
nCŞlisiÚs
);

162 
	gbusyTime
 = 
SimTime
(0);

163 
	gnCŞlisiÚs
 = 0;

165 
scheduËAt
(
simTime
(è+ 
SimTime
(1, 
SIMTIME_S
), 
»cÜdD©a
);

169 
	gBa£PrÙocŞ
::
£ndPÏtoÚšgMes§ge
(
de¡š©iÚAdd»ss
, 
PËxeRadioIÁ”çûs
 
š‹rçûs
)

171 
£ndTo
(
ü—‹B—cÚ
(
de¡š©iÚAdd»ss
).
»Ëa£
(), 
š‹rçûs
);

174 
	gBa£PrÙocŞ
::
£ndTo
(
Ba£F¿me1609_4
* 
äame
, 
PËxeRadioIÁ”çûs
 
š‹rçûs
)

176 autØ
	gš‹rçû
 : 
¿dioOuts
) {

177 ià(
š‹rçû
.
fœ¡
 & 
š‹rçûs
) {

178 
Ba£F¿me1609_4
* 
dup
 = 
äame
->dup();

179 ià(
	gäame
->
g‘CÚŒŞInfo
()è
	gdup
->
£tCÚŒŞInfo
(
äame
->g‘CÚŒŞInfo()->
dup
());

180 
£nd
(
dup
, 
š‹rçû
.
£cÚd
);

183 
d–‘e
 
	gäame
;

186 
	g¡d
::
unique_±r
<
Ba£F¿me1609_4
> 
Ba£PrÙocŞ
::
ü—‹B—cÚ
(
de¡š©iÚAdd»ss
)

189 
VEHICLE_DATA
 
d©a
;

191 
	g¶exeT¿ciVehişe
->
g‘VehişeD©a
(&
d©a
);

194 autØ
	gwsm
 = 
vešs
::
make_unique
<
Ba£F¿me1609_4
>("", 
	gBEACON_TYPE
);

195 
	gwsm
->
£tRec›ÁAdd»ss
(
LAdd»ss
::
L2BROADCAST
());

196 
	gwsm
->
£tChªÃlNumb”
(
¡©ic_ÿ¡
<>(
ChªÃl
::
cch
));

197 
	gwsm
->
£tU£rPriÜ™y
(
´iÜ™y
);

200 
PÏtoÚšgB—cÚ
* 
	gpkt
 = 
Ãw
 PlatooningBeacon();

201 
	gpkt
->
£tCÚŒŞËrAcûË¿tiÚ
(
d©a
.
u
);

202 
	gpkt
->
£tAcûË¿tiÚ
(
d©a
.
acûË¿tiÚ
);

203 
	gpkt
->
£tS³ed
(
d©a
.
¥“d
);

204 
	gpkt
->
£tVehişeId
(
myId
);

205 
	gpkt
->
£tPos™iÚX
(
d©a
.
pos™iÚX
);

206 
	gpkt
->
£tPos™iÚY
(
d©a
.
pos™iÚY
);

208 
	gpkt
->
£tTime
(
d©a
.
time
);

209 
	gpkt
->
£tL’gth
(
Ëngth
);

210 
	gpkt
->
£tS³edX
(
d©a
.
¥“dX
);

211 
	gpkt
->
£tS³edY
(
d©a
.
¥“dY
);

212 
	gpkt
->
£tAngË
(
d©a
.
ªgË
);

213 
	gpkt
->
£tKšd
(
BEACON_TYPE
);

214 
	gpkt
->
£tBy‹L’gth
(
·ck‘Size
);

215 
	gpkt
->
£tSequ’ûNumb”
(
£q_n
++);

217 
	gwsm
->
’ÿpsuÏ‹
(
pkt
);

219  
	gwsm
;

222 
boŞ
 
	gBa£PrÙocŞ
::
isDu¶iÿ‹d
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
b—cÚ
)

224 autØ
£qu’ûNumb”
 = 
knownB—cÚs
.
fšd
(
b—cÚ
->
g‘VehişeId
());

225 ià(
	g£qu’ûNumb”
 =ğ
knownB—cÚs
.
’d
()è 
çl£
;

226 ià(
	gb—cÚ
->
g‘Sequ’ûNumb”
(è> 
	g£qu’ûNumb”
->
	g£cÚd
è 
	gçl£
;

227  
	gŒue
;

230 
	gBa£PrÙocŞ
::
»ûiveSigÇl
(
cCompÚ’t
* 
sourû
, 
simsigÇl_t
 
sigÇlID
, 
boŞ
 
v
, 
cObjeù
* 
d‘as
)

233 
EÁ”_M‘hod_S’t
();

234 ià(
	gsigÇlID
 =ğ
vešs
::
Mac1609_4
::
sigChªÃlBusy
) {

235 ià(
v
 && !
chªÃlBusy
) {

237 
¡¬tBusy
 = 
simTime
();

238 
	gchªÃlBusy
 = 
Œue
;

239 
chªÃlBusyS¹
();

242 ià(!
	gv
 && 
	gchªÃlBusy
) {

244 
	gbusyTime
 +ğ
simTime
(è- 
¡¬tBusy
;

245 
	gchªÃlBusy
 = 
çl£
;

246 
chªÃlIdËS¹
();

250 ià(
	gsigÇlID
 =ğ
vešs
::
Mac1609_4
::
sigCŞlisiÚ
) {

251 
cŞlisiÚ
();

252 
	gnCŞlisiÚs
++;

256 
	gBa£PrÙocŞ
::
hªdËMes§ge
(
cMes§ge
* 
msg
)

258 ià(
msg
->
g‘A¼iv®G©eId
(è>ğ
mšUµ”Id
 && msg->g‘A¼iv®G©eId(è<ğ
maxUµ”Id
)

259 
hªdËUµ”Msg
(
msg
);

260 ià(
	gmsg
->
g‘A¼iv®G©eId
(è>ğ
mšUµ”CÚŒŞId
 && 
msg
->g‘A¼iv®G©eId(è<ğ
maxUµ”CÚŒŞId
)

261 
hªdËUµ”CÚŒŞ
(
msg
);

262 ià(
	gmsg
->
g‘A¼iv®G©eId
(è>ğ
mšRadioId
 && 
msg
->g‘A¼iv®G©eId(è<ğ
maxRadioId
)

263 
hªdËLow”Msg
(
msg
);

265 
	gBa£AµlLay”
::
hªdËMes§ge
(
msg
);

268 
	gBa£PrÙocŞ
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

270 
Ba£F¿me1609_4
* 
äame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

271 
ASSERT2
(
äame
, "received‡ frame‚ot ofype BaseFrame1609_4");

273 
cPack‘
* 
	g’c
 = 
äame
->
g‘EnÿpsuÏ‹dPack‘
();

274 
ASSERT2
(
’c
, "received‡ BaseFrame1609_4 with‚othing inside");

276 ià(
PÏtoÚšgB—cÚ
* 
	g•kt
 = 
dyÇmic_ÿ¡
<PÏtoÚšgB—cÚ*>(
’c
)) {

279 ià(
isDu¶iÿ‹d
(
•kt
)) {

280 
du¶iÿ‹dMes§geReûived
(
•kt
, 
äame
);

281 
d–‘e
 
	gäame
;

284 
	gknownB—cÚs
[
•kt
->
g‘VehişeId
()] =ƒpkt->
g‘Sequ’ûNumb”
();

287 
mes§geReûived
(
•kt
, 
äame
);

289 ià(
	gpos™iÚH–³r
->
g‘L—d”Id
(è=ğ
•kt
->
g‘VehişeId
()) {

291 ià(
Ï¡L—d”MsgTime
.
dbl
() > 0) {

292 
Ëad”D–ayOut
.
»cÜd
(
simTime
(è- 
Ï¡L—d”MsgTime
);

293 
	gËad”D–ayIdOut
.
»cÜd
(
myId
);

295 
	gÏ¡L—d”MsgTime
 = 
simTime
();

297 ià(
	gpos™iÚH–³r
->
g‘FrÚtId
(è=ğ
•kt
->
g‘VehişeId
()) {

299 ià(
Ï¡FrÚtMsgTime
.
dbl
() > 0) {

300 
äÚtD–ayOut
.
»cÜd
(
simTime
(è- 
Ï¡FrÚtMsgTime
);

301 
	gäÚtD–ayIdOut
.
»cÜd
(
myId
);

303 
	gÏ¡FrÚtMsgTime
 = 
simTime
();

308 
	gAµliÿtiÚM­
::
™”©Ü
 
­p
 = 
­ps
.
fšd
(
äame
->
g‘Kšd
());

309 ià(
	g­p
 !ğ
­ps
.
’d
(è&& 
­p
->
£cÚd
.
size
() != 0) {

310 
AµLi¡
 
­¶iÿtiÚs
 = 
­p
->
£cÚd
;

311 
	gAµLi¡
::
™”©Ü
 
i
 = 
­¶iÿtiÚs
.
begš
(); 
	gi
 !ğ­¶iÿtiÚs.
’d
(); i++) {

313 
£nd
(
äame
->
dup
(), 
¡d
::
g‘
<1>(*
i
));

316 
d–‘e
 
	gäame
;

319 
	gBa£PrÙocŞ
::
hªdËUµ”Msg
(
cMes§ge
* 
msg
)

321 
PËxeIÁ”çûCÚŒŞInfo
* 
™f
 = 
dyÇmic_ÿ¡
<PËxeIÁ”çûCÚŒŞInfo*>(
msg
->
g‘CÚŒŞInfo
());

322 
Ba£F¿me1609_4
* 
	gäame
 = 
check_ªd_ÿ¡
<Ba£F¿me1609_4*>(
msg
);

324 
PËxeRadioIÁ”çûs
 
	gš‹rçûs
;

325 ià(
	g™f
)

326 
	gš‹rçûs
 = (
PËxeRadioIÁ”çûs
è
™f
->
g‘IÁ”çûs
();

328 
	gš‹rçûs
 = 
PËxeRadioIÁ”çûs
::
VEINS_11P
;

330 
£ndTo
(
äame
, 
š‹rçûs
);

333 
	gBa£PrÙocŞ
::
mes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
Ba£F¿me1609_4
* 
äame
)

337 
	gBa£PrÙocŞ
::
du¶iÿ‹dMes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
Ba£F¿me1609_4
* 
äame
)

341 
	gBa£PrÙocŞ
::
»gi¡”AµliÿtiÚ
(
­¶iÿtiÚId
, 
IÅutG©e
* 
­pIÅutG©e
, 
OuutG©e
* 
­pOuutG©e
, 
CÚŒŞIÅutG©e
* 
­pCÚŒŞIÅutG©e
, 
CÚŒŞOuutG©e
* 
­pCÚŒŞOuutG©e
)

343 ià(
	gu£dG©es
 =ğ
MAX_GATES_COUNT
è
throw
 
cRuÁimeE¼Ü
("Ba£PrÙocŞ:‡µliÿtiÚ w™h id=%dr›dØ»gi¡”, buˆnØ¥aû†eá", 
­¶iÿtiÚId
);

346 
cG©e
* 
	guµ”In
;

347 
cG©e
* 
	guµ”Out
;

348 
cG©e
* 
	guµ”CÁIn
;

349 
cG©e
* 
	guµ”CÁOut
;

350 ià(!
	g­pIÅutG©e
->
isCÚÃùed
(è|| !
	g­pOuutG©e
->isCÚÃùed(è|| !
	g­pCÚŒŞIÅutG©e
->isCÚÃùed(è|| !
	g­pCÚŒŞOuutG©e
->isConnected()) {

351 ià(
	g­pIÅutG©e
->
isCÚÃùed
(è|| 
	g­pOuutG©e
->isCÚÃùed(è|| 
	g­pCÚŒŞIÅutG©e
->isCÚÃùed(è|| 
	g­pCÚŒŞOuutG©e
->isCÚÃùed()è
throw
 
cRuÁimeE¼Ü
("BaseProtocol:he‡pplication should‚ot be connected but one of its gates is connected");

352 
	guµ”Out
 = 
g©e
("uµ”Lay”Out", 
u£dG©es
);

353 
	guµ”Out
->
cÚÃùTo
(
­pIÅutG©e
);

354 
	guµ”In
 = 
g©e
("uµ”Lay”In", 
u£dG©es
);

355 
	g­pOuutG©e
->
cÚÃùTo
(
uµ”In
);

356 
	gcÚÃùiÚs
[
­pIÅutG©e
] = 
uµ”Out
;

357 
	gcÚÃùiÚs
[
­pOuutG©e
] = 
uµ”In
;

358 
	guµ”CÁOut
 = 
g©e
("uµ”CÚŒŞOut", 
u£dG©es
);

359 
	guµ”CÁOut
->
cÚÃùTo
(
­pCÚŒŞIÅutG©e
);

360 
	guµ”CÁIn
 = 
g©e
("uµ”CÚŒŞIn", 
u£dG©es
);

361 
	g­pCÚŒŞOuutG©e
->
cÚÃùTo
(
uµ”CÁIn
);

362 
	gcÚÃùiÚs
[
­pCÚŒŞIÅutG©e
] = 
uµ”CÁOut
;

363 
	gcÚÃùiÚs
[
­pCÚŒŞOuutG©e
] = 
uµ”CÁIn
;

364 
	gu£dG©es
++;

368 
	gG©eCÚÃùiÚs
::
™”©Ü
 
g©e
;

369 
	gg©e
 = 
cÚÃùiÚs
.
fšd
(
­pOuutG©e
);

370 ià(
	gg©e
 =ğ
cÚÃùiÚs
.
’d
()è
throw
 
cRuÁimeE¼Ü
("BaseProtocol: gate should‡lready be connected by‚ot found inhe connection†ist");

371 
	guµ”In
 = 
g©e
->
£cÚd
;

372 
	gg©e
 = 
cÚÃùiÚs
.
fšd
(
­pIÅutG©e
);

373 ià(
	gg©e
 =ğ
cÚÃùiÚs
.
’d
()è
throw
 
cRuÁimeE¼Ü
("BaseProtocol: gate should‡lready be connected by‚ot found inhe connection†ist");

374 
	guµ”Out
 = 
g©e
->
£cÚd
;

375 
	gg©e
 = 
cÚÃùiÚs
.
fšd
(
­pCÚŒŞOuutG©e
);

376 ià(
	gg©e
 =ğ
cÚÃùiÚs
.
’d
()è
throw
 
cRuÁimeE¼Ü
("BaseProtocol: gate should‡lready be connected by‚ot found inhe connection†ist");

377 
	guµ”CÁIn
 = 
g©e
->
£cÚd
;

378 
	gg©e
 = 
cÚÃùiÚs
.
fšd
(
­pCÚŒŞIÅutG©e
);

379 ià(
	gg©e
 =ğ
cÚÃùiÚs
.
’d
()è
throw
 
cRuÁimeE¼Ü
("BaseProtocol: gate should‡lready be connected by‚ot found inhe connection†ist");

380 
	guµ”CÁOut
 = 
g©e
->
£cÚd
;

383 
	g­ps
[
­¶iÿtiÚId
].
push_back
(
AµInOut
(
uµ”In
, 
uµ”Out
, 
uµ”CÁIn
, 
uµ”CÁOut
));

	@protocols/BaseProtocol.h

21 #iâdeà
BASEPROTOCOL_H_


22 
	#BASEPROTOCOL_H_


	)

24 
	~"vešs/ba£/moduËs/Ba£AµlLay”.h
"

25 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

26 
	~"vešs/moduËs/mes§ges/Ba£F¿me1609_4_m.h
"

28 
	~"¶exe/mes§ges/PÏtoÚšgB—cÚ_m.h
"

29 
	~"¶exe/mob™y/CommªdIÁ”çû.h
"

30 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

32 
	~"¶exe/driv”/PËxeRadioDriv”IÁ”çû.h
"

34 
	~<memÜy
>

35 
	~<tu¶e
>

38 
	#MAX_GATES_COUNT
 10

	)

40 
Çme¥aû
 
	g¶exe
 {

42 
usšg
 
	gvešs
::
Ba£F¿me1609_4
;

44 şas 
	cBa£PrÙocŞ
 : 
public
 
vešs
::
Ba£AµlLay”
 {

46 
´iv©e
:

48 
SimTime
 
busyTime
;

50 
	gnCŞlisiÚs
;

52 
SimTime
 
	g¡¬tBusy
;

54 
boŞ
 
	gchªÃlBusy
;

57 
SimTime
 
	gÏ¡L—d”MsgTime
;

58 
SimTime
 
	gÏ¡FrÚtMsgTime
;

61 
cOutVeùÜ
 
	gnodeIdOut
;

64 
cOutVeùÜ
 
	gbusyTimeOut
, 
	gcŞlisiÚsOut
;

67 
cOutVeùÜ
 
	gËad”D–ayIdOut
, 
	gäÚtD–ayIdOut
, 
	gËad”D–ayOut
, 
	gäÚtD–ayOut
;

70 
	g¡d
::
m­
<, 
	gcG©e
*> 
	g¿dioOuts
;

73 
	g¡d
::
m­
<, > 
	gknownB—cÚs
;

76 
boŞ
 
isDu¶iÿ‹d
(cÚ¡ 
PÏtoÚšgB—cÚ
* 
b—cÚ
);

78 
	g´Ùeùed
:

80 
Ba£Pos™iÚH–³r
* 
pos™iÚH–³r
;

83 
	gmyId
;

85 
	g£q_n
;

87 
	gËngth
;

90 
SimTime
 
	gb—cÚšgIÁ”v®
;

92 
	g´iÜ™y
;

94 
	g·ck‘Size
;

97 
	guµ”CÚŒŞIn
, 
	guµ”CÚŒŞOut
, 
	glow”Lay”In
, 
	glow”Lay”Out
;

99 
	gmšUµ”Id
, 
	gmaxUµ”Id
, 
	gmšUµ”CÚŒŞId
, 
	gmaxUµ”CÚŒŞId
;

101 
	gmšRadioId
, 
	gmaxRadioId
;

106 
cG©e
 
	tOuutG©e
;

107 
cG©e
 
	tIÅutG©e
;

108 
cG©e
 
	tCÚŒŞIÅutG©e
;

109 
cG©e
 
	tCÚŒŞOuutG©e
;

110 
	g¡d
::
	ttu¶e
<
	tIÅutG©e
*, 
	tOuutG©e
*, 
	tCÚŒŞIÅutG©e
*, 
	tCÚŒŞOuutG©e
*> 
	tAµInOut
;

111 
	g¡d
::
	tveùÜ
<
	tAµInOut
> 
	tAµLi¡
;

112 
	g¡d
::
	tm­
<, 
	tAµLi¡
> 
	tAµliÿtiÚM­
;

113 
AµliÿtiÚM­
 
	g­ps
;

115 
	gu£dG©es
;

117 
cG©e
 
	tThisG©e
;

118 
cG©e
 
	tOth”G©e
;

119 
	g¡d
::
	tm­
<
	tOth”G©e
*, 
	tThisG©e
*> 
	tG©eCÚÃùiÚs
;

120 
G©eCÚÃùiÚs
 
	gcÚÃùiÚs
;

123 
cMes§ge
* 
	g£ndB—cÚ
;

124 
cMes§ge
* 
	g»cÜdD©a
;

132 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
	gov”ride
;

135 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
è
	gov”ride
;

138 
vœtu®
 
hªdËUµ”Msg
(
cMes§ge
* 
msg
è
	gov”ride
;

141 
vœtu®
 
hªdËMes§ge
(
cMes§ge
* 
msg
è
	gov”ride
;

143 
vœtu®
 
£ndTo
(
Ba£F¿me1609_4
* 
äame
, 
PËxeRadioIÁ”çûs
 
š‹rçûs
);

146 
usšg
 
	gBa£AµlLay”
::
»ûiveSigÇl
;

147 
»ûiveSigÇl
(
cCompÚ’t
* 
sourû
, 
simsigÇl_t
 
sigÇlID
, 
boŞ
 
v
, 
cObjeù
* 
d‘as
è
	gov”ride
;

148 
»ûiveSigÇl
(
cCompÚ’t
* 
sourû
, 
simsigÇl_t
 
sigÇlID
, 
boŞ
 
v
)

150 
»ûiveSigÇl
(
sourû
, 
sigÇlID
, 
v
, 0);

157 
£ndPÏtoÚšgMes§ge
(
de¡š©iÚAdd»ss
, 
PËxeRadioIÁ”çûs
 
š‹rçûs
 = PËxeRadioIÁ”çûs::
ALL
);

159 
vœtu®
 
	g¡d
::
unique_±r
<
Ba£F¿me1609_4
> 
ü—‹B—cÚ
(
de¡š©iÚAdd»ss
);

170 
vœtu®
 
mes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
Ba£F¿me1609_4
* 
äame
);

183 
vœtu®
 
du¶iÿ‹dMes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
Ba£F¿me1609_4
* 
äame
);

190 
vœtu®
 
chªÃlBusyS¹
()

193 
vœtu®
 
chªÃlIdËS¹
()

196 
vœtu®
 
cŞlisiÚ
()

201 
	gvešs
::
T¿CIMob™y
* 
mob™y
;

202 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

203 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

204 
	gŒaci
::
CommªdIÁ”çû
* 
¶exeT¿ci
;

205 
	g¡d
::
unique_±r
<
Œaci
::
CommªdIÁ”çû
::
Vehişe
> 
¶exeT¿ciVehişe
;

207 
	gpublic
:

209 cÚ¡ 
BEACON_TYPE
;

211 
Ba£PrÙocŞ
()

213 
	g£ndB—cÚ
 = 
nuÎ±r
;

214 
	g»cÜdD©a
 = 
nuÎ±r
;

215 
	gu£dG©es
 = 0;

217 
	gvœtu®
 ~
Ba£PrÙocŞ
();

219 
vœtu®
 
š™Ÿlize
(
¡age
è
	gov”ride
;

222 
»gi¡”AµliÿtiÚ
(
­¶iÿtiÚId
, 
IÅutG©e
* 
­pIÅutG©e
, 
OuutG©e
* 
­pOuutG©e
, 
CÚŒŞIÅutG©e
* 
­pCÚŒŞIÅutG©e
, 
CÚŒŞOuutG©e
* 
­pCÚŒŞOuutG©e
);

	@protocols/HumanInterferingProtocol.cc

21 
	~"¶exe/´ÙocŞs/HumªIÁ”ãršgPrÙocŞ.h
"

23 
	~"¶exe/mes§ges/IÁ”ãršgB—cÚ_m.h
"

24 
	~"vešs/moduËs/mes§ges/PhyCÚŒŞMes§ge_m.h
"

25 
	~"¶exe/driv”/Vešs11pRadioDriv”.h
"

27 
usšg
 
Çme¥aû
 
	gvešs
;

29 
Çme¥aû
 
	g¶exe
 {

31 
Defše_ModuË
(
HumªIÁ”ãršgPrÙocŞ
)

33 
	gHumªIÁ”ãršgPrÙocŞ
::
š™Ÿlize
(
¡age
)

36 
Ba£AµlLay”
::
š™Ÿlize
(
¡age
);

38 ià(
	g¡age
 == 0) {

41 
£ndB—cÚ
 = 0;

44 
	glow”Lay”In
 = 
fšdG©e
("lowerLayerIn");

45 
	glow”Lay”Out
 = 
fšdG©e
("lowerLayerOut");

48 
	gmob™y
 = 
vešs
::
T¿CIMob™yAcûss
().
g‘
(
g‘P¬’tModuË
());

49 
	gŒaci
 = 
mob™y
->
g‘CommªdIÁ”çû
();

50 
	gŒaciVehişe
 = 
mob™y
->
g‘VehişeCommªdIÁ”çû
();

53 
	gmac
 = 
FšdModuË
<
Mac1609_4
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

55 ià(
Vešs11pRadioDriv”
* 
	gdriv”
 = 
FšdModuË
<Vešs11pRadioDriv”*>::
fšdSubModuË
(
g‘P¬’tModuË
())) {

56 
driv”
->
»gi¡”Node
(
g‘P¬’tModuË
()->
g‘Index
() + 1e6);

60 
	gb—cÚšgIÁ”v®
 = 
SimTime
(
·r
("b—cÚšgIÁ”v®").
doubËV®ue
());

62 
	g·ck‘Size
 = 
·r
("packetSize");

64 
	g´iÜ™y
 = 
·r
("priority");

65 
ASSERT2
(
´iÜ™y
 >= 0 &&…riority <= 7, "priority value must be between 0‡nd 7");

67 
	gtxPow”
 = 
·r
("txPow”").
doubËV®ue
();

69 
	gb™¿‹
 = 
·r
("bitrate");

72 
	g£ndB—cÚ
 = 
Ãw
 
cMes§ge
("sendBeacon");

73 
scheduËAt
(
simTime
(è+ 
unifÜm
(0, 
b—cÚšgIÁ”v®
), 
£ndB—cÚ
);

76 ià(
	g¡age
 == 1) {

80 
mac
->
£tTxPow”
(
txPow”
);

81 
	gmac
->
£tMCS
(
g‘MCS
(
b™¿‹
, 
Bªdwidth
::
ofdm_10_mhz
));

85 
	gHumªIÁ”ãršgPrÙocŞ
::~
HumªIÁ”ãršgPrÙocŞ
()

87 
ÿnûlAndD–‘e
(
£ndB—cÚ
);

88 
	g£ndB—cÚ
 = 
nuÎ±r
;

91 
	gHumªIÁ”ãršgPrÙocŞ
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

93 ià(
msg
 =ğ
£ndB—cÚ
) {

94 
£ndIÁ”ãršgMes§ge
();

95 
scheduËAt
(
simTime
(è+ 
b—cÚšgIÁ”v®
, 
£ndB—cÚ
);

99 
	gHumªIÁ”ãršgPrÙocŞ
::
£ndIÁ”ãršgMes§ge
()

103 
Ba£F¿me1609_4
* 
äame
 = 
Ãw
 Ba£F¿me1609_4("", 
INTERFERENCE_TYPE
);

104 
	gäame
->
£tRec›ÁAdd»ss
(
LAdd»ss
::
L2BROADCAST
());

105 
	gäame
->
£tU£rPriÜ™y
(
´iÜ™y
);

106 
	gäame
->
£tChªÃlNumb”
(
¡©ic_ÿ¡
<>(
ChªÃl
::
cch
));

109 
IÁ”ãršgB—cÚ
* 
	gpkt
 = 
Ãw
 InterferingBeacon();

110 
	gpkt
->
£tKšd
(
INTERFERENCE_TYPE
);

111 
	gpkt
->
£tBy‹L’gth
(
·ck‘Size
);

114 
PhyCÚŒŞMes§ge
* 
	gù¾
 = 
Ãw
 PhyControlMessage();

115 
	gù¾
->
£tTxPow”_mW
(
txPow”
);

116 
	gù¾
->
£tMcs
(
¡©ic_ÿ¡
<>(
g‘MCS
(
b™¿‹
, 
Bªdwidth
::
ofdm_10_mhz
)));

117 
	gpkt
->
£tCÚŒŞInfo
(
ù¾
);

120 
	gäame
->
’ÿpsuÏ‹
(
pkt
);

121 
£ndDown
(
äame
);

124 
	gHumªIÁ”ãršgPrÙocŞ
::
hªdËLow”Msg
(
cMes§ge
* 
msg
)

126 
d–‘e
 
msg
;

	@protocols/HumanInterferingProtocol.h

21 #iâdeà
HUMANINTERFERINGPROTOCOL_H_


22 
	#HUMANINTERFERINGPROTOCOL_H_


	)

24 
	~"vešs/ba£/moduËs/Ba£AµlLay”.h
"

26 
	~"¶exe/mes§ges/PÏtoÚšgB—cÚ_m.h
"

28 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

30 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

32 
	~"vešs/moduËs/mac/›“80211p/Mac1609_4.h
"

34 
Çme¥aû
 
	g¶exe
 {

36 şas 
	cHumªIÁ”ãršgPrÙocŞ
 : 
public
 
vešs
::
Ba£AµlLay”
 {

38 
´iv©e
:

40 
SimTime
 
b—cÚšgIÁ”v®
;

42 
	g´iÜ™y
;

44 
	g·ck‘Size
;

46 
	gtxPow”
;

48 
	gb™¿‹
;

50 
	g´Ùeùed
:

52 
vešs
::
T¿CIMob™y
* 
mob™y
;

53 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

54 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

57 
	gvešs
::
Mac1609_4
* 
mac
;

60 
cMes§ge
* 
	g£ndB—cÚ
;

62 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

64 
vœtu®
 
hªdËLow”Msg
(
cMes§ge
* 
msg
);

69 
£ndIÁ”ãršgMes§ge
();

71 
	gpublic
:

73 cÚ¡ 
INTERFERENCE_TYPE
 = 12349;

75 
HumªIÁ”ãršgPrÙocŞ
()

77 
	g£ndB—cÚ
 = 
nuÎ±r
;

79 
	gvœtu®
 ~
HumªIÁ”ãršgPrÙocŞ
();

81 
vœtu®
 
š™Ÿlize
(
¡age
);

	@protocols/SimplePlatooningBeaconing.cc

21 
	~"Sim¶ePÏtoÚšgB—cÚšg.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
Sim¶ePÏtoÚšgB—cÚšg
)

27 
	gSim¶ePÏtoÚšgB—cÚšg
::
š™Ÿlize
(
¡age
)

29 
Ba£PrÙocŞ
::
š™Ÿlize
(
¡age
);

31 ià(
	g¡age
 == 0) {

33 
SimTime
 
begšTime
 = SimTime(
unifÜm
(0.001, 
b—cÚšgIÁ”v®
));

34 ià(
	gb—cÚšgIÁ”v®
 > 0è
scheduËAt
(
simTime
(è+ 
b—cÚšgIÁ”v®
 + 
begšTime
, 
£ndB—cÚ
);

38 
	gSim¶ePÏtoÚšgB—cÚšg
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

41 
Ba£PrÙocŞ
::
hªdËS–fMsg
(
msg
);

43 ià(
	gmsg
 =ğ
£ndB—cÚ
) {

44 
£ndPÏtoÚšgMes§ge
(-1);

45 
scheduËAt
(
simTime
(è+ 
b—cÚšgIÁ”v®
, 
£ndB—cÚ
);

49 
	gSim¶ePÏtoÚšgB—cÚšg
::
Sim¶ePÏtoÚšgB—cÚšg
()

53 
Sim¶ePÏtoÚšgB—cÚšg
::~SimplePlatooningBeaconing()

	@protocols/SimplePlatooningBeaconing.h

21 #iâdeà
SIMPLEPLATOONINGBEACONING_H_


22 
	#SIMPLEPLATOONINGBEACONING_H_


	)

24 
	~"Ba£PrÙocŞ.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cSim¶ePÏtoÚšgB—cÚšg
 : 
public
 
Ba£PrÙocŞ
 {

29 
´Ùeùed
:

30 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

32 
	gpublic
:

33 
Sim¶ePÏtoÚšgB—cÚšg
();

34 
	gvœtu®
 ~
Sim¶ePÏtoÚšgB—cÚšg
();

36 
vœtu®
 
š™Ÿlize
(
¡age
);

	@protocols/SlottedBeaconing.cc

21 
	~"SlÙ‹dB—cÚšg.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
SlÙ‹dB—cÚšg
)

27 
	gSlÙ‹dB—cÚšg
::
š™Ÿlize
(
¡age
)

29 
Ba£PrÙocŞ
::
š™Ÿlize
(
¡age
);

31 ià(
	g¡age
 == 1) {

33 
pos™iÚInPÏtoÚ
 = 
pos™iÚH–³r
->
g‘Pos™iÚ
();

35 
	g¦ÙNumb”
 = 
pos™iÚInPÏtoÚ
;

36 
	g¦ÙTime
 = 
SimTime
(
¦ÙNumb”
 * 
b—cÚšgIÁ”v®
 / 
pos™iÚH–³r
->
g‘PÏtoÚSize
());

41 ià(
	gpos™iÚH–³r
->
isL—d”
()) {

43 
SimTime
 
	gbegšTime
 = SimTime(
unifÜm
(0.001, 1.0));

44 
scheduËAt
(
simTime
(è+ 
b—cÚšgIÁ”v®
 + 
begšTime
, 
£ndB—cÚ
);

49 
	gSlÙ‹dB—cÚšg
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

52 
Ba£PrÙocŞ
::
hªdËS–fMsg
(
msg
);

54 ià(
	gmsg
 =ğ
£ndB—cÚ
) {

55 
£ndPÏtoÚšgMes§ge
(-1);

59 
scheduËAt
(
simTime
(è+ 
b—cÚšgIÁ”v®
, 
£ndB—cÚ
);

63 
	gSlÙ‹dB—cÚšg
::
mes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
Ba£F¿me1609_4
* 
äame
)

66 
	g£nd”Id
 = 
pkt
->
g‘VehişeId
();

68 ià(
	gpos™iÚH–³r
->
g‘L—d”Id
(è=ğ
£nd”Id
 && !
pos™iÚH–³r
->
isLa¡
()) {

71 ià(
£ndB—cÚ
->
isScheduËd
()) {

74 
ÿnûlEv’t
(
£ndB—cÚ
);

77 
scheduËAt
(
simTime
(è+ 
¦ÙTime
, 
£ndB—cÚ
);

81 
	gSlÙ‹dB—cÚšg
::
SlÙ‹dB—cÚšg
()

85 
SlÙ‹dB—cÚšg
::~SlottedBeaconing()

	@protocols/SlottedBeaconing.h

21 #iâdeà
SLOTTEDBEACONING_H_


22 
	#SLOTTEDBEACONING_H_


	)

24 
	~"Ba£PrÙocŞ.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cSlÙ‹dB—cÚšg
 : 
public
 
Ba£PrÙocŞ
 {

29 
´Ùeùed
:

30 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

31 
vœtu®
 
mes§geReûived
(
PÏtoÚšgB—cÚ
* 
pkt
, 
vešs
::
Ba£F¿me1609_4
* 
äame
);

34 
	g¦ÙNumb”
;

36 
SimTime
 
	g¦ÙTime
;

38 
	gpublic
:

39 
SlÙ‹dB—cÚšg
();

40 
	gvœtu®
 ~
SlÙ‹dB—cÚšg
();

42 
vœtu®
 
š™Ÿlize
(
¡age
);

	@scenarios/AccelerateAndBrakeScenario.cc

21 
	~"¶exe/sûÇrios/AcûË¿‹AndB¿keSûÇrio.h
"

23 
usšg
 
Çme¥aû
 
	gvešs
;

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
AcûË¿‹AndB¿keSûÇrio
);

29 
	gAcûË¿‹AndB¿keSûÇrio
::
š™Ÿlize
(
¡age
)

32 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

34 ià(
	g¡age
 == 0)

36 
­¶
 = 
FšdModuË
<
Ba£Aµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

38 ià(
	g¡age
 == 2) {

40 
acûË¿tiÚ
 = 
·r
("acûË¿tiÚ").
doubËV®ue
();

42 
	gb¿kšgDeûË¿tiÚ
 = 
·r
("b¿kšgDeûË¿tiÚ").
doubËV®ue
();

44 
	gËad”S³ed
 = 
·r
("Ëad”S³ed").
doubËV®ue
() / 3.6;

46 
	g¡¬tAcûË¿tšg
 = 
SimTime
(
·r
("¡¬tAcûË¿tšg").
doubËV®ue
());

48 
	g¡¬tB¿kšg
 = 
SimTime
(
·r
("¡¬tB¿kšg").
doubËV®ue
());

51 
	g¡¬tAcûË¿tiÚMsg
 = 
Ãw
 
cMes§ge
("startAccelerationMsg");

52 
	g¡¬tB¿kšgMsg
 = 
Ãw
 
cMes§ge
("startBrakingMsg");

55 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

57 
	g¶exeT¿ciVehişe
->
£tFixedAcûË¿tiÚ
(1, -8);

60 
scheduËAt
(
¡¬tAcûË¿tšg
, 
¡¬tAcûË¿tiÚMsg
);

61 
scheduËAt
(
¡¬tB¿kšg
, 
¡¬tB¿kšgMsg
);

65 
	gAcûË¿‹AndB¿keSûÇrio
::~
AcûË¿‹AndB¿keSûÇrio
()

67 
ÿnûlAndD–‘e
(
¡¬tAcûË¿tiÚMsg
);

68 
	g¡¬tAcûË¿tiÚMsg
 = 
nuÎ±r
;

69 
ÿnûlAndD–‘e
(
¡¬tB¿kšgMsg
);

70 
	g¡¬tB¿kšgMsg
 = 
nuÎ±r
;

73 
	gAcûË¿‹AndB¿keSûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

75 
Ba£SûÇrio
::
hªdËS–fMsg
(
msg
);

76 ià(
	gmsg
 =ğ
¡¬tAcûË¿tiÚMsg
è
¶exeT¿ciVehişe
->
£tFixedAcûË¿tiÚ
(1, 
acûË¿tiÚ
);

77 ià(
	gmsg
 =ğ
¡¬tB¿kšgMsg
è
¶exeT¿ciVehişe
->
£tFixedAcûË¿tiÚ
(1, -
b¿kšgDeûË¿tiÚ
);

	@scenarios/AccelerateAndBrakeScenario.h

21 #iâdeà
ACCELERATEANDBRAKESCENARIO_H_


22 
	#ACCELERATEANDBRAKESCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

25 
	~"¶exe/­ps/Ba£Aµ.h
"

27 
Çme¥aû
 
	g¶exe
 {

29 şas 
	cAcûË¿‹AndB¿keSûÇrio
 : 
public
 
Ba£SûÇrio
 {

31 
public
:

32 
vœtu®
 
š™Ÿlize
(
¡age
);

34 
	g´Ùeùed
:

36 
Ëad”S³ed
;

38 
	gacûË¿tiÚ
;

40 
	gb¿kšgDeûË¿tiÚ
;

42 
cMes§ge
* 
	g¡¬tAcûË¿tiÚMsg
;

44 
cMes§ge
* 
	g¡¬tB¿kšgMsg
;

46 
SimTime
 
	g¡¬tAcûË¿tšg
;

48 
SimTime
 
	g¡¬tB¿kšg
;

50 
Ba£Aµ
* 
	g­¶
;

52 
	gpublic
:

53 
AcûË¿‹AndB¿keSûÇrio
()

55 
Ëad”S³ed
 = 0;

56 
	gacûË¿tiÚ
 = 0;

57 
	gb¿kšgDeûË¿tiÚ
 = 0;

58 
	g¡¬tAcûË¿tiÚMsg
 = 
nuÎ±r
;

59 
	g¡¬tB¿kšgMsg
 = 
nuÎ±r
;

60 
	g¡¬tAcûË¿tšg
 = 
SimTime
(0);

61 
	g¡¬tB¿kšg
 = 
SimTime
(0);

62 
	g­¶
 = 0;

64 
	gvœtu®
 ~
AcûË¿‹AndB¿keSûÇrio
();

66 
	g´Ùeùed
:

67 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

	@scenarios/AutoLaneChangeScenario.cc

21 
	~"¶exe/sûÇrios/AutoLªeChªgeSûÇrio.h
"

23 
usšg
 
Çme¥aû
 
	gvešs
;

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
AutoLªeChªgeSûÇrio
);

29 
	gAutoLªeChªgeSûÇrio
::
š™Ÿlize
(
¡age
)

32 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

34 ià(
	g¡age
 == 0)

36 
­¶
 = 
FšdModuË
<
Ba£Aµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

38 ià(
	g¡age
 == 2) {

39 
¶©oÚšgVTy³
 = 
·r
("¶©oÚšgVTy³").
¡d¡ršgV®ue
();

41 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
ŒaciVehişe
->
g‘LªeIndex
(), 
çl£
);

42 
	gŒaciVehişe
->
£tS³edMode
(0);

43 ià(
	gpos™iÚH–³r
->
isL—d”
()) {

44 
	gi
 = 1; i < 
	gpos™iÚH–³r
->
g‘PÏtoÚSize
(); i++) {

45 
	g¡d
::
¡ršg¡»am
 
ss
;

46 
	gss
 << 
	g¶©oÚšgVTy³
 << "." << 
	gpos™iÚH–³r
->
g‘Memb”Id
(
i
);

47 
	g¶exeT¿ciVehişe
->
addPÏtoÚMemb”
(
ss
.
¡r
(), 
i
);

49 
	g¶exeT¿ciVehişe
->
’abËAutoLªeChªgšg
(
Œue
);

50 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
mob™y
->
g‘S³ed
());

53 
	g¡d
::
¡ršg¡»am
 
s¦
, 
	gss
;

54 
	gs¦
 << 
	g¶©oÚšgVTy³
 << "." << 
	gpos™iÚH–³r
->
g‘L—d”Id
();

55 
	gss
 << 
	g¶©oÚšgVTy³
 << "." << 
	gpos™iÚH–³r
->
g‘FrÚtId
();

56 
	g¶exeT¿ciVehişe
->
’abËAutoF“d
(
Œue
, 
s¦
.
¡r
(), 
ss
.str());

57 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
mob™y
->
g‘S³ed
() + 10);

	@scenarios/AutoLaneChangeScenario.h

21 #iâdeà
AUTOLANECHANGESCENARIO_H_


22 
	#AUTOLANECHANGESCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

25 
	~"¶exe/­ps/Ba£Aµ.h
"

27 
Çme¥aû
 
	g¶exe
 {

29 şas 
	cAutoLªeChªgeSûÇrio
 : 
public
 
Ba£SûÇrio
 {

31 
public
:

32 
vœtu®
 
š™Ÿlize
(
¡age
);

34 
	g´Ùeùed
:

36 
Ëad”S³ed
;

38 
Ba£Aµ
* 
	g­¶
;

40 
	g¡d
::
¡ršg
 
¶©oÚšgVTy³
;

42 
	gpublic
:

43 
AutoLªeChªgeSûÇrio
()

45 
Ëad”S³ed
 = 0;

46 
	g­¶
 = 0;

	@scenarios/BaseScenario.cc

21 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

23 
	~"vešs/ba£/uts/FšdModuË.h
"

25 
	~"¶exe/PËxeMªag”.h
"

26 
	~"¶exe/ut™›s/DyÇmicPos™iÚMªag”.h
"

28 
usšg
 
Çme¥aû
 
	gvešs
;

30 
Çme¥aû
 
	g¶exe
 {

32 
Defše_ModuË
(
Ba£SûÇrio
);

34 
	gBa£SûÇrio
::
š™Ÿlize
(
¡age
)

37 
Ba£AµlLay”
::
š™Ÿlize
(
¡age
);

39 ià(
	g¡age
 == 0) {

40 
accH—dway
 = 
·r
("accH—dway").
doubËV®ue
();

41 
	gËad”H—dway
 = 
·r
("Ëad”H—dway").
doubËV®ue
();

42 
	gÿccXi
 = 
·r
("ÿccXi").
doubËV®ue
();

43 
	gÿccOmegaN
 = 
·r
("ÿccOmegaN").
doubËV®ue
();

44 
	gÿccC1
 = 
·r
("ÿccC1").
doubËV®ue
();

45 
	gÿccS·cšg
 = 
·r
("ÿccS·cšg").
doubËV®ueInUn™
("m");

46 
	g’gšeTau
 = 
·r
("’gšeTau").
doubËV®ue
();

47 
	guMš
 = 
·r
("uMš").
doubËV®ue
();

48 
	guMax
 = 
·r
("uMax").
doubËV®ue
();

49 
	g¶ÛgH
 = 
·r
("¶ÛgH").
doubËV®ue
();

50 
	g¶ÛgKp
 = 
·r
("¶ÛgKp").
doubËV®ue
();

51 
	g¶ÛgKd
 = 
·r
("¶ÛgKd").
doubËV®ue
();

52 
	gæ©bedKa
 = 
·r
("æ©bedKa").
doubËV®ue
();

53 
	gæ©bedKv
 = 
·r
("æ©bedKv").
doubËV®ue
();

54 
	gæ©bedKp
 = 
·r
("æ©bedKp").
doubËV®ue
();

55 
	gæ©bedH
 = 
·r
("æ©bedH").
doubËV®ue
();

56 
	gæ©bedD
 = 
·r
("æ©bedD").
doubËV®ue
();

57 
	gu£CÚŒŞËrAcûË¿tiÚ
 = 
·r
("u£CÚŒŞËrAcûË¿tiÚ").
boŞV®ue
();

58 
	gu£P»diùiÚ
 = 
·r
("u£P»diùiÚ").
boŞV®ue
();

60 
	gu£R—li¡icEngše
 = 
·r
("u£R—li¡icEngše").
boŞV®ue
();

61 ià(
	gu£R—li¡icEngše
) {

62 
	gvehişeFe
 = 
·r
("vehişeFe").
¡d¡ršgV®ue
();

63 
	gvehişeTy³
 = 
·r
("vehişeTy³").
¡d¡ršgV®ue
();

66 cÚ¡ * 
	g¡rCÚŒŞËr
 = 
·r
("cÚŒŞËr").
¡ršgV®ue
();

68 ià(
¡rcmp
(
¡rCÚŒŞËr
, "ACC") == 0) {

69 
cÚŒŞËr
 = 
ACC
;

71 ià(
¡rcmp
(
¡rCÚŒŞËr
, "CACC") == 0) {

72 
cÚŒŞËr
 = 
CACC
;

74 ià(
¡rcmp
(
¡rCÚŒŞËr
, "PLOEG") == 0) {

75 
cÚŒŞËr
 = 
PLOEG
;

77 ià(
¡rcmp
(
¡rCÚŒŞËr
, "CONSENSUS") == 0) {

78 
cÚŒŞËr
 = 
CONSENSUS
;

80 ià(
¡rcmp
(
¡rCÚŒŞËr
, "FLATBED") == 0) {

81 
cÚŒŞËr
 = 
FLATBED
;

84 
throw
 
cRuÁimeE¼Ü
("Invalid controller selected");

87 ià(
	g¡age
 == 1) {

88 
mob™y
 = 
vešs
::
T¿CIMob™yAcûss
().
g‘
(
g‘P¬’tModuË
());

89 
ASSERT
(
mob™y
);

90 
	gŒaci
 = 
mob™y
->
g‘CommªdIÁ”çû
();

91 
ASSERT
(
Œaci
);

92 
	gŒaciVehişe
 = 
mob™y
->
g‘VehişeCommªdIÁ”çû
();

93 
ASSERT
(
ŒaciVehişe
);

94 autØ
	g¶exe
 = 
FšdModuË
<
PËxeMªag”
*>::
fšdGlob®ModuË
();

95 
ASSERT
(
¶exe
);

96 
	g¶exeT¿ci
 = 
¶exe
->
g‘CommªdIÁ”çû
();

97 
	g¶exeT¿ciVehişe
.
»£t
(
Ãw
 
Œaci
::
CommªdIÁ”çû
::
Vehişe
(
¶exeT¿ci
, 
mob™y
->
g‘Ex‹º®Id
()));

98 
	gpos™iÚH–³r
 = 
FšdModuË
<
Ba£Pos™iÚH–³r
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

100 ià(
	g¡age
 == 2) {

101 
š™ŸlizeCÚŒŞËrs
();

104 ià(
	gpos™iÚH–³r
->
isL—d”
()) {

105 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

106 
	g¶exeT¿ciVehişe
->
£tACCH—dwayTime
(
Ëad”H—dway
);

109 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
cÚŒŞËr
);

110 
	g¶exeT¿ciVehişe
->
£tACCH—dwayTime
(
accH—dway
);

113 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
pos™iÚH–³r
->
g‘PÏtoÚLªe
());

114 
	gŒaciVehişe
->
£tS³edMode
(0);

115 
	g¶exeT¿ciVehişe
->
u£P»diùiÚ
(usePrediction);

117 ià(
	gpos™iÚH–³r
->
g‘Id
(è=ğ0è
Œaci
->
guiV›w
("V›w #0").
ŒackVehişe
(
mob™y
->
g‘Ex‹º®Id
());

121 
	gBa£SûÇrio
::
g‘T¬g‘Di¡ªû
(
¥“d
)

123 
cÚŒŞËr
) {

124 
ACC
:

125  2 + 
accH—dway
 * 
¥“d
;

126 
	gCACC
:

127 
FLATBED
:

128  
ÿccS·cšg
;

129 
	gPLOEG
:

130  2 + 
¶ÛgH
 * 
¥“d
;

131 
	gCONSENSUS
:

132  15 + 0.8 * 
¥“d
;

134 
throw
 
cRuÁimeE¼Ü
("Unkown controller in BaseScenario::getTargetDistance()");

138 
	gBa£SûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

142 
Ba£SûÇrio
::
š™ŸlizeCÚŒŞËrs
()

145 
ŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_ENGINE_TAU
, 
’gšeTau
);

146 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_UMIN
, 
uMš
);

147 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_UMAX
, 
uMax
);

149 
	g¶exeT¿ciVehişe
->
£tP©hCACCP¬am‘”s
(
ÿccOmegaN
, 
ÿccXi
, 
ÿccC1
, 
ÿccS·cšg
);

151 
	g¶exeT¿ciVehişe
->
£tPlÛgCACCP¬am‘”s
(
¶ÛgKp
, 
¶ÛgKd
, 
¶ÛgH
);

153 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_FLATBED_KA
, 
æ©bedKa
);

154 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_FLATBED_KV
, 
æ©bedKv
);

155 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_FLATBED_KP
, 
æ©bedKp
);

156 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_FLATBED_H
, 
æ©bedH
);

157 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_FLATBED_D
, 
æ©bedD
);

159 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_VEHICLE_POSITION
, 
pos™iÚH–³r
->
g‘Pos™iÚ
());

160 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_PLATOON_SIZE
, 
pos™iÚH–³r
->
g‘PÏtoÚSize
());

162 
	g¶exeT¿ciVehişe
->
u£CÚŒŞËrAcûË¿tiÚ
(useControllerAcceleration);

164 
VEHICLE_DATA
 
	gvehişeD©a
;

166 ià(!
	gpos™iÚH–³r
->
isL—d”
()) {

168 
	gvehişeD©a
.
	gšdex
 = 
pos™iÚH–³r
->
g‘Pos™iÚ
();

170 
	gvehişeD©a
.
	gËngth
 = 
ŒaciVehişe
->
g‘L’gth
();

172 
	gvehişeD©a
.
	gacûË¿tiÚ
 = 10;

173 
	gvehişeD©a
.
	gpos™iÚX
 = 400000;

174 
	gvehişeD©a
.
	gpos™iÚY
 = 0;

175 
	gvehişeD©a
.
	g¥“d
 = 200;

176 
	gvehişeD©a
.
	gtime
 = 
simTime
().
dbl
();

177 
	gvehişeD©a
.
	gu
 = 0;

178 
	g¶exeT¿ciVehişe
->
£tVehişeD©a
(&
vehişeD©a
);

181 ià(
	gu£R—li¡icEngše
) {

182 
	g’gšeMod–
 = 
CC_ENGINE_MODEL_REALISTIC
;

185 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_VEHICLE_ENGINE_MODEL
, 
’gšeMod–
);

187 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_VEHICLES_FILE
, 
vehişeFe
);

189 
	gŒaciVehişe
->
£tP¬am‘”
(
CC_PAR_VEHICLE_MODEL
, 
vehişeTy³
);

	@scenarios/BaseScenario.h

21 #iâdeà
BASESCENARIO_H_


22 
	#BASESCENARIO_H_


	)

24 
	~"vešs/ba£/moduËs/Ba£AµlLay”.h
"

25 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

27 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

28 
	~"¶exe/mob™y/CommªdIÁ”çû.h
"

30 
Çme¥aû
 
	g¶exe
 {

32 şas 
	cBa£SûÇrio
 : 
public
 
vešs
::
Ba£AµlLay”
 {

34 
public
:

35 
vœtu®
 
š™Ÿlize
(
¡age
è
ov”ride
;

37 
	g´Ùeùed
:

39 
vešs
::
T¿CIMob™y
* 
mob™y
;

40 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

41 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

42 
	gŒaci
::
CommªdIÁ”çû
* 
¶exeT¿ci
;

43 
	g¡d
::
unique_±r
<
Œaci
::
CommªdIÁ”çû
::
Vehişe
> 
¶exeT¿ciVehişe
;

46 
Ba£Pos™iÚH–³r
* 
	gpos™iÚH–³r
;

49 
ACTIVE_CONTROLLER
 
	gcÚŒŞËr
;

53 
	gaccH—dway
;

55 
	gËad”H—dway
;

57 
	gÿccXi
;

58 
	gÿccOmegaN
;

59 
	gÿccC1
;

60 
	gÿccS·cšg
;

61 
	g’gšeTau
;

62 
	guMš
, 
	guMax
;

63 
	g¶ÛgH
;

64 
	g¶ÛgKp
;

65 
	g¶ÛgKd
;

66 
	gæ©bedKa
;

67 
	gæ©bedKv
;

68 
	gæ©bedKp
;

69 
	gæ©bedH
;

70 
	gæ©bedD
;

71 
boŞ
 
	gu£CÚŒŞËrAcûË¿tiÚ
;

72 
boŞ
 
	gu£P»diùiÚ
;

75 
	g¡d
::
¡ršg
 
vehişeFe
;

77 
boŞ
 
	gu£R—li¡icEngše
;

79 
	g¡d
::
¡ršg
 
vehişeTy³
;

81 
š™ŸlizeCÚŒŞËrs
();

83 
	gpublic
:

84 
Ba£SûÇrio
()

86 
mob™y
 = 0;

87 
	gŒaci
 = 0;

88 
	gŒaciVehişe
 = 0;

89 
	gpos™iÚH–³r
 = 0;

90 
	gu£R—li¡icEngše
 = 
çl£
;

91 
	gu£CÚŒŞËrAcûË¿tiÚ
 = 
Œue
;

92 
	gu£P»diùiÚ
 = 
Œue
;

98 
ACTIVE_CONTROLLER
 
g‘CÚŒŞËr
()

100  
	gcÚŒŞËr
;

106 
g‘T¬g‘Di¡ªû
(
¥“d
);

108 
numIn™Sges
(ècÚ¡ 
	gov”ride
 {  3; }

110 
	g´Ùeùed
:

111 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
ov”ride
;

	@scenarios/BrakingScenario.cc

21 
	~"¶exe/sûÇrios/B¿kšgSûÇrio.h
"

23 
usšg
 
Çme¥aû
 
	gvešs
;

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
B¿kšgSûÇrio
);

29 
	gB¿kšgSûÇrio
::
š™Ÿlize
(
¡age
)

32 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

34 ià(
	g¡age
 == 0)

36 
­¶
 = 
FšdModuË
<
Ba£Aµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

38 ià(
	g¡age
 == 2) {

40 
b¿kšgDeûË¿tiÚ
 = 
·r
("b¿kšgDeûË¿tiÚ").
doubËV®ue
();

42 
	gËad”S³ed
 = 
·r
("Ëad”S³ed").
doubËV®ue
() / 3.6;

44 
	gnLªes
 = 
·r
("nLªes").
štV®ue
();

46 
	g¡¬tB¿kšg
 = 
SimTime
(
·r
("¡¬tB¿kšg").
doubËV®ue
());

48 ià(
	gpos™iÚH–³r
->
g‘Id
(è< 
	gnLªes
) {

50 
	gchªgeS³ed
 = 
Ãw
 
cMes§ge
("changeSpeed");

51 ià(
simTime
(è> 
	g¡¬tB¿kšg
) {

52 
	g¡¬tB¿kšg
 = 
simTime
();

53 
scheduËAt
(
simTime
(), 
chªgeS³ed
);

56 
scheduËAt
(
¡¬tB¿kšg
, 
chªgeS³ed
);

59 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
);

64 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
 + 10);

69 
	gB¿kšgSûÇrio
::~
B¿kšgSûÇrio
()

71 
ÿnûlAndD–‘e
(
chªgeS³ed
);

72 
	gchªgeS³ed
 = 
nuÎ±r
;

75 
	gB¿kšgSûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

77 
Ba£SûÇrio
::
hªdËS–fMsg
(
msg
);

78 ià(
	gmsg
 =ğ
chªgeS³ed
è
¶exeT¿ciVehişe
->
£tFixedAcûË¿tiÚ
(1, -
b¿kšgDeûË¿tiÚ
);

	@scenarios/BrakingScenario.h

21 #iâdeà
BRAKINGSCENARIO_H_


22 
	#BRAKINGSCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

25 
	~"¶exe/­ps/Ba£Aµ.h
"

27 
Çme¥aû
 
	g¶exe
 {

29 şas 
	cB¿kšgSûÇrio
 : 
public
 
Ba£SûÇrio
 {

31 
public
:

32 
vœtu®
 
š™Ÿlize
(
¡age
);

34 
	g´Ùeùed
:

36 
Ëad”S³ed
;

38 
	gb¿kšgDeûË¿tiÚ
;

40 
	gnLªes
;

42 
cMes§ge
* 
	gchªgeS³ed
;

44 
SimTime
 
	g¡¬tB¿kšg
;

46 
Ba£Aµ
* 
	g­¶
;

48 
	gpublic
:

49 
B¿kšgSûÇrio
()

51 
Ëad”S³ed
 = 0;

52 
	gb¿kšgDeûË¿tiÚ
 = 0;

53 
	gnLªes
 = 0;

54 
	gchªgeS³ed
 = 
nuÎ±r
;

55 
	g¡¬tB¿kšg
 = 
SimTime
(0);

56 
	g­¶
 = 0;

58 
	gvœtu®
 ~
B¿kšgSûÇrio
();

60 
	g´Ùeùed
:

61 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

	@scenarios/JoinManeuverScenario.cc

21 
	~"¶exe/sûÇrios/JošMªeuv”SûÇrio.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
JošMªeuv”SûÇrio
);

27 
	gJošMªeuv”SûÇrio
::
š™Ÿlize
(
¡age
)

30 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 2) {

33 
­p
 = 
FšdModuË
<
G’”®PÏtoÚšgAµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

34 
´•¬eMªeuv”C¬s
(0);

38 
	gJošMªeuv”SûÇrio
::
£tupFÜm©iÚ
()

40 
¡d
::
veùÜ
<> 
fÜm©iÚ
;

41 
	gi
 = 0; i < 5; i++è
	gfÜm©iÚ
.
push_back
(
i
);

42 
	gpos™iÚH–³r
->
£tPÏtoÚFÜm©iÚ
(
fÜm©iÚ
);

45 
	gJošMªeuv”SûÇrio
::
´•¬eMªeuv”C¬s
(
¶©oÚLªe
)

48 
pos™iÚH–³r
->
g‘Id
()) {

52 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(100.0 / 3.6);

53 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

54 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
¶©oÚLªe
);

55 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
LEADER
);

63 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(130.0 / 3.6);

64 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
CACC
);

65 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
¶©oÚLªe
);

66 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
FOLLOWER
);

72 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(100 / 3.6);

73 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(2);

74 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

77 
	g¡¬tMªeuv”
 = 
Ãw
 
cMes§ge
();

78 
scheduËAt
(
simTime
(è+ 
SimTime
(10), 
¡¬tMªeuv”
);

83 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(100 / 3.6);

84 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(3);

85 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

88 
	g¡¬tMªeuv”
 = 
Ãw
 
cMes§ge
();

89 
scheduËAt
(
simTime
(è+ 
SimTime
(20), 
¡¬tMªeuv”
);

95 
	gJošMªeuv”SûÇrio
::~
JošMªeuv”SûÇrio
()

97 
ÿnûlAndD–‘e
(
¡¬tMªeuv”
);

98 
	g¡¬tMªeuv”
 = 
nuÎ±r
;

101 
	gJošMªeuv”SûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

105 
Ba£SûÇrio
::
hªdËS–fMsg
(
msg
);

107 ià(
	gmsg
 =ğ
¡¬tMªeuv”
è
­p
->
¡¬tJošMªeuv”
(0, 0, -1);

	@scenarios/JoinManeuverScenario.h

21 #iâdeà
JOINMANEUVERSCENARIO_H_


22 
	#JOINMANEUVERSCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

25 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

26 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

28 
Çme¥aû
 
	g¶exe
 {

30 şas 
	cJošMªeuv”SûÇrio
 : 
public
 
Ba£SûÇrio
 {

32 
´Ùeùed
:

34 
cMes§ge
* 
¡¬tMªeuv”
;

36 
G’”®PÏtoÚšgAµ
* 
	g­p
;

38 
	gpublic
:

39 cÚ¡ 
MANEUVER_TYPE
 = 12347;

41 
vœtu®
 
š™Ÿlize
(
¡age
è
	gov”ride
;

43 
	g´iv©e
:

44 
public
:

45 
JošMªeuv”SûÇrio
()

47 
¡¬tMªeuv”
 = 
nuÎ±r
;

48 
	g­p
 = 
nuÎ±r
;

50 
	gvœtu®
 ~
JošMªeuv”SûÇrio
();

52 
	g´Ùeùed
:

53 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
ov”ride
;

55 
´•¬eMªeuv”C¬s
(
¶©oÚLªe
);

56 
£tupFÜm©iÚ
();

	@scenarios/MergeManeuverScenario.cc

21 
	~"¶exe/sûÇrios/M”geMªeuv”SûÇrio.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
M”geMªeuv”SûÇrio
);

27 
	gM”geMªeuv”SûÇrio
::
š™Ÿlize
(
¡age
)

30 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 2) {

33 
­p
 = 
FšdModuË
<
G’”®PÏtoÚšgAµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

34 
´•¬eMªeuv”C¬s
(0);

38 
	gM”geMªeuv”SûÇrio
::
´•¬eMªeuv”C¬s
(
¶©oÚLªe
)

40 ià(
pos™iÚH–³r
->
g‘Id
() == 0) {

42 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(100.0 / 3.6);

43 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

44 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
¶©oÚLªe
);

45 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
LEADER
);

47 ià(!
	gpos™iÚH–³r
->
isL—d”
()) {

49 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(130.0 / 3.6);

50 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
CACC
);

51 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
¶©oÚLªe
);

52 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
FOLLOWER
);

56 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(100 / 3.6);

57 
	g¶exeT¿ciVehişe
->
£tFixedLªe
(
¶©oÚLªe
);

58 
	g¶exeT¿ciVehişe
->
£tAùiveCÚŒŞËr
(
ACC
);

59 
	g­p
->
£tPÏtoÚRŞe
(
PÏtoÚRŞe
::
LEADER
);

62 
	g¡¬tMªeuv”
 = 
Ãw
 
cMes§ge
();

63 
scheduËAt
(
simTime
(è+ 
SimTime
(10), 
¡¬tMªeuv”
);

67 
	gM”geMªeuv”SûÇrio
::~
M”geMªeuv”SûÇrio
()

69 
ÿnûlAndD–‘e
(
¡¬tMªeuv”
);

70 
	g¡¬tMªeuv”
 = 
nuÎ±r
;

73 
	gM”geMªeuv”SûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

77 
Ba£SûÇrio
::
hªdËS–fMsg
(
msg
);

79 
	gLOG
 << "Startinghe merge maneuver\n";

80 ià(
	gmsg
 =ğ
¡¬tMªeuv”
è
­p
->
¡¬tM”geMªeuv”
(0, 0, -1);

	@scenarios/MergeManeuverScenario.h

21 #´agm¨
Úû


23 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

24 
	~"¶exe/­ps/G’”®PÏtoÚšgAµ.h
"

25 
	~"¶exe/mes§ges/Mªeuv”Mes§ge_m.h
"

27 
Çme¥aû
 
	g¶exe
 {

29 şas 
	cM”geMªeuv”SûÇrio
 : 
public
 
Ba£SûÇrio
 {

31 
´Ùeùed
:

33 
cMes§ge
* 
¡¬tMªeuv”
;

35 
G’”®PÏtoÚšgAµ
* 
	g­p
;

37 
	gpublic
:

38 cÚ¡ 
MANEUVER_TYPE
 = 12347;

40 
vœtu®
 
š™Ÿlize
(
¡age
è
	gov”ride
;

42 
	g´iv©e
:

43 
public
:

44 
M”geMªeuv”SûÇrio
()

46 
¡¬tMªeuv”
 = 
nuÎ±r
;

47 
	g­p
 = 
nuÎ±r
;

49 
	gvœtu®
 ~
M”geMªeuv”SûÇrio
();

51 
	g´Ùeùed
:

52 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
è
ov”ride
;

54 
´•¬eMªeuv”C¬s
(
¶©oÚLªe
);

55 
£tupFÜm©iÚ
();

	@scenarios/SimpleScenario.cc

21 
	~"¶exe/sûÇrios/Sim¶eSûÇrio.h
"

23 
usšg
 
Çme¥aû
 
	gvešs
;

25 
Çme¥aû
 
	g¶exe
 {

27 
Defše_ModuË
(
Sim¶eSûÇrio
);

29 
	gSim¶eSûÇrio
::
š™Ÿlize
(
¡age
)

32 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

34 ià(
	g¡age
 == 0)

36 
­¶
 = 
FšdModuË
<
Ba£Aµ
*>::
fšdSubModuË
(
g‘P¬’tModuË
());

38 ià(
	g¡age
 == 2) {

40 
Ëad”S³ed
 = 
·r
("Ëad”S³ed").
doubËV®ue
() / 3.6;

42 ià(
	gpos™iÚH–³r
->
isL—d”
()) {

44 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
);

49 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
 + 10);

	@scenarios/SimpleScenario.h

21 #iâdeà
SIMPLESCENARIO_H_


22 
	#SIMPLESCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

25 
	~"¶exe/­ps/Ba£Aµ.h
"

27 
Çme¥aû
 
	g¶exe
 {

29 şas 
	cSim¶eSûÇrio
 : 
public
 
Ba£SûÇrio
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

33 
	g´Ùeùed
:

35 
Ëad”S³ed
;

37 
Ba£Aµ
* 
	g­¶
;

39 
	gpublic
:

40 
Sim¶eSûÇrio
()

41 : 
Ëad”S³ed
(0)

42 , 
­¶
(
nuÎ±r
){};

	@scenarios/SinusoidalScenario.cc

21 
	~"¶exe/sûÇrios/Sšusoid®SûÇrio.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
Sšusoid®SûÇrio
);

27 
	gSšusoid®SûÇrio
::
š™Ÿlize
(
¡age
)

30 
Ba£SûÇrio
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 2) {

34 
Ëad”OscÏtiÚF»qu’cy
 = 
·r
("Ëad”OscÏtiÚF»qu’cy").
doubËV®ue
();

36 
	goscÏtiÚAm¶™ude
 = 
·r
("oscÏtiÚAm¶™ude").
doubËV®ue
() / 3.6;

38 
	gËad”S³ed
 = 
·r
("Ëad”S³ed").
doubËV®ue
() / 3.6;

40 
	gnLªes
 = 
·r
("nLªes").
štV®ue
();

42 
	g¡¬tOscÏtšg
 = 
SimTime
(
·r
("¡¬tOscÏtšg").
doubËV®ue
());

44 ià(
	gpos™iÚH–³r
->
g‘Id
(è< 
	gnLªes
) {

46 
	gchªgeS³ed
 = 
Ãw
 
cMes§ge
("changeSpeed");

47 ià(
simTime
(è> 
	g¡¬tOscÏtšg
) {

48 
	g¡¬tOscÏtšg
 = 
simTime
();

49 
scheduËAt
(
simTime
(), 
chªgeS³ed
);

52 
scheduËAt
(
¡¬tOscÏtšg
, 
chªgeS³ed
);

55 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
);

60 
	g¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
 + 2 * 
oscÏtiÚAm¶™ude
);

65 
	gSšusoid®SûÇrio
::~
Sšusoid®SûÇrio
()

67 
ÿnûlAndD–‘e
(
chªgeS³ed
);

68 
	gchªgeS³ed
 = 
nuÎ±r
;

71 
	gSšusoid®SûÇrio
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

73 
Ba£SûÇrio
::
hªdËS–fMsg
(
msg
);

74 ià(
	gmsg
 =ğ
chªgeS³ed
) {

75 
¶exeT¿ciVehişe
->
£tCrui£CÚŒŞDesœedS³ed
(
Ëad”S³ed
 + 
oscÏtiÚAm¶™ude
 * 
sš
(2 * 
M_PI
 * (
simTime
(è- 
¡¬tOscÏtšg
).
dbl
(è* 
Ëad”OscÏtiÚF»qu’cy
));

76 
scheduËAt
(
simTime
(è+ 
SimTime
(0.1), 
chªgeS³ed
);

	@scenarios/SinusoidalScenario.h

21 #iâdeà
SINUSOIDALSCENARIO_H_


22 
	#SINUSOIDALSCENARIO_H_


	)

24 
	~"¶exe/sûÇrios/Ba£SûÇrio.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cSšusoid®SûÇrio
 : 
public
 
Ba£SûÇrio
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

33 
	g´Ùeùed
:

35 
Ëad”OscÏtiÚF»qu’cy
;

37 
	goscÏtiÚAm¶™ude
;

39 
	gËad”S³ed
;

41 
	gnLªes
;

43 
cMes§ge
* 
	gchªgeS³ed
;

45 
SimTime
 
	g¡¬tOscÏtšg
;

47 
	gpublic
:

48 
Sšusoid®SûÇrio
()

50 
Ëad”OscÏtiÚF»qu’cy
 = 0;

51 
	goscÏtiÚAm¶™ude
 = 0;

52 
	gËad”S³ed
 = 0;

53 
	gnLªes
 = 0;

54 
	gchªgeS³ed
 = 
nuÎ±r
;

55 
	g¡¬tOscÏtšg
 = 
SimTime
(0);

57 
	gvœtu®
 ~
Sšusoid®SûÇrio
();

59 
	g´Ùeùed
:

60 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

	@traffic/JoinTrafficManager.cc

21 
	~"JošT¿fficMªag”.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
JošT¿fficMªag”
);

27 
	gJošT¿fficMªag”
::
š™Ÿlize
(
¡age
)

30 
PÏtoÚsT¿fficMªag”
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 0) {

34 
š£¹Još”Mes§ge
 = 
Ãw
 
cMes§ge
("");

35 
scheduËAt
(
¶©oÚIn£¹Time
 + 
SimTime
(5), 
š£¹Još”Mes§ge
);

39 
	gJošT¿fficMªag”
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

42 
PÏtoÚsT¿fficMªag”
::
hªdËS–fMsg
(
msg
);

44 ià(
	gmsg
 =ğ
š£¹Još”Mes§ge
) {

45 
š£¹Još”
();

49 
	gJošT¿fficMªag”
::
š£¹Još”
()

51 
autom©ed
.
pos™iÚ
 = 0;

52 
	gautom©ed
.
	gÏÃ
 = 2;

53 
addVehişeToQueue
(0, 
autom©ed
);

56 
	gJošT¿fficMªag”
::~
JošT¿fficMªag”
()

58 
ÿnûlAndD–‘e
(
š£¹Još”Mes§ge
);

59 
	gš£¹Još”Mes§ge
 = 
nuÎ±r
;

	@traffic/JoinTrafficManager.h

21 #iâdeà
JOINTRAFFICMANAGER_H_


22 
	#JOINTRAFFICMANAGER_H_


	)

24 
	~"¶exe/Œaffic/PÏtoÚsT¿fficMªag”.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cJošT¿fficMªag”
 : 
public
 
PÏtoÚsT¿fficMªag”
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

33 
JošT¿fficMªag”
()

34 : 
PÏtoÚsT¿fficMªag”
()

36 
š£¹Još”Mes§ge
 = 0;

38 
	gvœtu®
 ~
JošT¿fficMªag”
();

40 
	g´Ùeùed
:

41 
cMes§ge
* 
š£¹Još”Mes§ge
;

43 
š£¹Još”
();

45 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

	@traffic/PlatoonsPlusHumanTraffic.cc

21 
	~"PÏtoÚsPlusHumªT¿ffic.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
PÏtoÚsPlusHumªT¿ffic
);

27 
	gPÏtoÚsPlusHumªT¿ffic
::
š™Ÿlize
(
¡age
)

30 
T¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 0) {

34 
nC¬s
 = 
·r
("nCars");

35 
	g¶©oÚSize
 = 
·r
("platoonSize");

36 
	gnLªes
 = 
·r
("nLanes");

37 
	ghumªC¬s
 = 
·r
("humanCars");

38 
	ghumªLªes
 = 
·r
("humanLanes");

39 
	g¶©oÚIn£¹Time
 = 
SimTime
(
·r
("¶©oÚIn£¹Time").
doubËV®ue
());

40 
	g¶©oÚIn£¹S³ed
 = 
·r
("¶©oÚIn£¹S³ed").
doubËV®ue
();

41 
	g¶©oÚIn£¹Di¡ªû
 = 
·r
("¶©oÚIn£¹Di¡ªû").
doubËV®ue
();

42 
	g¶©oÚIn£¹H—dway
 = 
·r
("¶©oÚIn£¹H—dway").
doubËV®ue
();

43 
	g¶©oÚL—d”H—dway
 = 
·r
("¶©oÚL—d”H—dway").
doubËV®ue
();

44 
	g¶©oÚšgVTy³
 = 
·r
("¶©oÚšgVTy³").
¡d¡ršgV®ue
();

45 
	ghumªVTy³
 = 
·r
("humªVTy³").
¡d¡ršgV®ue
();

46 
	gš£¹PÏtoÚMes§ge
 = 
Ãw
 
cMes§ge
("");

47 
scheduËAt
(
¶©oÚIn£¹Time
, 
š£¹PÏtoÚMes§ge
);

51 
	gPÏtoÚsPlusHumªT¿ffic
::
sûÇrioLßded
()

53 
autom©ed
.
id
 = 
fšdVehişeTy³Index
(
¶©oÚšgVTy³
);

54 
	gautom©ed
.
	gÏÃ
 = -1;

55 
	gautom©ed
.
	gpos™iÚ
 = 0;

56 
	gautom©ed
.
	g¥“d
 = 
¶©oÚIn£¹S³ed
 / 3.6;

57 
	ghumª
.
	gid
 = 
fšdVehişeTy³Index
(
humªVTy³
);

58 
	ghumª
.
	gÏÃ
 = -1;

59 
	ghumª
.
	gpos™iÚ
 = 0;

60 
	ghumª
.
	g¥“d
 = 
¶©oÚIn£¹S³ed
 / 3.6 - 0.01;

63 
	gPÏtoÚsPlusHumªT¿ffic
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

66 
T¿CIBa£T¿fficMªag”
::
hªdËS–fMsg
(
msg
);

68 ià(
	gmsg
 =ğ
š£¹PÏtoÚMes§ge
) {

69 
š£¹PÏtoÚs
();

70 
š£¹Humªs
();

74 
	gPÏtoÚsPlusHumªT¿ffic
::
š£¹PÏtoÚs
()

78 
di¡ªû
 = 
¶©oÚIn£¹S³ed
 / 3.6 * 
¶©oÚIn£¹H—dway
 + 
¶©oÚIn£¹Di¡ªû
;

80 
	gnPÏtoÚs
 = 
nC¬s
 / 
¶©oÚSize
 / 
nLªes
;

82 
	g¶©oÚL’gth
 = 
¶©oÚSize
 * 4 + (¶©oÚSiz- 1è* 
di¡ªû
;

84 
	g¶©oÚDi¡ªû
 = 
¶©oÚIn£¹S³ed
 / 3.6 * 
¶©oÚL—d”H—dway
;

86 
	gtÙ®L’gth
 = 
nPÏtoÚs
 * 
¶©oÚL’gth
 + (nPÏtoÚ - 1è* 
¶©oÚDi¡ªû
;

89 * 
	gÏÃOff£t
 = 
Ãw
 [
nLªes
];

90 
	gl
 = 0;† < 
	gnLªes
;†++è
	gÏÃOff£t
[
l
] = 
unifÜm
(0, 20);

92 
	gcu¼’tRßdPos™iÚ
 = 
tÙ®L’gth
;

93 
	gcu¼’tVehişePos™iÚ
 = 0;

94 
	gcu¼’tVehişeId
 = 0;

95 
	gba£PÏtoÚId
 = 0;

96 
	gi
 = 0; i < 
	gnC¬s
 / 
	gnLªes
; i++) {

97 
	gl
 = 0;† < 
	gnLªes
;†++) {

98 
	gautom©ed
.
	gpos™iÚ
 = 
cu¼’tRßdPos™iÚ
 + 
ÏÃOff£t
[
l
];

99 
	gautom©ed
.
	gÏÃ
 = 
l
;

100 
addVehişeToQueue
(0, 
autom©ed
);

101 
	gpos™iÚs
.
addVehişeToPÏtoÚ
(
cu¼’tVehişeId
, 
cu¼’tVehişePos™iÚ
, 
ba£PÏtoÚId
 + 
l
);

102 
	gcu¼’tVehişeId
++;

103 ià(
	gcu¼’tVehişePos™iÚ
 == 0) {

104 
PÏtoÚInfo
 
šfo
;

105 
	gšfo
.
	g¥“d
 = 
autom©ed
.
¥“d
;

106 
	gšfo
.
	gÏÃ
 = 
autom©ed
.
ÏÃ
;

107 
	gpos™iÚs
.
£tPÏtoÚInfÜm©iÚ
(
ba£PÏtoÚId
 + 
l
, 
šfo
);

110 
	gcu¼’tVehişePos™iÚ
++;

111 ià(
	gcu¼’tVehişePos™iÚ
 =ğ
¶©oÚSize
) {

112 
cu¼’tVehişePos™iÚ
 = 0;

114 
	gcu¼’tRßdPos™iÚ
 -ğ(
¶©oÚDi¡ªû
 + 4);

115 
	gba£PÏtoÚId
 +ğ
nLªes
;

119 
	gcu¼’tRßdPos™iÚ
 -ğ(4 + 
di¡ªû
);

123 
	gd–‘e
[] 
	gÏÃOff£t
;

126 
	gPÏtoÚsPlusHumªT¿ffic
::
š£¹Humªs
()

130 
di¡ªû
 = 50;

132 
	gÿrsP”Lªe
 = 
humªC¬s
 / 
humªLªes
;

134 
	gtÙ®L’gth
 = 
ÿrsP”Lªe
 * (4 + 
di¡ªû
);

137 * 
	gÏÃOff£t
 = 
Ãw
 [
humªLªes
];

138 
	gl
 = 0;† < 
	ghumªLªes
;†++è
	gÏÃOff£t
[
l
] = 
unifÜm
(0, 20);

140 
	gcu¼’tPos
 = 
tÙ®L’gth
;

141 
	gi
 = 0; i < 
	gÿrsP”Lªe
; i++) {

142 
	gl
 = 
nLªes
;† < 
	ghumªLªes
 + 
	gnLªes
;†++) {

143 
	ghumª
.
	gpos™iÚ
 = 
cu¼’tPos
 + 
ÏÃOff£t
[
l
 - 
nLªes
];

144 
	ghumª
.
	gÏÃ
 = 
l
;

145 
addVehişeToQueue
(0, 
humª
);

147 
	gcu¼’tPos
 -ğ(4 + 
di¡ªû
);

150 
	gd–‘e
[] 
	gÏÃOff£t
;

153 
	gPÏtoÚsPlusHumªT¿ffic
::~
PÏtoÚsPlusHumªT¿ffic
()

155 
ÿnûlAndD–‘e
(
š£¹PÏtoÚMes§ge
);

156 
	gš£¹PÏtoÚMes§ge
 = 
nuÎ±r
;

	@traffic/PlatoonsPlusHumanTraffic.h

21 #iâdeà
PLATOONSPLUSHUMANTRAFFIC_H_


22 
	#PLATOONSPLUSHUMANTRAFFIC_H_


	)

24 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cPÏtoÚsPlusHumªT¿ffic
 : 
public
 
T¿CIBa£T¿fficMªag”
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

33 
PÏtoÚsPlusHumªT¿ffic
()

35 
	gš£¹PÏtoÚMes§ge
 = 
nuÎ±r
;

36 
	g¶©oÚIn£¹Di¡ªû
 = 0;

37 
	g¶©oÚIn£¹H—dway
 = 0;

38 
	g¶©oÚIn£¹S³ed
 = 0;

39 
	g¶©oÚIn£¹Time
 = 
SimTime
(0);

40 
	g¶©oÚL—d”H—dway
 = 0;

41 
	g¶©oÚSize
 = 0;

42 
	gnC¬s
 = 0;

43 
	gnLªes
 = 0;

44 
	ghumªC¬s
 = 0;

45 
	ghumªLªes
 = 0;

47 
	gvœtu®
 ~
PÏtoÚsPlusHumªT¿ffic
();

49 
	g´Ùeùed
:

51 
cMes§ge
* 
š£¹PÏtoÚMes§ge
;

53 
š£¹PÏtoÚs
();

54 
š£¹Humªs
();

56 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

58 
SimTime
 
	g¶©oÚIn£¹Time
;

59 
	g¶©oÚIn£¹S³ed
;

61 
Vehişe
 
	gautom©ed
;

62 
Vehişe
 
	ghumª
;

65 
	gnC¬s
;

67 
	g¶©oÚSize
;

69 
	gnLªes
;

71 
	ghumªC¬s
;

73 
	ghumªLªes
;

75 
	g¶©oÚIn£¹Di¡ªû
;

77 
	g¶©oÚIn£¹H—dway
;

79 
	g¶©oÚL—d”H—dway
;

81 
	g¡d
::
¡ršg
 
¶©oÚšgVTy³
;

83 
	g¡d
::
¡ršg
 
humªVTy³
;

85 
vœtu®
 
sûÇrioLßded
();

	@traffic/PlatoonsTrafficManager.cc

21 
	~"PÏtoÚsT¿fficMªag”.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
PÏtoÚsT¿fficMªag”
);

27 
	gPÏtoÚsT¿fficMªag”
::
š™Ÿlize
(
¡age
)

30 
T¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
);

32 ià(
	g¡age
 == 0) {

34 
nC¬s
 = 
·r
("nCars");

35 
	g¶©oÚSize
 = 
·r
("platoonSize");

36 
	gnLªes
 = 
·r
("nLanes");

37 
	g¶©oÚIn£¹Time
 = 
SimTime
(
·r
("¶©oÚIn£¹Time").
doubËV®ue
());

38 
	g¶©oÚIn£¹S³ed
 = 
·r
("¶©oÚIn£¹S³ed").
doubËV®ue
();

39 
	g¶©oÚIn£¹Di¡ªû
 = 
·r
("¶©oÚIn£¹Di¡ªû").
doubËV®ue
();

40 
	g¶©oÚIn£¹H—dway
 = 
·r
("¶©oÚIn£¹H—dway").
doubËV®ue
();

41 
	g¶©oÚL—d”H—dway
 = 
·r
("¶©oÚL—d”H—dway").
doubËV®ue
();

42 
	g¶©oÚAdd™iÚ®Di¡ªû
 = 
·r
("¶©oÚAdd™iÚ®Di¡ªû").
doubËV®ue
();

43 
	g¶©oÚšgVTy³
 = 
·r
("¶©oÚšgVTy³").
¡d¡ršgV®ue
();

44 
	gš£¹PÏtoÚMes§ge
 = 
Ãw
 
cMes§ge
("");

45 
scheduËAt
(
¶©oÚIn£¹Time
, 
š£¹PÏtoÚMes§ge
);

49 
	gPÏtoÚsT¿fficMªag”
::
sûÇrioLßded
()

51 
autom©ed
.
id
 = 
fšdVehişeTy³Index
(
¶©oÚšgVTy³
);

52 
	gautom©ed
.
	gÏÃ
 = -1;

53 
	gautom©ed
.
	gpos™iÚ
 = 0;

54 
	gautom©ed
.
	g¥“d
 = 
¶©oÚIn£¹S³ed
 / 3.6;

57 
	gPÏtoÚsT¿fficMªag”
::
hªdËS–fMsg
(
cMes§ge
* 
msg
)

60 
T¿CIBa£T¿fficMªag”
::
hªdËS–fMsg
(
msg
);

62 ià(
	gmsg
 =ğ
š£¹PÏtoÚMes§ge
) {

63 
š£¹PÏtoÚs
();

67 
	gPÏtoÚsT¿fficMªag”
::
š£¹PÏtoÚs
()

71 
di¡ªû
 = 
¶©oÚIn£¹S³ed
 / 3.6 * 
¶©oÚIn£¹H—dway
 + 
¶©oÚIn£¹Di¡ªû
;

73 
	gnPÏtoÚs
 = 
nC¬s
 / 
¶©oÚSize
 / 
nLªes
;

75 
	g¶©oÚL’gth
 = 
¶©oÚSize
 * 4 + (¶©oÚSiz- 1è* 
di¡ªû
;

77 
	g¶©oÚDi¡ªû
 = 
¶©oÚIn£¹S³ed
 / 3.6 * 
¶©oÚL—d”H—dway
 + 
¶©oÚAdd™iÚ®Di¡ªû
;

79 
	gtÙ®L’gth
 = 
nPÏtoÚs
 * 
¶©oÚL’gth
 + (nPÏtoÚ - 1è* 
¶©oÚDi¡ªû
;

82 * 
	gÏÃOff£t
 = 
Ãw
 [
nLªes
];

83 
	gl
 = 0;† < 
	gnLªes
;†++è
	gÏÃOff£t
[
l
] = 
unifÜm
(0, 20);

85 
	gcu¼’tRßdPos™iÚ
 = 
tÙ®L’gth
;

86 
	gcu¼’tVehişePos™iÚ
 = 0;

87 
	gcu¼’tVehişeId
 = 0;

88 
	gba£PÏtoÚId
 = 0;

89 
	gi
 = 0; i < 
	gnC¬s
 / 
	gnLªes
; i++) {

90 
	gl
 = 0;† < 
	gnLªes
;†++) {

91 
	gautom©ed
.
	gpos™iÚ
 = 
cu¼’tRßdPos™iÚ
 + 
ÏÃOff£t
[
l
];

92 
	gautom©ed
.
	gÏÃ
 = 
l
;

93 
addVehişeToQueue
(0, 
autom©ed
);

94 
	gpos™iÚs
.
addVehişeToPÏtoÚ
(
cu¼’tVehişeId
, 
cu¼’tVehişePos™iÚ
, 
ba£PÏtoÚId
 + 
l
);

95 
	gcu¼’tVehişeId
++;

96 ià(
	gcu¼’tVehişePos™iÚ
 == 0) {

97 
PÏtoÚInfo
 
šfo
;

98 
	gšfo
.
	g¥“d
 = 
autom©ed
.
¥“d
;

99 
	gšfo
.
	gÏÃ
 = 
autom©ed
.
ÏÃ
;

100 
	gpos™iÚs
.
£tPÏtoÚInfÜm©iÚ
(
ba£PÏtoÚId
 + 
l
, 
šfo
);

103 
	gcu¼’tVehişePos™iÚ
++;

104 ià(
	gcu¼’tVehişePos™iÚ
 =ğ
¶©oÚSize
) {

105 
cu¼’tVehişePos™iÚ
 = 0;

107 
	gcu¼’tRßdPos™iÚ
 -ğ(
¶©oÚDi¡ªû
 + 4);

108 
	gba£PÏtoÚId
 +ğ
nLªes
;

112 
	gcu¼’tRßdPos™iÚ
 -ğ(4 + 
di¡ªû
);

116 
	gd–‘e
[] 
	gÏÃOff£t
;

119 
	gPÏtoÚsT¿fficMªag”
::~
PÏtoÚsT¿fficMªag”
()

121 
ÿnûlAndD–‘e
(
š£¹PÏtoÚMes§ge
);

122 
	gš£¹PÏtoÚMes§ge
 = 
nuÎ±r
;

	@traffic/PlatoonsTrafficManager.h

21 #iâdeà
PLATOONSTRAFFICMANAGER_H_


22 
	#PLATOONSTRAFFICMANAGER_H_


	)

24 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

26 
Çme¥aû
 
	g¶exe
 {

28 şas 
	cPÏtoÚsT¿fficMªag”
 : 
public
 
T¿CIBa£T¿fficMªag”
 {

30 
public
:

31 
vœtu®
 
š™Ÿlize
(
¡age
);

33 
PÏtoÚsT¿fficMªag”
()

35 
	gš£¹PÏtoÚMes§ge
 = 
nuÎ±r
;

36 
	g¶©oÚIn£¹Di¡ªû
 = 0;

37 
	g¶©oÚIn£¹H—dway
 = 0;

38 
	g¶©oÚIn£¹S³ed
 = 0;

39 
	g¶©oÚIn£¹Time
 = 
SimTime
(0);

40 
	g¶©oÚL—d”H—dway
 = 0;

41 
	g¶©oÚAdd™iÚ®Di¡ªû
 = 0;

42 
	g¶©oÚSize
 = 0;

43 
	gnC¬s
 = 0;

44 
	gnLªes
 = 0;

46 
	gvœtu®
 ~
PÏtoÚsT¿fficMªag”
();

48 
	g´Ùeùed
:

50 
cMes§ge
* 
š£¹PÏtoÚMes§ge
;

52 
š£¹PÏtoÚs
();

54 
vœtu®
 
hªdËS–fMsg
(
cMes§ge
* 
msg
);

56 
SimTime
 
	g¶©oÚIn£¹Time
;

57 
	g¶©oÚIn£¹S³ed
;

59 
Vehişe
 
	gautom©ed
;

62 
	gnC¬s
;

64 
	g¶©oÚSize
;

66 
	gnLªes
;

68 
	g¶©oÚIn£¹Di¡ªû
;

70 
	g¶©oÚIn£¹H—dway
;

72 
	g¶©oÚL—d”H—dway
;

74 
	g¶©oÚAdd™iÚ®Di¡ªû
;

76 
	g¡d
::
¡ršg
 
¶©oÚšgVTy³
;

78 
vœtu®
 
sûÇrioLßded
();

	@traffic/RingTrafficManager.cc

21 
	~"¶exe/Œaffic/RšgT¿fficMªag”.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
RšgT¿fficMªag”
);

27 
	gRšgT¿fficMªag”
::
š™Ÿlize
(
¡age
)

30 
T¿CIBa£T¿fficMªag”
::
š™Ÿlize
(
¡age
);

32 
	g¶©oÚSize
 = &
·r
("platoonSize");

33 
	gnPÏtoÚs
 = 
·r
("nPlatoons");

34 
	gnLªes
 = 
·r
("nLanes");

35 
	g¶©oÚIn£¹S³ed
 = &
·r
("platoonInsertSpeed");

36 
	g¶©oÚIn£¹Di¡ªû
 = 
·r
("¶©oÚIn£¹Di¡ªû").
doubËV®ue
();

37 
	g¶©oÚIn£¹H—dway
 = 
·r
("¶©oÚIn£¹H—dway").
doubËV®ue
();

38 
	g¶©oÚL—d”H—dway
 = 
·r
("¶©oÚL—d”H—dway").
doubËV®ue
();

39 
	g¶©oÚšgVTy³
 = 
·r
("¶©oÚšgVTy³").
¡d¡ršgV®ue
();

42 
	gRšgT¿fficMªag”
::
sûÇrioLßded
()

45 
vehTy³Id
 = 
fšdVehişeTy³Index
("vtypeauto");

46 
Vehişe
 
	gautom©ed
;

49 
	g¡d
::
m­
<, std::
veùÜ
<
PÏtoÚ
>> 
¶©oÚs
;

51 
	g¡d
::
veùÜ
<> 
Ëngths
;

53 
	gl
 = 0;† < 
	gnLªes
;†++) {

54 
	g¶©oÚs
[
l
] = 
¡d
::
veùÜ
<
PÏtoÚ
>();

55 
	gËngths
.
push_back
(0);

62 
	gl
 = 0;

63 
	gp
 = 0;… < 
	gnPÏtoÚs
;…++) {

64 
PÏtoÚ
 
	g¶©oÚ
;

66 
	g¶©oÚ
.
	gsize
 = *
¶©oÚSize
;

68 
	g¶©oÚ
.
	g¥“d
 = 
¶©oÚIn£¹S³ed
->
doubËV®ue
() / 3.6;

70 
	g¶©oÚ
.
	gdi¡ªûToFrÚt
 = 
¶©oÚL—d”H—dway
 * 
¶©oÚ
.
¥“d
;

72 
	g¶©oÚ
.
	gËngth
 = 
¶©oÚ
.
size
 * 4 + (¶©oÚ.siz- 1è* (
¶©oÚIn£¹Di¡ªû
 + 
¶©oÚIn£¹H—dway
 *…ÏtoÚ.
¥“d
);

74 
	gËngths
[
l
] +ğ
¶©oÚ
.
Ëngth
 +…ÏtoÚ.
di¡ªûToFrÚt
;

75 
	g¶©oÚs
.
fšd
(
l
)->
	g£cÚd
.
push_back
(
¶©oÚ
);

77 
	gl
 = (
l
 + 1è% 
nLªes
;

81 
	gtÙ®L’gth
;

82 
	gl
 = 0;† < 
	gnLªes
;†++) {

83 
	gtÙ®L’gth
 = 
Ëngths
[
l
];

84 
	g¡d
::
veùÜ
<
PÏtoÚ
> 
ps
 = 
¶©oÚs
.
fšd
(
l
)->
£cÚd
;

85 
	gp
 = 0;… < 
	gps
.
size
();…++) {

86 
	gautom©ed
.
	gid
 = 
vehTy³Id
;

87 
	gautom©ed
.
	g¥“d
 = 
ps
[
p
].
¥“d
;

88 
	gtÙ®L’gth
 -ğ
¶©oÚL—d”H—dway
 * 
ps
[
p
].
¥“d
;

89 
	gv
 = 0; v < 
	gps
[
p
].
	gsize
; v++) {

90 
	gautom©ed
.
	gpos™iÚ
 = 
tÙ®L’gth
;

91 
	gautom©ed
.
	gÏÃ
 = 
l
;

92 
addVehişeToQueue
(0, 
autom©ed
);

93 
	gpos™iÚs
.
addVehişeToPÏtoÚ
(
šjeùedC¬s
, 
v
, 
šjeùedPÏtoÚs
);

94 
	gšjeùedC¬s
++;

95 ià(
	gv
 < 
	gps
[
p
].
	gsize
 - 1)

96 
	gtÙ®L’gth
 -ğ(4 + 
¶©oÚIn£¹Di¡ªû
 + 
¶©oÚIn£¹H—dway
 * 
autom©ed
.
¥“d
);

98 
	gtÙ®L’gth
 -= 4;

100 
	gšjeùedPÏtoÚs
++;

	@traffic/RingTrafficManager.h

21 #iâdeà
RINGTRAFFICMANAGER_H_


22 
	#RINGTRAFFICMANAGER_H_


	)

24 
	~"¶exe/mob™y/T¿CIBa£T¿fficMªag”.h
"

26 
	~"¶exe/ut™›s/DyÇmicPos™iÚMªag”.h
"

28 
Çme¥aû
 
	g¶exe
 {

30 şas 
	cRšgT¿fficMªag”
 : 
public
 
T¿CIBa£T¿fficMªag”
 {

32 
public
:

33 
vœtu®
 
š™Ÿlize
(
¡age
);

34 
vœtu®
 
sûÇrioLßded
();

36 
RšgT¿fficMªag”
()

37 : 
¶©oÚSize
(0)

38 , 
nPÏtoÚs
(0)

39 , 
šjeùedC¬s
(0)

40 , 
šjeùedPÏtoÚs
(0)

42 
	g¶©oÚIn£¹Di¡ªû
 = 0;

43 
	g¶©oÚIn£¹H—dway
 = 0;

44 
	g¶©oÚIn£¹S³ed
 = 0;

45 
	g¶©oÚL—d”H—dway
 = 0;

46 
	gnLªes
 = 0;

49 
	g´Ùeùed
:

50 
cP¬
* 
¶©oÚSize
;

51 
	gnPÏtoÚs
;

52 
	gšjeùedC¬s
;

53 
	gšjeùedPÏtoÚs
;

55 
	gnLªes
;

57 
	g¶©oÚIn£¹Di¡ªû
;

59 
	g¶©oÚIn£¹H—dway
;

61 
	g¶©oÚL—d”H—dway
;

63 
	g¡d
::
¡ršg
 
¶©oÚšgVTy³
;

64 
cP¬
* 
	g¶©oÚIn£¹S³ed
;

67 
	gsize
;

68 
	g¥“d
;

69 
	gËngth
;

70 
	gdi¡ªûToFrÚt
;

71 } 
	tPÏtoÚ
;

	@utilities/BasePositionHelper.cc

21 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

23 
	~<io¡»am
>

25 
usšg
 
Çme¥aû
 
	gvešs
;

27 
Çme¥aû
 
	g¶exe
 {

29 
	gvešs
::
T¿CICŞÜ
 
PÏtoÚIdToCŞÜ
[] = {

30 
vešs
::
T¿CICŞÜ
(234, 85, 70, 255),

31 
vešs
::
T¿CICŞÜ
(163, 99, 216, 255),

32 
vešs
::
T¿CICŞÜ
(249, 162, 40, 255),

33 
vešs
::
T¿CICŞÜ
(254, 204, 47, 255),

34 
vešs
::
T¿CICŞÜ
(64, 164, 216, 255),

35 
vešs
::
T¿CICŞÜ
(178, 194, 37, 255),

36 
vešs
::
T¿CICŞÜ
(51, 190, 184, 255),

37 
vešs
::
T¿CICŞÜ
(107, 192, 120, 255)};

39 
Defše_ModuË
(
Ba£Pos™iÚH–³r
);

41 
	gBa£Pos™iÚH–³r
::
š™Ÿlize
(
¡age
)

44 
cSim¶eModuË
::
š™Ÿlize
(
¡age
);

46 ià(
	g¡age
 == 0) {

47 
mob™y
 = 
vešs
::
T¿CIMob™yAcûss
().
g‘
(
g‘P¬’tModuË
());

48 
	gŒaci
 = 
mob™y
->
g‘CommªdIÁ”çû
();

49 
	gŒaciVehişe
 = 
mob™y
->
g‘VehişeCommªdIÁ”çû
();

50 
	gmyId
 = 
g‘IdFromEx‹º®Id
(
g‘Ex‹º®Id
());

53 ià(
	g¡age
 == 1) {

54 
fÜm©iÚ
 = 
pos™iÚs
.
g‘PÏtoÚFÜm©iÚ
(
myId
);

55 
	gpos™iÚ
 = 
pos™iÚs
.
g‘Pos™iÚ
(
myId
);

56 
	g¶©oÚId
 = 
pos™iÚs
.
g‘PÏtoÚId
(
myId
);

57 
PÏtoÚInfo
 
	gšfo
 = 
pos™iÚs
.
g‘PÏtoÚInfÜm©iÚ
(
¶©oÚId
);

58 
	g¶©oÚS³ed
 = 
šfo
.
¥“d
;

59 
	g¶©oÚLªe
 = 
šfo
.
ÏÃ
;

60 
£tV¬ŸbËsAá”FÜm©iÚChªge
();

64 
	gBa£Pos™iÚH–³r
::
g‘IdFromEx‹º®Id
(cÚ¡ 
¡d
::
¡ršg
 
ex‹º®Id
)

66 
dÙIndex
 = 
ex‹º®Id
.
fšd_Ï¡_of
('.');

67 
	g¡d
::
¡ršg
 
¡rId
 = 
ex‹º®Id
.
sub¡r
(
dÙIndex
 + 1);

68  
¡¹Ş
(
¡rId
.
c_¡r
(), 0, 10);

71 
	gBa£Pos™iÚH–³r
::
numIn™Sges
() const

76 
	gBa£Pos™iÚH–³r
::
£tV¬ŸbËsAá”FÜm©iÚChªge
()

78 
memb”ToPos™iÚ
.
ş—r
();

79 
	gi
 = 0; i < 
	gfÜm©iÚ
.
size
(); i++)

80 
	gmemb”ToPos™iÚ
[
fÜm©iÚ
[
i
]] = i;

81 
	gpos™iÚ
 = 
g‘Memb”Pos™iÚ
(
myId
);

82 
	gËad”Id
 = 
fÜm©iÚ
[0];

83 
	gäÚtId
 = 
isL—d”
(è? -1 : 
fÜm©iÚ
[
pos™iÚ
 - 1];

84 
	gbackId
 = 
isLa¡
(è? -1 : 
fÜm©iÚ
[
pos™iÚ
 + 1];

85 
cŞÜVehişe
();

88 
	gBa£Pos™iÚH–³r
::
cŞÜVehişe
()

90 ià(
¶©oÚId
 == -1)

91 
ŒaciVehişe
->
£tCŞÜ
(
vešs
::
T¿CICŞÜ
::
äomTkCŞÜ
("white"));

93 
	gŒaciVehişe
->
£tCŞÜ
(
PÏtoÚIdToCŞÜ
[
¶©oÚId
 % ((PlatoonIdToColor) / (*PlatoonIdToColor))]);

96 
	g¡d
::
¡ršg
 
Ba£Pos™iÚH–³r
::
g‘Ex‹º®Id
() const

98  
mob™y
->
g‘Ex‹º®Id
();

101 
	gBa£Pos™iÚH–³r
::
g‘Id
() const

103  
myId
;

106 
	gBa£Pos™iÚH–³r
::
g‘Pos™iÚ
() const

108  
pos™iÚ
;

111 
	gBa£Pos™iÚH–³r
::
g‘L—d”Id
() const

113  
Ëad”Id
;

116 
boŞ
 
	gBa£Pos™iÚH–³r
::
isL—d”
() const

118  
g‘L—d”Id
(è=ğ
myId
;

121 
boŞ
 
	gBa£Pos™iÚH–³r
::
isLa¡
() const

123  
pos™iÚ
 =ğ
fÜm©iÚ
.
size
() - 1;

126 
	gBa£Pos™iÚH–³r
::
g‘FrÚtId
() const

128 ià(
isL—d”
())

131  
	gäÚtId
;

134 
	gBa£Pos™iÚH–³r
::
g‘BackId
() const

136  
backId
;

139 
	gBa£Pos™iÚH–³r
::
g‘Memb”Id
(cÚ¡ 
pos™iÚ
) const

141 ià(
pos™iÚ
 < 
fÜm©iÚ
.
size
())

142  
fÜm©iÚ
[
pos™iÚ
];

147 
	gBa£Pos™iÚH–³r
::
g‘Memb”Pos™iÚ
(cÚ¡ 
vehişeId
) const

149 autØ
i
 = 
memb”ToPos™iÚ
.
fšd
(
vehişeId
);

150 ià(
	gi
 =ğ
memb”ToPos™iÚ
.
’d
())

153  
	gi
->
	g£cÚd
;

156 
	gBa£Pos™iÚH–³r
::
g‘PÏtoÚId
() const

158  
¶©oÚId
;

161 
	gBa£Pos™iÚH–³r
::
g‘PÏtoÚLªe
() const

163  
¶©oÚLªe
;

166 
	gBa£Pos™iÚH–³r
::
g‘PÏtoÚS³ed
() const

168  
¶©oÚS³ed
;

171 
boŞ
 
	gBa£Pos™iÚH–³r
::
isInSamePÏtoÚ
(cÚ¡ 
vehişeId
) const

173  
g‘Memb”Pos™iÚ
(
vehişeId
) != -1;

176 
	gBa£Pos™iÚH–³r
::
g‘PÏtoÚSize
() const

178  
fÜm©iÚ
.
size
();

181 
	gBa£Pos™iÚH–³r
::
£tId
(cÚ¡ 
id
)

183 
myId
 = 
id
;

186 
	gBa£Pos™iÚH–³r
::
£tPÏtoÚId
(cÚ¡ 
id
)

188 
¶©oÚId
 = 
id
;

189 
cŞÜVehişe
();

192 
	gBa£Pos™iÚH–³r
::
£tPÏtoÚLªe
(cÚ¡ 
ÏÃ
)

194 
¶©oÚLªe
 = 
ÏÃ
;

197 
	gBa£Pos™iÚH–³r
::
£tPÏtoÚS³ed
(
¥“d
)

199 
¶©oÚS³ed
 = 
¥“d
;

202 cÚ¡ 
	g¡d
::
veùÜ
<>& 
Ba£Pos™iÚH–³r
::
g‘PÏtoÚFÜm©iÚ
() const

204  
fÜm©iÚ
;

207 
	gBa£Pos™iÚH–³r
::
£tPÏtoÚFÜm©iÚ
(cÚ¡ 
¡d
::
veùÜ
<>& 
fÜm©iÚ
)

209 
this
->
fÜm©iÚ
 = formation;

210 
£tV¬ŸbËsAá”FÜm©iÚChªge
();

213 
	gBa£Pos™iÚH–³r
::
dumpVehişeD©a
() const

215 
¡d
::
cout
 << "VehişID: " << 
myId
 << "\n";

216 
	g¡d
::
cout
 << "\tPÏtoÚ ID : " << 
¶©oÚId
 << "\n";

217 
	g¡d
::
cout
 << "\tL—d” ID : " << 
Ëad”Id
 << "\n";

218 
	g¡d
::
cout
 << "\tFrÚˆID : " << 
äÚtId
 << "\n";

219 
	g¡d
::
cout
 << "\tBack ID : " << 
backId
 << "\n";

220 
	g¡d
::
cout
 << "\tPÏtoÚ s³ed : " << 
¶©oÚS³ed
 << " (m/s)\n";

221 
	g¡d
::
cout
 << "\tPÏtoÚ†ª : " << 
¶©oÚLªe
 << "\n";

222 
	g¡d
::
cout
 << "\tPÏtoÚ siz : " << 
fÜm©iÚ
.
size
() << "\n";

223 
	g¡d
::
cout
 << "\tStored formation: ";

224 auto& 
	gv
 : 
fÜm©iÚ
)

225 
¡d
::
cout
 << 
v
 << " ";

226 
	g¡d
::
cout
 << "\n";

	@utilities/BasePositionHelper.h

21 #iâdeà
BASEPOSITIONHELPER_H_


22 
	#BASEPOSITIONHELPER_H_


	)

24 
	~"¶exe/ut™›s/DyÇmicPos™iÚMªag”.h
"

25 
	~<¡ršg
>

26 
	~"vešs/moduËs/mob™y/Œaci/T¿CIMob™y.h
"

28 
	#INVALID_PLATOON_ID
 -99

	)

30 
Çme¥aû
 
	g¶exe
 {

32 şas 
	cBa£Pos™iÚH–³r
 : 
public
 
cSim¶eModuË
 {

34 
public
:

35 
vœtu®
 
š™Ÿlize
(
¡age
è
ov”ride
;

36 
vœtu®
 
numIn™Sges
(ècÚ¡ 
	gov”ride
;

41 
	g¡d
::
¡ršg
 
g‘Ex‹º®Id
() const;

46 
g‘IdFromEx‹º®Id
(cÚ¡ 
¡d
::
¡ršg
 
ex‹º®Id
);

51 
vœtu®
 
g‘Id
() const;

56 
vœtu®
 
g‘Pos™iÚ
() const;

61 
vœtu®
 
g‘Memb”Id
(
pos™iÚ
) const;

66 
vœtu®
 
g‘Memb”Pos™iÚ
(
vehişeId
) const;

71 
vœtu®
 
g‘L—d”Id
() const;

76 
vœtu®
 
boŞ
 
isL—d”
() const;

81 
vœtu®
 
boŞ
 
isLa¡
() const;

86 
vœtu®
 
g‘FrÚtId
() const;

91 
vœtu®
 
g‘BackId
() const;

96 
vœtu®
 
g‘PÏtoÚId
() const;

101 
vœtu®
 
g‘PÏtoÚLªe
() const;

106 
vœtu®
 
g‘PÏtoÚS³ed
() const;

111 
vœtu®
 
boŞ
 
isInSamePÏtoÚ
(
vehişeId
) const;

116 
vœtu®
 
g‘PÏtoÚSize
() const;

121 
vœtu®
 
£tId
(
id
);

126 
vœtu®
 
£tPÏtoÚId
(
id
);

131 
vœtu®
 
£tPÏtoÚLªe
(
ÏÃ
);

136 
vœtu®
 
£tPÏtoÚS³ed
(
¥“d
);

141 
vœtu®
 cÚ¡ 
	g¡d
::
veùÜ
<>& 
g‘PÏtoÚFÜm©iÚ
() const;

146 
vœtu®
 
£tPÏtoÚFÜm©iÚ
(cÚ¡ 
¡d
::
veùÜ
<>& 
fÜm©iÚ
);

151 
vœtu®
 
dumpVehişeD©a
() const;

153 
	g´Ùeùed
:

154 
vešs
::
T¿CIMob™y
* 
mob™y
;

155 
	gvešs
::
T¿CICommªdIÁ”çû
* 
Œaci
;

156 
	gvešs
::
T¿CICommªdIÁ”çû
::
Vehişe
* 
ŒaciVehişe
;

159 
	gmyId
;

161 
	gËad”Id
;

163 
	gäÚtId
;

165 
	gbackId
;

167 
	gpos™iÚ
;

169 
	g¶©oÚId
;

171 
	g¶©oÚLªe
;

173 
	g¶©oÚS³ed
;

178 
	g¡d
::
veùÜ
<> 
fÜm©iÚ
;

183 
	g¡d
::
m­
<, > 
	gmemb”ToPos™iÚ
;

186 
	gDyÇmicPos™iÚMªag”
& 
	gpos™iÚs
;

188 
vœtu®
 
£tV¬ŸbËsAá”FÜm©iÚChªge
();

190 
vœtu®
 
cŞÜVehişe
();

192 
	gpublic
:

193 
Ba£Pos™iÚH–³r
()

194 : 
mob™y
(
nuÎ±r
)

195 , 
Œaci
(
nuÎ±r
)

196 , 
ŒaciVehişe
(
nuÎ±r
)

197 , 
myId
(
INVALID_PLATOON_ID
)

198 , 
Ëad”Id
(
INVALID_PLATOON_ID
)

199 , 
äÚtId
(
INVALID_PLATOON_ID
)

200 , 
backId
(
INVALID_PLATOON_ID
)

201 , 
pos™iÚ
(-1)

202 , 
¶©oÚId
(
INVALID_PLATOON_ID
)

203 , 
¶©oÚLªe
(-1)

204 , 
¶©oÚS³ed
(-1)

205 , 
pos™iÚs
(
DyÇmicPos™iÚMªag”
::
g‘In¡ªû
())

	@utilities/DynamicPositionManager.cc

21 
	~"¶exe/ut™›s/DyÇmicPos™iÚMªag”.h
"

23 
	~<®gÜ™hm
>

24 
	~<io¡»am
>

26 
Çme¥aû
 
	g¶exe
 {

28 
	gDyÇmicPos™iÚMªag”
& DyÇmicPos™iÚMªag”::
g‘In¡ªû
()

30 
DyÇmicPos™iÚMªag”
 
š¡ªû
;

31  
	gš¡ªû
;

34 
	gDyÇmicPos™iÚMªag”
::
addVehişeToPÏtoÚ
(cÚ¡ 
vehişeId
, cÚ¡ 
pos™iÚ
, cÚ¡ 
¶©oÚId
)

36 
	g¶©oÚs
[
¶©oÚId
][
pos™iÚ
] = 
vehişeId
;

37 
	gpos™iÚs
[
¶©oÚId
][
vehişeId
] = 
pos™iÚ
;

38 
	gvehToPÏtoÚs
[
vehişeId
] = 
¶©oÚId
;

41 
	gDyÇmicPos™iÚMªag”
::
»moveVehişeFromPÏtoÚ
(cÚ¡ 
vehişeId
)

43 autØ
pId
 = 
vehToPÏtoÚs
.
fšd
(
vehişeId
);

44 ià(
	gpId
 !ğ
vehToPÏtoÚs
.
’d
()) {

45 autØ
¶©oÚ
 = 
¶©oÚs
.
fšd
(
pId
->
£cÚd
);

46 
	gsize
 = 
¶©oÚ
->
£cÚd
.
size
();

47 autØ
	gpPos™iÚ
 = 
pos™iÚs
.
fšd
(
pId
->
£cÚd
);

48 
	gpos
 = 
pPos™iÚ
->
£cÚd
.
fšd
(
vehişeId
)->second;

49 
	gi
 = 
pos
; i < 
	gsize
 - 1; i++) {

50 autØ
	gŞdPos
 = 
¶©oÚ
->
£cÚd
.
fšd
(
i
 + 1);

51 
	g¶©oÚs
[
pId
->
£cÚd
][
i
] = 
ŞdPos
->second;

52 
	gpos™iÚs
[
pId
->
£cÚd
][
ŞdPos
->£cÚd] = 
i
;

54 
	g¶©oÚ
->
	g£cÚd
.
”a£
(
¶©oÚ
->
£cÚd
.
fšd
(
size
 - 1));

55 
	gpPos™iÚ
->
	g£cÚd
.
”a£
(
pPos™iÚ
->
£cÚd
.
fšd
(
vehişeId
));

56 
	gvehToPÏtoÚs
.
”a£
(
pId
);

60 
	gDyÇmicPos™iÚMªag”
::
´štPÏtoÚs
()

62 autØ
i
 = 
¶©oÚs
.
begš
(); 
	gi
 !ğ¶©oÚs.
’d
(); i++) {

63 
	g¡d
::
cout
 << "PÏtoÚ " << 
i
->
fœ¡
 << ":\n";

64 autØ
	gj
 = 
i
->
£cÚd
.
begš
(); j !ği->£cÚd.
’d
(); j++) {

65 
	g¡d
::
cout
 << "\tPo " << 
j
->
fœ¡
 << ": " << j->
£cÚd
 << "\n";

68 autØ
	gi
 = 
pos™iÚs
.
begš
(); i !ğpos™iÚs.
’d
(); i++) {

69 
	g¡d
::
cout
 << "PÏtoÚ " << 
i
->
fœ¡
 << ":\n";

70 autØ
	gj
 = 
i
->
£cÚd
.
begš
(); j !ği->£cÚd.
’d
(); j++) {

71 
	g¡d
::
cout
 << "\tVeh " << 
j
->
fœ¡
 << ": " << j->
£cÚd
 << "\n";

74 autØ
	gi
 = 
vehToPÏtoÚs
.
begš
(); i !ğvehToPÏtoÚs.
’d
(); i++) {

75 
	g¡d
::
cout
 << "Veh " << 
i
->
fœ¡
 << ": PÏtoÚ " << i->
£cÚd
 << "\n";

79 
	gDyÇmicPos™iÚMªag”
::
£tPÏtoÚInfÜm©iÚ
(
¶©oÚId
, cÚ¡ 
PÏtoÚInfo
& 
šfo
)

81 
	gšfÜm©iÚ
[
¶©oÚId
] = 
šfo
;

84 
PÏtoÚInfo
 
	gDyÇmicPos™iÚMªag”
::
g‘PÏtoÚInfÜm©iÚ
(
¶©oÚId
) const

86 
PÏtoÚInfo
 
šfo
;

87 
	gšfo
.
	gÏÃ
 = -1;

88 
	gšfo
.
	g¥“d
 = -1;

89 autØ
	gi
 = 
šfÜm©iÚ
.
fšd
(
¶©oÚId
);

90 ià(
	gi
 =ğ
šfÜm©iÚ
.
’d
())

91  
šfo
;

93  
	gi
->
	g£cÚd
;

96 
	gDyÇmicPos™iÚMªag”
::
g‘PÏtoÚId
(
vehişeId
) const

98 autØ
i
 = 
vehToPÏtoÚs
.
fšd
(
vehişeId
);

99 ià(
	gi
 =ğ
vehToPÏtoÚs
.
’d
())  -1;

100 
	g¶©oÚId
 = 
i
->
£cÚd
;

101  
	g¶©oÚId
;

104 
	g¡d
::
veùÜ
<> 
DyÇmicPos™iÚMªag”
::
g‘PÏtoÚFÜm©iÚ
(
vehişeId
) const

106 autØ
m
 = 
¶©oÚs
.
fšd
(
g‘PÏtoÚId
(
vehişeId
))->
£cÚd
;

107 
	g¡d
::
veùÜ
<> 
fÜm©iÚ
;

110 
	gfÜm©iÚ
.
»size
(
m
.
size
());

111 
	g¡d
::
ŒªsfÜm
(
m
.
begš
(), m.
’d
(), 
fÜm©iÚ
.begš(), [](cÚ¡ 
deşty³
(m)::
v®ue_ty³
& 
p
è{ ….
£cÚd
; });

112  
	gfÜm©iÚ
;

115 
	gDyÇmicPos™iÚMªag”
::
g‘Pos™iÚ
(
vehişeId
) const

117 
¶©oÚId
 = 
g‘PÏtoÚId
(
vehişeId
);

118  
	gpos™iÚs
.
fšd
(
¶©oÚId
)->
	g£cÚd
.fšd(
vehişeId
)->second;

121 
	gDyÇmicPos™iÚMªag”
::
g‘Memb”Id
(
¶©oÚId
, 
pos™iÚ
) const

123  
	g¶©oÚs
.
fšd
(
¶©oÚId
)->
	g£cÚd
.fšd(
pos™iÚ
)->second;

	@utilities/DynamicPositionManager.h

21 #iâdeà
DYNAMICPOSITIONMANAGER_H_


22 
	#DYNAMICPOSITIONMANAGER_H_


	)

24 
	~<m­
>

25 
	~<veùÜ
>

27 
Çme¥aû
 
	g¶exe
 {

31 
	g¥“d
;

32 
	gÏÃ
;

33 } 
	tPÏtoÚInfo
;

35 şas 
	cDyÇmicPos™iÚMªag”
 {

38 
	g¡d
::
	tm­
<, > 
	tPÏtoÚ
;

40 
	g¡d
::
	tm­
<, 
	tPÏtoÚ
> 
	tPÏtoÚs
;

42 
	g¡d
::
	tm­
<, > 
	tVehişeToPÏtoÚ
;

44 
	g¡d
::
	tm­
<, > 
	tPos™iÚ
;

46 
	g¡d
::
	tm­
<, 
	tPos™iÚ
> 
	tPos™iÚs
;

48 
	g¡d
::
	tm­
<, 
	tPÏtoÚInfo
> 
	tPÏtoÚInfÜm©iÚ
;

50 
	gpublic
:

51 
addVehişeToPÏtoÚ
(cÚ¡ 
vehişeId
, cÚ¡ 
pos™iÚ
, cÚ¡ 
¶©oÚId
);

52 
»moveVehişeFromPÏtoÚ
(cÚ¡ 
vehişeId
);

53 
»moveVehişeFromPÏtoÚ
(cÚ¡ 
vehişeId
, cÚ¡ 
pos™iÚ
, cÚ¡ 
¶©oÚId
)

55 
»moveVehişeFromPÏtoÚ
(
vehişeId
);

57 
´štPÏtoÚs
();

58 
£tPÏtoÚInfÜm©iÚ
(
¶©oÚId
, cÚ¡ 
PÏtoÚInfo
& 
šfo
);

59 
PÏtoÚInfo
 
g‘PÏtoÚInfÜm©iÚ
(
¶©oÚId
) const;

60 
g‘PÏtoÚId
(
vehişeId
) const;

61 
	g¡d
::
veùÜ
<> 
g‘PÏtoÚFÜm©iÚ
(
vehişeId
) const;

62 
g‘Pos™iÚ
(
vehişeId
) const;

63 
g‘Memb”Id
(
¶©oÚId
, cÚ¡ 
pos™iÚ
) const;

65 
	gDyÇmicPos™iÚMªag”
& 
g‘In¡ªû
();

67 
	g´iv©e
:

68 
DyÇmicPos™iÚMªag”
()

72 
public
:

73 
PÏtoÚs
 
¶©oÚs
;

74 
Pos™iÚs
 
	gpos™iÚs
;

75 
VehişeToPÏtoÚ
 
	gvehToPÏtoÚs
;

76 
PÏtoÚInfÜm©iÚ
 
	gšfÜm©iÚ
;

	@utilities/PositionHelper.cc

21 
	~"¶exe/ut™›s/Pos™iÚH–³r.h
"

23 
Çme¥aû
 
	g¶exe
 {

25 
Defše_ModuË
(
Pos™iÚH–³r
);

	@utilities/PositionHelper.h

21 #iâdeà
POSITIONHELPER_H_


22 
	#POSITIONHELPER_H_


	)

24 
	~"¶exe/ut™›s/Ba£Pos™iÚH–³r.h
"

26 
Çme¥aû
 
	g¶exe
 {

31 şas 
	cPos™iÚH–³r
 : 
public
 
Ba£Pos™iÚH–³r
 {

	@
1
.
0
97
2913
CC_Const.h
PlexeManager.cc
PlexeManager.h
apps/BaseApp.cc
apps/BaseApp.h
apps/DeliberatePlatooningApp.cc
apps/DeliberatePlatooningApp.h
apps/GeneralPlatooningApp.cc
apps/GeneralPlatooningApp.h
apps/SimplePlatooningApp.cc
apps/SimplePlatooningApp.h
driver/PlexeRadioDriverInterface.h
driver/Veins11pRadioDriver.cc
driver/Veins11pRadioDriver.h
maneuver/JoinAtBack.cc
maneuver/JoinAtBack.h
maneuver/JoinManeuver.cc
maneuver/JoinManeuver.h
maneuver/Maneuver.cc
maneuver/Maneuver.h
maneuver/MergeAtBack.cc
maneuver/MergeAtBack.h
messages/InterferingBeacon_m.cc
messages/InterferingBeacon_m.h
messages/JoinFormationAck_m.cc
messages/JoinFormationAck_m.h
messages/JoinFormation_m.cc
messages/JoinFormation_m.h
messages/JoinPlatoonRequest_m.cc
messages/JoinPlatoonRequest_m.h
messages/JoinPlatoonResponse_m.cc
messages/JoinPlatoonResponse_m.h
messages/ManeuverMessage_m.cc
messages/ManeuverMessage_m.h
messages/MergePlatoonRequest_m.cc
messages/MergePlatoonRequest_m.h
messages/MoveToPositionAck_m.cc
messages/MoveToPositionAck_m.h
messages/MoveToPosition_m.cc
messages/MoveToPosition_m.h
messages/PlatooningBeacon_m.cc
messages/PlatooningBeacon_m.h
messages/PlexeInterfaceControlInfo_m.cc
messages/PlexeInterfaceControlInfo_m.h
messages/UpdatePlatoonData_m.cc
messages/UpdatePlatoonData_m.h
messages/UpdatePlatoonFormationAck_m.cc
messages/UpdatePlatoonFormationAck_m.h
messages/UpdatePlatoonFormation_m.cc
messages/UpdatePlatoonFormation_m.h
mobility/CommandInterface.cc
mobility/CommandInterface.h
mobility/SumoTrafficManager.cc
mobility/SumoTrafficManager.h
mobility/TestTrafficManager.cc
mobility/TestTrafficManager.h
mobility/TraCIBaseTrafficManager.cc
mobility/TraCIBaseTrafficManager.h
plexe.h
protocols/BaseProtocol.cc
protocols/BaseProtocol.h
protocols/HumanInterferingProtocol.cc
protocols/HumanInterferingProtocol.h
protocols/SimplePlatooningBeaconing.cc
protocols/SimplePlatooningBeaconing.h
protocols/SlottedBeaconing.cc
protocols/SlottedBeaconing.h
scenarios/AccelerateAndBrakeScenario.cc
scenarios/AccelerateAndBrakeScenario.h
scenarios/AutoLaneChangeScenario.cc
scenarios/AutoLaneChangeScenario.h
scenarios/BaseScenario.cc
scenarios/BaseScenario.h
scenarios/BrakingScenario.cc
scenarios/BrakingScenario.h
scenarios/JoinManeuverScenario.cc
scenarios/JoinManeuverScenario.h
scenarios/MergeManeuverScenario.cc
scenarios/MergeManeuverScenario.h
scenarios/SimpleScenario.cc
scenarios/SimpleScenario.h
scenarios/SinusoidalScenario.cc
scenarios/SinusoidalScenario.h
traffic/JoinTrafficManager.cc
traffic/JoinTrafficManager.h
traffic/PlatoonsPlusHumanTraffic.cc
traffic/PlatoonsPlusHumanTraffic.h
traffic/PlatoonsTrafficManager.cc
traffic/PlatoonsTrafficManager.h
traffic/RingTrafficManager.cc
traffic/RingTrafficManager.h
utilities/BasePositionHelper.cc
utilities/BasePositionHelper.h
utilities/DynamicPositionManager.cc
utilities/DynamicPositionManager.h
utilities/PositionHelper.cc
utilities/PositionHelper.h
